var tL=Object.defineProperty;var nL=(t,e,n)=>e in t?tL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wy=(t,e,n)=>nL(t,typeof e!="symbol"?e+"":e,n);function rL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function us(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dC={exports:{}},ym={},fC={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=Symbol.for("react.element"),iL=Symbol.for("react.portal"),sL=Symbol.for("react.fragment"),aL=Symbol.for("react.strict_mode"),oL=Symbol.for("react.profiler"),lL=Symbol.for("react.provider"),uL=Symbol.for("react.context"),cL=Symbol.for("react.forward_ref"),dL=Symbol.for("react.suspense"),fL=Symbol.for("react.memo"),hL=Symbol.for("react.lazy"),ME=Symbol.iterator;function pL(t){return t===null||typeof t!="object"?null:(t=ME&&t[ME]||t["@@iterator"],typeof t=="function"?t:null)}var hC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pC=Object.assign,mC={};function Kl(t,e,n){this.props=t,this.context=e,this.refs=mC,this.updater=n||hC}Kl.prototype.isReactComponent={};Kl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gC(){}gC.prototype=Kl.prototype;function r1(t,e,n){this.props=t,this.context=e,this.refs=mC,this.updater=n||hC}var i1=r1.prototype=new gC;i1.constructor=r1;pC(i1,Kl.prototype);i1.isPureReactComponent=!0;var DE=Array.isArray,yC=Object.prototype.hasOwnProperty,s1={current:null},vC={key:!0,ref:!0,__self:!0,__source:!0};function xC(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)yC.call(e,r)&&!vC.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:fd,type:t,key:s,ref:a,props:i,_owner:s1.current}}function mL(t,e){return{$$typeof:fd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function a1(t){return typeof t=="object"&&t!==null&&t.$$typeof===fd}function gL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var LE=/\/+/g;function by(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gL(""+t.key):e.toString(36)}function oh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case fd:case iL:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+by(a,0):r,DE(i)?(n="",t!=null&&(n=t.replace(LE,"$&/")+"/"),oh(i,e,n,"",function(u){return u})):i!=null&&(a1(i)&&(i=mL(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(LE,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",DE(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+by(s,o);a+=oh(s,e,n,l,i)}else if(l=pL(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+by(s,o++),a+=oh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function xf(t,e,n){if(t==null)return t;var r=[],i=0;return oh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function yL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bn={current:null},lh={transition:null},vL={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:lh,ReactCurrentOwner:s1};function wC(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:xf,forEach:function(t,e,n){xf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xf(t,function(){e++}),e},toArray:function(t){return xf(t,function(e){return e})||[]},only:function(t){if(!a1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=Kl;Ne.Fragment=sL;Ne.Profiler=oL;Ne.PureComponent=r1;Ne.StrictMode=aL;Ne.Suspense=dL;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vL;Ne.act=wC;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pC({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=s1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)yC.call(e,l)&&!vC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:fd,type:t.type,key:i,ref:s,props:r,_owner:a}};Ne.createContext=function(t){return t={$$typeof:uL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lL,_context:t},t.Consumer=t};Ne.createElement=xC;Ne.createFactory=function(t){var e=xC.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:cL,render:t}};Ne.isValidElement=a1;Ne.lazy=function(t){return{$$typeof:hL,_payload:{_status:-1,_result:t},_init:yL}};Ne.memo=function(t,e){return{$$typeof:fL,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=lh.transition;lh.transition={};try{t()}finally{lh.transition=e}};Ne.unstable_act=wC;Ne.useCallback=function(t,e){return Bn.current.useCallback(t,e)};Ne.useContext=function(t){return Bn.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return Bn.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return Bn.current.useEffect(t,e)};Ne.useId=function(){return Bn.current.useId()};Ne.useImperativeHandle=function(t,e,n){return Bn.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return Bn.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return Bn.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return Bn.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return Bn.current.useReducer(t,e,n)};Ne.useRef=function(t){return Bn.current.useRef(t)};Ne.useState=function(t){return Bn.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return Bn.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return Bn.current.useTransition()};Ne.version="18.3.1";fC.exports=Ne;var v=fC.exports;const o1=us(v),xL=rL({__proto__:null,default:o1},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wL=v,bL=Symbol.for("react.element"),_L=Symbol.for("react.fragment"),EL=Object.prototype.hasOwnProperty,SL=wL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TL={key:!0,ref:!0,__self:!0,__source:!0};function bC(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)EL.call(e,r)&&!TL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:bL,type:t,key:s,ref:a,props:i,_owner:SL.current}}ym.Fragment=_L;ym.jsx=bC;ym.jsxs=bC;dC.exports=ym;var h=dC.exports,Ov={},_C={exports:{}},gr={},EC={exports:{}},SC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,L){var H=D.length;D.push(L);e:for(;0<H;){var q=H-1>>>1,Q=D[q];if(0<i(Q,L))D[q]=L,D[H]=Q,H=q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var L=D[0],H=D.pop();if(H!==L){D[0]=H;e:for(var q=0,Q=D.length,ie=Q>>>1;q<ie;){var ae=2*(q+1)-1,he=D[ae],ge=ae+1,we=D[ge];if(0>i(he,H))ge<Q&&0>i(we,he)?(D[q]=we,D[ge]=H,q=ge):(D[q]=he,D[ae]=H,q=ae);else if(ge<Q&&0>i(we,H))D[q]=we,D[ge]=H,q=ge;else break e}}return L}function i(D,L){var H=D.sortIndex-L.sortIndex;return H!==0?H:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=D)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function C(D){if(w=!1,S(D),!g)if(n(l)!==null)g=!0,$(k);else{var L=n(u);L!==null&&F(C,L.startTime-D)}}function k(D,L){g=!1,w&&(w=!1,x(T),T=-1),m=!0;var H=p;try{for(S(L),d=n(l);d!==null&&(!(d.expirationTime>L)||D&&!P());){var q=d.callback;if(typeof q=="function"){d.callback=null,p=d.priorityLevel;var Q=q(d.expirationTime<=L);L=t.unstable_now(),typeof Q=="function"?d.callback=Q:d===n(l)&&r(l),S(L)}else r(l);d=n(l)}if(d!==null)var ie=!0;else{var ae=n(u);ae!==null&&F(C,ae.startTime-L),ie=!1}return ie}finally{d=null,p=H,m=!1}}var O=!1,A=null,T=-1,I=5,N=-1;function P(){return!(t.unstable_now()-N<I)}function R(){if(A!==null){var D=t.unstable_now();N=D;var L=!0;try{L=A(!0,D)}finally{L?j():(O=!1,A=null)}}else O=!1}var j;if(typeof _=="function")j=function(){_(R)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ne=re.port2;re.port1.onmessage=R,j=function(){ne.postMessage(null)}}else j=function(){b(R,0)};function $(D){A=D,O||(O=!0,j())}function F(D,L){T=b(function(){D(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,$(k))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var H=p;p=L;try{return D()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=p;p=D;try{return L()}finally{p=H}},t.unstable_scheduleCallback=function(D,L,H){var q=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?q+H:q):H=q,D){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,D={id:c++,callback:L,priorityLevel:D,startTime:H,expirationTime:Q,sortIndex:-1},H>q?(D.sortIndex=H,e(u,D),n(l)===null&&D===n(u)&&(w?(x(T),T=-1):w=!0,F(C,H-q))):(D.sortIndex=Q,e(l,D),g||m||(g=!0,$(k))),D},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(D){var L=p;return function(){var H=p;p=L;try{return D.apply(this,arguments)}finally{p=H}}}})(SC);EC.exports=SC;var AL=EC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IL=v,hr=AL;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TC=new Set,bc={};function xo(t,e){wl(t,e),wl(t+"Capture",e)}function wl(t,e){for(bc[t]=e,t=0;t<e.length;t++)TC.add(e[t])}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jv=Object.prototype.hasOwnProperty,PL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VE={},$E={};function CL(t){return jv.call($E,t)?!0:jv.call(VE,t)?!1:PL.test(t)?$E[t]=!0:(VE[t]=!0,!1)}function kL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NL(t,e,n,r){if(e===null||typeof e>"u"||kL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vn[t]=new Wn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vn[e]=new Wn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vn[t]=new Wn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vn[t]=new Wn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vn[t]=new Wn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vn[t]=new Wn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vn[t]=new Wn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vn[t]=new Wn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vn[t]=new Wn(t,5,!1,t.toLowerCase(),null,!1,!1)});var l1=/[\-:]([a-z])/g;function u1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(l1,u1);vn[e]=new Wn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(l1,u1);vn[e]=new Wn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(l1,u1);vn[e]=new Wn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vn[t]=new Wn(t,1,!1,t.toLowerCase(),null,!1,!1)});vn.xlinkHref=new Wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vn[t]=new Wn(t,1,!1,t.toLowerCase(),null,!0,!0)});function c1(t,e,n,r){var i=vn.hasOwnProperty(e)?vn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NL(e,n,i,r)&&(n=null),r||i===null?CL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cs=IL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wf=Symbol.for("react.element"),qo=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),d1=Symbol.for("react.strict_mode"),Rv=Symbol.for("react.profiler"),AC=Symbol.for("react.provider"),IC=Symbol.for("react.context"),f1=Symbol.for("react.forward_ref"),Mv=Symbol.for("react.suspense"),Dv=Symbol.for("react.suspense_list"),h1=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),PC=Symbol.for("react.offscreen"),FE=Symbol.iterator;function Tu(t){return t===null||typeof t!="object"?null:(t=FE&&t[FE]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,_y;function Bu(t){if(_y===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_y=e&&e[1]||""}return`
`+_y+t}var Ey=!1;function Sy(t,e){if(!t||Ey)return"";Ey=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ey=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bu(t):""}function OL(t){switch(t.tag){case 5:return Bu(t.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return t=Sy(t.type,!1),t;case 11:return t=Sy(t.type.render,!1),t;case 1:return t=Sy(t.type,!0),t;default:return""}}function Lv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Go:return"Fragment";case qo:return"Portal";case Rv:return"Profiler";case d1:return"StrictMode";case Mv:return"Suspense";case Dv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IC:return(t.displayName||"Context")+".Consumer";case AC:return(t._context.displayName||"Context")+".Provider";case f1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case h1:return e=t.displayName||null,e!==null?e:Lv(t.type)||"Memo";case Ts:e=t._payload,t=t._init;try{return Lv(t(e))}catch{}}return null}function jL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lv(e);case 8:return e===d1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RL(t){var e=CC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bf(t){t._valueTracker||(t._valueTracker=RL(t))}function kC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=CC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vv(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NC(t,e){e=e.checked,e!=null&&c1(t,"checked",e,!1)}function $v(t,e){NC(t,e);var n=Zs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fv(t,e.type,Zs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fv(t,e,n){(e!=="number"||Rh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wu=Array.isArray;function ol(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function BE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(Wu(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zs(n)}}function OC(t,e){var n=Zs(e.value),r=Zs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function WE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _f,RC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_f=_f||document.createElement("div"),_f.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_f.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _c(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ML=["Webkit","ms","Moz","O"];Object.keys(Zu).forEach(function(t){ML.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zu[e]=Zu[t]})});function MC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zu.hasOwnProperty(t)&&Zu[t]?(""+e).trim():e+"px"}function DC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=MC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var DL=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bv(t,e){if(e){if(DL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Wv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hv=null;function p1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kv=null,ll=null,ul=null;function HE(t){if(t=md(t)){if(typeof Kv!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=_m(e),Kv(t.stateNode,t.type,e))}}function LC(t){ll?ul?ul.push(t):ul=[t]:ll=t}function VC(){if(ll){var t=ll,e=ul;if(ul=ll=null,HE(t),e)for(t=0;t<e.length;t++)HE(e[t])}}function $C(t,e){return t(e)}function FC(){}var Ty=!1;function zC(t,e,n){if(Ty)return t(e,n);Ty=!0;try{return $C(t,e,n)}finally{Ty=!1,(ll!==null||ul!==null)&&(FC(),VC())}}function Ec(t,e){var n=t.stateNode;if(n===null)return null;var r=_m(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var qv=!1;if(Gi)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){qv=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{qv=!1}function LL(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ec=!1,Mh=null,Dh=!1,Gv=null,VL={onError:function(t){ec=!0,Mh=t}};function $L(t,e,n,r,i,s,a,o,l){ec=!1,Mh=null,LL.apply(VL,arguments)}function FL(t,e,n,r,i,s,a,o,l){if($L.apply(this,arguments),ec){if(ec){var u=Mh;ec=!1,Mh=null}else throw Error(Z(198));Dh||(Dh=!0,Gv=u)}}function wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function KE(t){if(wo(t)!==t)throw Error(Z(188))}function zL(t){var e=t.alternate;if(!e){if(e=wo(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return KE(i),t;if(s===r)return KE(i),e;s=s.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function BC(t){return t=zL(t),t!==null?WC(t):null}function WC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=WC(t);if(e!==null)return e;t=t.sibling}return null}var HC=hr.unstable_scheduleCallback,qE=hr.unstable_cancelCallback,UL=hr.unstable_shouldYield,BL=hr.unstable_requestPaint,Ot=hr.unstable_now,WL=hr.unstable_getCurrentPriorityLevel,m1=hr.unstable_ImmediatePriority,KC=hr.unstable_UserBlockingPriority,Lh=hr.unstable_NormalPriority,HL=hr.unstable_LowPriority,qC=hr.unstable_IdlePriority,vm=null,di=null;function KL(t){if(di&&typeof di.onCommitFiberRoot=="function")try{di.onCommitFiberRoot(vm,t,void 0,(t.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:YL,qL=Math.log,GL=Math.LN2;function YL(t){return t>>>=0,t===0?32:31-(qL(t)/GL|0)|0}var Ef=64,Sf=4194304;function Hu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Hu(o):(s&=a,s!==0&&(r=Hu(s)))}else a=n&~i,a!==0?r=Hu(a):s!==0&&(r=Hu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gr(e),i=1<<n,r|=t[n],e&=~i;return r}function QL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Gr(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=QL(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Yv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function GC(){var t=Ef;return Ef<<=1,!(Ef&4194240)&&(Ef=64),t}function Ay(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gr(e),t[e]=n}function JL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Gr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function g1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ge=0;function YC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var QC,y1,XC,JC,ZC,Qv=!1,Tf=[],$s=null,Fs=null,zs=null,Sc=new Map,Tc=new Map,Cs=[],ZL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GE(t,e){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Sc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(e.pointerId)}}function Iu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=md(e),e!==null&&y1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function e6(t,e,n,r,i){switch(e){case"focusin":return $s=Iu($s,t,e,n,r,i),!0;case"dragenter":return Fs=Iu(Fs,t,e,n,r,i),!0;case"mouseover":return zs=Iu(zs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sc.set(s,Iu(Sc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tc.set(s,Iu(Tc.get(s)||null,t,e,n,r,i)),!0}return!1}function ek(t){var e=Ra(t.target);if(e!==null){var n=wo(e);if(n!==null){if(e=n.tag,e===13){if(e=UC(n),e!==null){t.blockedOn=e,ZC(t.priority,function(){XC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hv=r,n.target.dispatchEvent(r),Hv=null}else return e=md(n),e!==null&&y1(e),t.blockedOn=n,!1;e.shift()}return!0}function YE(t,e,n){uh(t)&&n.delete(e)}function t6(){Qv=!1,$s!==null&&uh($s)&&($s=null),Fs!==null&&uh(Fs)&&(Fs=null),zs!==null&&uh(zs)&&(zs=null),Sc.forEach(YE),Tc.forEach(YE)}function Pu(t,e){t.blockedOn===e&&(t.blockedOn=null,Qv||(Qv=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,t6)))}function Ac(t){function e(i){return Pu(i,t)}if(0<Tf.length){Pu(Tf[0],t);for(var n=1;n<Tf.length;n++){var r=Tf[n];r.blockedOn===t&&(r.blockedOn=null)}}for($s!==null&&Pu($s,t),Fs!==null&&Pu(Fs,t),zs!==null&&Pu(zs,t),Sc.forEach(e),Tc.forEach(e),n=0;n<Cs.length;n++)r=Cs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cs.length&&(n=Cs[0],n.blockedOn===null);)ek(n),n.blockedOn===null&&Cs.shift()}var cl=cs.ReactCurrentBatchConfig,$h=!0;function n6(t,e,n,r){var i=Ge,s=cl.transition;cl.transition=null;try{Ge=1,v1(t,e,n,r)}finally{Ge=i,cl.transition=s}}function r6(t,e,n,r){var i=Ge,s=cl.transition;cl.transition=null;try{Ge=4,v1(t,e,n,r)}finally{Ge=i,cl.transition=s}}function v1(t,e,n,r){if($h){var i=Xv(t,e,n,r);if(i===null)Dy(t,e,r,Fh,n),GE(t,r);else if(e6(i,t,e,n,r))r.stopPropagation();else if(GE(t,r),e&4&&-1<ZL.indexOf(t)){for(;i!==null;){var s=md(i);if(s!==null&&QC(s),s=Xv(t,e,n,r),s===null&&Dy(t,e,r,Fh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Dy(t,e,r,null,n)}}var Fh=null;function Xv(t,e,n,r){if(Fh=null,t=p1(r),t=Ra(t),t!==null)if(e=wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fh=t,null}function tk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WL()){case m1:return 1;case KC:return 4;case Lh:case HL:return 16;case qC:return 536870912;default:return 16}default:return 16}}var Ms=null,x1=null,ch=null;function nk(){if(ch)return ch;var t,e=x1,n=e.length,r,i="value"in Ms?Ms.value:Ms.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return ch=i.slice(t,1<r?1-r:void 0)}function dh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Af(){return!0}function QE(){return!1}function yr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Af:QE,this.isPropagationStopped=QE,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Af)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Af)},persist:function(){},isPersistent:Af}),e}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},w1=yr(ql),pd=bt({},ql,{view:0,detail:0}),i6=yr(pd),Iy,Py,Cu,xm=bt({},pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:b1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cu&&(Cu&&t.type==="mousemove"?(Iy=t.screenX-Cu.screenX,Py=t.screenY-Cu.screenY):Py=Iy=0,Cu=t),Iy)},movementY:function(t){return"movementY"in t?t.movementY:Py}}),XE=yr(xm),s6=bt({},xm,{dataTransfer:0}),a6=yr(s6),o6=bt({},pd,{relatedTarget:0}),Cy=yr(o6),l6=bt({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),u6=yr(l6),c6=bt({},ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),d6=yr(c6),f6=bt({},ql,{data:0}),JE=yr(f6),h6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=m6[t])?!!e[t]:!1}function b1(){return g6}var y6=bt({},pd,{key:function(t){if(t.key){var e=h6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?p6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:b1,charCode:function(t){return t.type==="keypress"?dh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),v6=yr(y6),x6=bt({},xm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZE=yr(x6),w6=bt({},pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:b1}),b6=yr(w6),_6=bt({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),E6=yr(_6),S6=bt({},xm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T6=yr(S6),A6=[9,13,27,32],_1=Gi&&"CompositionEvent"in window,tc=null;Gi&&"documentMode"in document&&(tc=document.documentMode);var I6=Gi&&"TextEvent"in window&&!tc,rk=Gi&&(!_1||tc&&8<tc&&11>=tc),eS=" ",tS=!1;function ik(t,e){switch(t){case"keyup":return A6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yo=!1;function P6(t,e){switch(t){case"compositionend":return sk(e);case"keypress":return e.which!==32?null:(tS=!0,eS);case"textInput":return t=e.data,t===eS&&tS?null:t;default:return null}}function C6(t,e){if(Yo)return t==="compositionend"||!_1&&ik(t,e)?(t=nk(),ch=x1=Ms=null,Yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rk&&e.locale!=="ko"?null:e.data;default:return null}}var k6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k6[t.type]:e==="textarea"}function ak(t,e,n,r){LC(r),e=zh(e,"onChange"),0<e.length&&(n=new w1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nc=null,Ic=null;function N6(t){yk(t,0)}function wm(t){var e=Jo(t);if(kC(e))return t}function O6(t,e){if(t==="change")return e}var ok=!1;if(Gi){var ky;if(Gi){var Ny="oninput"in document;if(!Ny){var rS=document.createElement("div");rS.setAttribute("oninput","return;"),Ny=typeof rS.oninput=="function"}ky=Ny}else ky=!1;ok=ky&&(!document.documentMode||9<document.documentMode)}function iS(){nc&&(nc.detachEvent("onpropertychange",lk),Ic=nc=null)}function lk(t){if(t.propertyName==="value"&&wm(Ic)){var e=[];ak(e,Ic,t,p1(t)),zC(N6,e)}}function j6(t,e,n){t==="focusin"?(iS(),nc=e,Ic=n,nc.attachEvent("onpropertychange",lk)):t==="focusout"&&iS()}function R6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wm(Ic)}function M6(t,e){if(t==="click")return wm(e)}function D6(t,e){if(t==="input"||t==="change")return wm(e)}function L6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ei=typeof Object.is=="function"?Object.is:L6;function Pc(t,e){if(ei(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jv.call(e,i)||!ei(t[i],e[i]))return!1}return!0}function sS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function aS(t,e){var n=sS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sS(n)}}function uk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ck(){for(var t=window,e=Rh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rh(t.document)}return e}function E1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function V6(t){var e=ck(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uk(n.ownerDocument.documentElement,n)){if(r!==null&&E1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=aS(n,s);var a=aS(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $6=Gi&&"documentMode"in document&&11>=document.documentMode,Qo=null,Jv=null,rc=null,Zv=!1;function oS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zv||Qo==null||Qo!==Rh(r)||(r=Qo,"selectionStart"in r&&E1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rc&&Pc(rc,r)||(rc=r,r=zh(Jv,"onSelect"),0<r.length&&(e=new w1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qo)))}function If(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xo={animationend:If("Animation","AnimationEnd"),animationiteration:If("Animation","AnimationIteration"),animationstart:If("Animation","AnimationStart"),transitionend:If("Transition","TransitionEnd")},Oy={},dk={};Gi&&(dk=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function bm(t){if(Oy[t])return Oy[t];if(!Xo[t])return t;var e=Xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dk)return Oy[t]=e[n];return t}var fk=bm("animationend"),hk=bm("animationiteration"),pk=bm("animationstart"),mk=bm("transitionend"),gk=new Map,lS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ha(t,e){gk.set(t,e),xo(e,[t])}for(var jy=0;jy<lS.length;jy++){var Ry=lS[jy],F6=Ry.toLowerCase(),z6=Ry[0].toUpperCase()+Ry.slice(1);ha(F6,"on"+z6)}ha(fk,"onAnimationEnd");ha(hk,"onAnimationIteration");ha(pk,"onAnimationStart");ha("dblclick","onDoubleClick");ha("focusin","onFocus");ha("focusout","onBlur");ha(mk,"onTransitionEnd");wl("onMouseEnter",["mouseout","mouseover"]);wl("onMouseLeave",["mouseout","mouseover"]);wl("onPointerEnter",["pointerout","pointerover"]);wl("onPointerLeave",["pointerout","pointerover"]);xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ku));function uS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,FL(r,e,void 0,t),t.currentTarget=null}function yk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;uS(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;uS(i,o,u),s=l}}}if(Dh)throw t=Gv,Dh=!1,Gv=null,t}function it(t,e){var n=e[i0];n===void 0&&(n=e[i0]=new Set);var r=t+"__bubble";n.has(r)||(vk(e,t,2,!1),n.add(r))}function My(t,e,n){var r=0;e&&(r|=4),vk(n,t,r,e)}var Pf="_reactListening"+Math.random().toString(36).slice(2);function Cc(t){if(!t[Pf]){t[Pf]=!0,TC.forEach(function(n){n!=="selectionchange"&&(U6.has(n)||My(n,!1,t),My(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pf]||(e[Pf]=!0,My("selectionchange",!1,e))}}function vk(t,e,n,r){switch(tk(e)){case 1:var i=n6;break;case 4:i=r6;break;default:i=v1}n=i.bind(null,e,n,t),i=void 0,!qv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ra(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}zC(function(){var u=s,c=p1(n),d=[];e:{var p=gk.get(t);if(p!==void 0){var m=w1,g=t;switch(t){case"keypress":if(dh(n)===0)break e;case"keydown":case"keyup":m=v6;break;case"focusin":g="focus",m=Cy;break;case"focusout":g="blur",m=Cy;break;case"beforeblur":case"afterblur":m=Cy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=XE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=a6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=b6;break;case fk:case hk:case pk:m=u6;break;case mk:m=E6;break;case"scroll":m=i6;break;case"wheel":m=T6;break;case"copy":case"cut":case"paste":m=d6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ZE}var w=(e&4)!==0,b=!w&&t==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var _=u,S;_!==null;){S=_;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,x!==null&&(C=Ec(_,x),C!=null&&w.push(kc(_,C,S)))),b)break;_=_.return}0<w.length&&(p=new m(p,g,null,n,c),d.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Hv&&(g=n.relatedTarget||n.fromElement)&&(Ra(g)||g[Yi]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Ra(g):null,g!==null&&(b=wo(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(w=XE,C="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=ZE,C="onPointerLeave",x="onPointerEnter",_="pointer"),b=m==null?p:Jo(m),S=g==null?p:Jo(g),p=new w(C,_+"leave",m,n,c),p.target=b,p.relatedTarget=S,C=null,Ra(c)===u&&(w=new w(x,_+"enter",g,n,c),w.target=S,w.relatedTarget=b,C=w),b=C,m&&g)t:{for(w=m,x=g,_=0,S=w;S;S=Do(S))_++;for(S=0,C=x;C;C=Do(C))S++;for(;0<_-S;)w=Do(w),_--;for(;0<S-_;)x=Do(x),S--;for(;_--;){if(w===x||x!==null&&w===x.alternate)break t;w=Do(w),x=Do(x)}w=null}else w=null;m!==null&&cS(d,p,m,w,!1),g!==null&&b!==null&&cS(d,b,g,w,!0)}}e:{if(p=u?Jo(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var k=O6;else if(nS(p))if(ok)k=D6;else{k=R6;var O=j6}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=M6);if(k&&(k=k(t,u))){ak(d,k,n,c);break e}O&&O(t,p,u),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Fv(p,"number",p.value)}switch(O=u?Jo(u):window,t){case"focusin":(nS(O)||O.contentEditable==="true")&&(Qo=O,Jv=u,rc=null);break;case"focusout":rc=Jv=Qo=null;break;case"mousedown":Zv=!0;break;case"contextmenu":case"mouseup":case"dragend":Zv=!1,oS(d,n,c);break;case"selectionchange":if($6)break;case"keydown":case"keyup":oS(d,n,c)}var A;if(_1)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Yo?ik(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(rk&&n.locale!=="ko"&&(Yo||T!=="onCompositionStart"?T==="onCompositionEnd"&&Yo&&(A=nk()):(Ms=c,x1="value"in Ms?Ms.value:Ms.textContent,Yo=!0)),O=zh(u,T),0<O.length&&(T=new JE(T,t,null,n,c),d.push({event:T,listeners:O}),A?T.data=A:(A=sk(n),A!==null&&(T.data=A)))),(A=I6?P6(t,n):C6(t,n))&&(u=zh(u,"onBeforeInput"),0<u.length&&(c=new JE("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}yk(d,e)})}function kc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ec(t,n),s!=null&&r.unshift(kc(t,s,i)),s=Ec(t,e),s!=null&&r.push(kc(t,s,i))),t=t.return}return r}function Do(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cS(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Ec(n,s),l!=null&&a.unshift(kc(n,l,o))):i||(l=Ec(n,s),l!=null&&a.push(kc(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var B6=/\r\n?/g,W6=/\u0000|\uFFFD/g;function dS(t){return(typeof t=="string"?t:""+t).replace(B6,`
`).replace(W6,"")}function Cf(t,e,n){if(e=dS(e),dS(t)!==e&&n)throw Error(Z(425))}function Uh(){}var e0=null,t0=null;function n0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var r0=typeof setTimeout=="function"?setTimeout:void 0,H6=typeof clearTimeout=="function"?clearTimeout:void 0,fS=typeof Promise=="function"?Promise:void 0,K6=typeof queueMicrotask=="function"?queueMicrotask:typeof fS<"u"?function(t){return fS.resolve(null).then(t).catch(q6)}:r0;function q6(t){setTimeout(function(){throw t})}function Ly(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ac(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ac(e)}function Us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gl=Math.random().toString(36).slice(2),ui="__reactFiber$"+Gl,Nc="__reactProps$"+Gl,Yi="__reactContainer$"+Gl,i0="__reactEvents$"+Gl,G6="__reactListeners$"+Gl,Y6="__reactHandles$"+Gl;function Ra(t){var e=t[ui];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yi]||n[ui]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hS(t);t!==null;){if(n=t[ui])return n;t=hS(t)}return e}t=n,n=t.parentNode}return null}function md(t){return t=t[ui]||t[Yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function _m(t){return t[Nc]||null}var s0=[],Zo=-1;function pa(t){return{current:t}}function ot(t){0>Zo||(t.current=s0[Zo],s0[Zo]=null,Zo--)}function nt(t,e){Zo++,s0[Zo]=t.current,t.current=e}var ea={},On=pa(ea),Jn=pa(!1),Qa=ea;function bl(t,e){var n=t.type.contextTypes;if(!n)return ea;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zn(t){return t=t.childContextTypes,t!=null}function Bh(){ot(Jn),ot(On)}function pS(t,e,n){if(On.current!==ea)throw Error(Z(168));nt(On,e),nt(Jn,n)}function xk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,jL(t)||"Unknown",i));return bt({},n,r)}function Wh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ea,Qa=On.current,nt(On,t),nt(Jn,Jn.current),!0}function mS(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=xk(t,e,Qa),r.__reactInternalMemoizedMergedChildContext=t,ot(Jn),ot(On),nt(On,t)):ot(Jn),nt(Jn,n)}var Ri=null,Em=!1,Vy=!1;function wk(t){Ri===null?Ri=[t]:Ri.push(t)}function Q6(t){Em=!0,wk(t)}function ma(){if(!Vy&&Ri!==null){Vy=!0;var t=0,e=Ge;try{var n=Ri;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ri=null,Em=!1}catch(i){throw Ri!==null&&(Ri=Ri.slice(t+1)),HC(m1,ma),i}finally{Ge=e,Vy=!1}}return null}var el=[],tl=0,Hh=null,Kh=0,_r=[],Er=0,Xa=null,$i=1,Fi="";function Pa(t,e){el[tl++]=Kh,el[tl++]=Hh,Hh=t,Kh=e}function bk(t,e,n){_r[Er++]=$i,_r[Er++]=Fi,_r[Er++]=Xa,Xa=t;var r=$i;t=Fi;var i=32-Gr(r)-1;r&=~(1<<i),n+=1;var s=32-Gr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-Gr(e)+i|n<<i|r,Fi=s+t}else $i=1<<s|n<<i|r,Fi=t}function S1(t){t.return!==null&&(Pa(t,1),bk(t,1,0))}function T1(t){for(;t===Hh;)Hh=el[--tl],el[tl]=null,Kh=el[--tl],el[tl]=null;for(;t===Xa;)Xa=_r[--Er],_r[Er]=null,Fi=_r[--Er],_r[Er]=null,$i=_r[--Er],_r[Er]=null}var dr=null,lr=null,pt=!1,Ur=null;function _k(t,e){var n=Tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dr=t,lr=Us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dr=t,lr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xa!==null?{id:$i,overflow:Fi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dr=t,lr=null,!0):!1;default:return!1}}function a0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function o0(t){if(pt){var e=lr;if(e){var n=e;if(!gS(t,e)){if(a0(t))throw Error(Z(418));e=Us(n.nextSibling);var r=dr;e&&gS(t,e)?_k(r,n):(t.flags=t.flags&-4097|2,pt=!1,dr=t)}}else{if(a0(t))throw Error(Z(418));t.flags=t.flags&-4097|2,pt=!1,dr=t}}}function yS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dr=t}function kf(t){if(t!==dr)return!1;if(!pt)return yS(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!n0(t.type,t.memoizedProps)),e&&(e=lr)){if(a0(t))throw Ek(),Error(Z(418));for(;e;)_k(t,e),e=Us(e.nextSibling)}if(yS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){lr=Us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}lr=null}}else lr=dr?Us(t.stateNode.nextSibling):null;return!0}function Ek(){for(var t=lr;t;)t=Us(t.nextSibling)}function _l(){lr=dr=null,pt=!1}function A1(t){Ur===null?Ur=[t]:Ur.push(t)}var X6=cs.ReactCurrentBatchConfig;function ku(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function Nf(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vS(t){var e=t._init;return e(t._payload)}function Sk(t){function e(x,_){if(t){var S=x.deletions;S===null?(x.deletions=[_],x.flags|=16):S.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=Ks(x,_),x.index=0,x.sibling=null,x}function s(x,_,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<_?(x.flags|=2,_):S):(x.flags|=2,_)):(x.flags|=1048576,_)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,_,S,C){return _===null||_.tag!==6?(_=Hy(S,x.mode,C),_.return=x,_):(_=i(_,S),_.return=x,_)}function l(x,_,S,C){var k=S.type;return k===Go?c(x,_,S.props.children,C,S.key):_!==null&&(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ts&&vS(k)===_.type)?(C=i(_,S.props),C.ref=ku(x,_,S),C.return=x,C):(C=vh(S.type,S.key,S.props,null,x.mode,C),C.ref=ku(x,_,S),C.return=x,C)}function u(x,_,S,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Ky(S,x.mode,C),_.return=x,_):(_=i(_,S.children||[]),_.return=x,_)}function c(x,_,S,C,k){return _===null||_.tag!==7?(_=Ba(S,x.mode,C,k),_.return=x,_):(_=i(_,S),_.return=x,_)}function d(x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Hy(""+_,x.mode,S),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wf:return S=vh(_.type,_.key,_.props,null,x.mode,S),S.ref=ku(x,null,_),S.return=x,S;case qo:return _=Ky(_,x.mode,S),_.return=x,_;case Ts:var C=_._init;return d(x,C(_._payload),S)}if(Wu(_)||Tu(_))return _=Ba(_,x.mode,S,null),_.return=x,_;Nf(x,_)}return null}function p(x,_,S,C){var k=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:o(x,_,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wf:return S.key===k?l(x,_,S,C):null;case qo:return S.key===k?u(x,_,S,C):null;case Ts:return k=S._init,p(x,_,k(S._payload),C)}if(Wu(S)||Tu(S))return k!==null?null:c(x,_,S,C,null);Nf(x,S)}return null}function m(x,_,S,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(S)||null,o(_,x,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case wf:return x=x.get(C.key===null?S:C.key)||null,l(_,x,C,k);case qo:return x=x.get(C.key===null?S:C.key)||null,u(_,x,C,k);case Ts:var O=C._init;return m(x,_,S,O(C._payload),k)}if(Wu(C)||Tu(C))return x=x.get(S)||null,c(_,x,C,k,null);Nf(_,C)}return null}function g(x,_,S,C){for(var k=null,O=null,A=_,T=_=0,I=null;A!==null&&T<S.length;T++){A.index>T?(I=A,A=null):I=A.sibling;var N=p(x,A,S[T],C);if(N===null){A===null&&(A=I);break}t&&A&&N.alternate===null&&e(x,A),_=s(N,_,T),O===null?k=N:O.sibling=N,O=N,A=I}if(T===S.length)return n(x,A),pt&&Pa(x,T),k;if(A===null){for(;T<S.length;T++)A=d(x,S[T],C),A!==null&&(_=s(A,_,T),O===null?k=A:O.sibling=A,O=A);return pt&&Pa(x,T),k}for(A=r(x,A);T<S.length;T++)I=m(A,x,T,S[T],C),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?T:I.key),_=s(I,_,T),O===null?k=I:O.sibling=I,O=I);return t&&A.forEach(function(P){return e(x,P)}),pt&&Pa(x,T),k}function w(x,_,S,C){var k=Tu(S);if(typeof k!="function")throw Error(Z(150));if(S=k.call(S),S==null)throw Error(Z(151));for(var O=k=null,A=_,T=_=0,I=null,N=S.next();A!==null&&!N.done;T++,N=S.next()){A.index>T?(I=A,A=null):I=A.sibling;var P=p(x,A,N.value,C);if(P===null){A===null&&(A=I);break}t&&A&&P.alternate===null&&e(x,A),_=s(P,_,T),O===null?k=P:O.sibling=P,O=P,A=I}if(N.done)return n(x,A),pt&&Pa(x,T),k;if(A===null){for(;!N.done;T++,N=S.next())N=d(x,N.value,C),N!==null&&(_=s(N,_,T),O===null?k=N:O.sibling=N,O=N);return pt&&Pa(x,T),k}for(A=r(x,A);!N.done;T++,N=S.next())N=m(A,x,T,N.value,C),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?T:N.key),_=s(N,_,T),O===null?k=N:O.sibling=N,O=N);return t&&A.forEach(function(R){return e(x,R)}),pt&&Pa(x,T),k}function b(x,_,S,C){if(typeof S=="object"&&S!==null&&S.type===Go&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case wf:e:{for(var k=S.key,O=_;O!==null;){if(O.key===k){if(k=S.type,k===Go){if(O.tag===7){n(x,O.sibling),_=i(O,S.props.children),_.return=x,x=_;break e}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ts&&vS(k)===O.type){n(x,O.sibling),_=i(O,S.props),_.ref=ku(x,O,S),_.return=x,x=_;break e}n(x,O);break}else e(x,O);O=O.sibling}S.type===Go?(_=Ba(S.props.children,x.mode,C,S.key),_.return=x,x=_):(C=vh(S.type,S.key,S.props,null,x.mode,C),C.ref=ku(x,_,S),C.return=x,x=C)}return a(x);case qo:e:{for(O=S.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(x,_.sibling),_=i(_,S.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=Ky(S,x.mode,C),_.return=x,x=_}return a(x);case Ts:return O=S._init,b(x,_,O(S._payload),C)}if(Wu(S))return g(x,_,S,C);if(Tu(S))return w(x,_,S,C);Nf(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(x,_.sibling),_=i(_,S),_.return=x,x=_):(n(x,_),_=Hy(S,x.mode,C),_.return=x,x=_),a(x)):n(x,_)}return b}var El=Sk(!0),Tk=Sk(!1),qh=pa(null),Gh=null,nl=null,I1=null;function P1(){I1=nl=Gh=null}function C1(t){var e=qh.current;ot(qh),t._currentValue=e}function l0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dl(t,e){Gh=t,I1=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qn=!0),t.firstContext=null)}function Cr(t){var e=t._currentValue;if(I1!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(Gh===null)throw Error(Z(308));nl=t,Gh.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var Ma=null;function k1(t){Ma===null?Ma=[t]:Ma.push(t)}function Ak(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,k1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qi(t,r)}function Qi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var As=!1;function N1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ik(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ki(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qi(t,n)}return i=r.interleaved,i===null?(e.next=e,k1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qi(t,n)}function fh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,g1(t,n)}}function xS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yh(t,e,n,r){var i=t.updateQueue;As=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,c=u=l=null,o=s;do{var p=o.lane,m=o.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,w=o;switch(p=e,m=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=bt({},d,p);break e;case 2:As=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Za|=a,t.lanes=a,t.memoizedState=d}}function wS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var gd={},fi=pa(gd),Oc=pa(gd),jc=pa(gd);function Da(t){if(t===gd)throw Error(Z(174));return t}function O1(t,e){switch(nt(jc,e),nt(Oc,t),nt(fi,gd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Uv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Uv(e,t)}ot(fi),nt(fi,e)}function Sl(){ot(fi),ot(Oc),ot(jc)}function Pk(t){Da(jc.current);var e=Da(fi.current),n=Uv(e,t.type);e!==n&&(nt(Oc,t),nt(fi,n))}function j1(t){Oc.current===t&&(ot(fi),ot(Oc))}var yt=pa(0);function Qh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $y=[];function R1(){for(var t=0;t<$y.length;t++)$y[t]._workInProgressVersionPrimary=null;$y.length=0}var hh=cs.ReactCurrentDispatcher,Fy=cs.ReactCurrentBatchConfig,Ja=0,wt=null,zt=null,rn=null,Xh=!1,ic=!1,Rc=0,J6=0;function En(){throw Error(Z(321))}function M1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ei(t[n],e[n]))return!1;return!0}function D1(t,e,n,r,i,s){if(Ja=s,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hh.current=t===null||t.memoizedState===null?nV:rV,t=n(r,i),ic){s=0;do{if(ic=!1,Rc=0,25<=s)throw Error(Z(301));s+=1,rn=zt=null,e.updateQueue=null,hh.current=iV,t=n(r,i)}while(ic)}if(hh.current=Jh,e=zt!==null&&zt.next!==null,Ja=0,rn=zt=wt=null,Xh=!1,e)throw Error(Z(300));return t}function L1(){var t=Rc!==0;return Rc=0,t}function ai(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?wt.memoizedState=rn=t:rn=rn.next=t,rn}function kr(){if(zt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=zt.next;var e=rn===null?wt.memoizedState:rn.next;if(e!==null)rn=e,zt=t;else{if(t===null)throw Error(Z(310));zt=t,t={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},rn===null?wt.memoizedState=rn=t:rn=rn.next=t}return rn}function Mc(t,e){return typeof e=="function"?e(t):e}function zy(t){var e=kr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=zt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Ja&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,wt.lanes|=c,Za|=c}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,ei(r,e.memoizedState)||(Qn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,wt.lanes|=s,Za|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Uy(t){var e=kr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ei(s,e.memoizedState)||(Qn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Ck(){}function kk(t,e){var n=wt,r=kr(),i=e(),s=!ei(r.memoizedState,i);if(s&&(r.memoizedState=i,Qn=!0),r=r.queue,V1(jk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||rn!==null&&rn.memoizedState.tag&1){if(n.flags|=2048,Dc(9,Ok.bind(null,n,r,i,e),void 0,null),sn===null)throw Error(Z(349));Ja&30||Nk(n,e,i)}return i}function Nk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ok(t,e,n,r){e.value=n,e.getSnapshot=r,Rk(e)&&Mk(t)}function jk(t,e,n){return n(function(){Rk(e)&&Mk(t)})}function Rk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ei(t,n)}catch{return!0}}function Mk(t){var e=Qi(t,1);e!==null&&Yr(e,t,1,-1)}function bS(t){var e=ai();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:t},e.queue=t,t=t.dispatch=tV.bind(null,wt,t),[e.memoizedState,t]}function Dc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Dk(){return kr().memoizedState}function ph(t,e,n,r){var i=ai();wt.flags|=t,i.memoizedState=Dc(1|e,n,void 0,r===void 0?null:r)}function Sm(t,e,n,r){var i=kr();r=r===void 0?null:r;var s=void 0;if(zt!==null){var a=zt.memoizedState;if(s=a.destroy,r!==null&&M1(r,a.deps)){i.memoizedState=Dc(e,n,s,r);return}}wt.flags|=t,i.memoizedState=Dc(1|e,n,s,r)}function _S(t,e){return ph(8390656,8,t,e)}function V1(t,e){return Sm(2048,8,t,e)}function Lk(t,e){return Sm(4,2,t,e)}function Vk(t,e){return Sm(4,4,t,e)}function $k(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fk(t,e,n){return n=n!=null?n.concat([t]):null,Sm(4,4,$k.bind(null,e,t),n)}function $1(){}function zk(t,e){var n=kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&M1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Uk(t,e){var n=kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&M1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Bk(t,e,n){return Ja&21?(ei(n,e)||(n=GC(),wt.lanes|=n,Za|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qn=!0),t.memoizedState=n)}function Z6(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=Fy.transition;Fy.transition={};try{t(!1),e()}finally{Ge=n,Fy.transition=r}}function Wk(){return kr().memoizedState}function eV(t,e,n){var r=Hs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hk(t))Kk(e,n);else if(n=Ak(t,e,n,r),n!==null){var i=zn();Yr(n,t,r,i),qk(n,e,r)}}function tV(t,e,n){var r=Hs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hk(t))Kk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ei(o,a)){var l=e.interleaved;l===null?(i.next=i,k1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Ak(t,e,i,r),n!==null&&(i=zn(),Yr(n,t,r,i),qk(n,e,r))}}function Hk(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function Kk(t,e){ic=Xh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,g1(t,n)}}var Jh={readContext:Cr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},nV={readContext:Cr,useCallback:function(t,e){return ai().memoizedState=[t,e===void 0?null:e],t},useContext:Cr,useEffect:_S,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ph(4194308,4,$k.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ph(4194308,4,t,e)},useInsertionEffect:function(t,e){return ph(4,2,t,e)},useMemo:function(t,e){var n=ai();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ai();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eV.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=ai();return t={current:t},e.memoizedState=t},useState:bS,useDebugValue:$1,useDeferredValue:function(t){return ai().memoizedState=t},useTransition:function(){var t=bS(!1),e=t[0];return t=Z6.bind(null,t[1]),ai().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=wt,i=ai();if(pt){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),sn===null)throw Error(Z(349));Ja&30||Nk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,_S(jk.bind(null,r,s,t),[t]),r.flags|=2048,Dc(9,Ok.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ai(),e=sn.identifierPrefix;if(pt){var n=Fi,r=$i;n=(r&~(1<<32-Gr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=J6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rV={readContext:Cr,useCallback:zk,useContext:Cr,useEffect:V1,useImperativeHandle:Fk,useInsertionEffect:Lk,useLayoutEffect:Vk,useMemo:Uk,useReducer:zy,useRef:Dk,useState:function(){return zy(Mc)},useDebugValue:$1,useDeferredValue:function(t){var e=kr();return Bk(e,zt.memoizedState,t)},useTransition:function(){var t=zy(Mc)[0],e=kr().memoizedState;return[t,e]},useMutableSource:Ck,useSyncExternalStore:kk,useId:Wk,unstable_isNewReconciler:!1},iV={readContext:Cr,useCallback:zk,useContext:Cr,useEffect:V1,useImperativeHandle:Fk,useInsertionEffect:Lk,useLayoutEffect:Vk,useMemo:Uk,useReducer:Uy,useRef:Dk,useState:function(){return Uy(Mc)},useDebugValue:$1,useDeferredValue:function(t){var e=kr();return zt===null?e.memoizedState=t:Bk(e,zt.memoizedState,t)},useTransition:function(){var t=Uy(Mc)[0],e=kr().memoizedState;return[t,e]},useMutableSource:Ck,useSyncExternalStore:kk,useId:Wk,unstable_isNewReconciler:!1};function Fr(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function u0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tm={isMounted:function(t){return(t=t._reactInternals)?wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zn(),i=Hs(t),s=Ki(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bs(t,s,i),e!==null&&(Yr(e,t,i,r),fh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zn(),i=Hs(t),s=Ki(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bs(t,s,i),e!==null&&(Yr(e,t,i,r),fh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zn(),r=Hs(t),i=Ki(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bs(t,i,r),e!==null&&(Yr(e,t,r,n),fh(e,t,r))}};function ES(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Pc(n,r)||!Pc(i,s):!0}function Gk(t,e,n){var r=!1,i=ea,s=e.contextType;return typeof s=="object"&&s!==null?s=Cr(s):(i=Zn(e)?Qa:On.current,r=e.contextTypes,s=(r=r!=null)?bl(t,i):ea),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function SS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Tm.enqueueReplaceState(e,e.state,null)}function c0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},N1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Cr(s):(s=Zn(e)?Qa:On.current,i.context=bl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(u0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Tm.enqueueReplaceState(i,i.state,null),Yh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tl(t,e){try{var n="",r=e;do n+=OL(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function By(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function d0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sV=typeof WeakMap=="function"?WeakMap:Map;function Yk(t,e,n){n=Ki(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ep||(ep=!0,b0=r),d0(t,e)},n}function Qk(t,e,n){n=Ki(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){d0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){d0(t,e),typeof r!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function TS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=xV.bind(null,t,e,n),e.then(t,t))}function AS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function IS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ki(-1,1),e.tag=2,Bs(n,e,1))),n.lanes|=1),t)}var aV=cs.ReactCurrentOwner,Qn=!1;function Vn(t,e,n,r){e.child=t===null?Tk(e,null,n,r):El(e,t.child,n,r)}function PS(t,e,n,r,i){n=n.render;var s=e.ref;return dl(e,i),r=D1(t,e,n,r,s,i),n=L1(),t!==null&&!Qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):(pt&&n&&S1(e),e.flags|=1,Vn(t,e,r,i),e.child)}function CS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!q1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Xk(t,e,s,r,i)):(t=vh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pc,n(a,r)&&t.ref===e.ref)return Xi(t,e,i)}return e.flags|=1,t=Ks(s,r),t.ref=e.ref,t.return=e,e.child=t}function Xk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Pc(s,r)&&t.ref===e.ref)if(Qn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Qn=!0);else return e.lanes=t.lanes,Xi(t,e,i)}return f0(t,e,n,r,i)}function Jk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(il,sr),sr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(il,sr),sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,nt(il,sr),sr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,nt(il,sr),sr|=r;return Vn(t,e,i,n),e.child}function Zk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function f0(t,e,n,r,i){var s=Zn(n)?Qa:On.current;return s=bl(e,s),dl(e,i),n=D1(t,e,n,r,s,i),r=L1(),t!==null&&!Qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):(pt&&r&&S1(e),e.flags|=1,Vn(t,e,n,i),e.child)}function kS(t,e,n,r,i){if(Zn(n)){var s=!0;Wh(e)}else s=!1;if(dl(e,i),e.stateNode===null)mh(t,e),Gk(e,n,r),c0(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Cr(u):(u=Zn(n)?Qa:On.current,u=bl(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&SS(e,a,r,u),As=!1;var p=e.memoizedState;a.state=p,Yh(e,r,a,i),l=e.memoizedState,o!==r||p!==l||Jn.current||As?(typeof c=="function"&&(u0(e,n,c,r),l=e.memoizedState),(o=As||ES(e,n,o,r,p,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Ik(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Fr(e.type,o),a.props=u,d=e.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Cr(l):(l=Zn(n)?Qa:On.current,l=bl(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||p!==l)&&SS(e,a,r,l),As=!1,p=e.memoizedState,a.state=p,Yh(e,r,a,i);var g=e.memoizedState;o!==d||p!==g||Jn.current||As?(typeof m=="function"&&(u0(e,n,m,r),g=e.memoizedState),(u=As||ES(e,n,u,r,p,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return h0(t,e,n,r,s,i)}function h0(t,e,n,r,i,s){Zk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&mS(e,n,!1),Xi(t,e,s);r=e.stateNode,aV.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=El(e,t.child,null,s),e.child=El(e,null,o,s)):Vn(t,e,o,s),e.memoizedState=r.state,i&&mS(e,n,!0),e.child}function eN(t){var e=t.stateNode;e.pendingContext?pS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pS(t,e.context,!1),O1(t,e.containerInfo)}function NS(t,e,n,r,i){return _l(),A1(i),e.flags|=256,Vn(t,e,n,r),e.child}var p0={dehydrated:null,treeContext:null,retryLane:0};function m0(t){return{baseLanes:t,cachePool:null,transitions:null}}function tN(t,e,n){var r=e.pendingProps,i=yt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(yt,i&1),t===null)return o0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Pm(a,r,0,null),t=Ba(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=m0(n),e.memoizedState=p0,t):F1(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return oV(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ks(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ks(o,s):(s=Ba(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?m0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=p0,r}return s=t.child,t=s.sibling,r=Ks(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function F1(t,e){return e=Pm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Of(t,e,n,r){return r!==null&&A1(r),El(e,t.child,null,n),t=F1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oV(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=By(Error(Z(422))),Of(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Pm({mode:"visible",children:r.children},i,0,null),s=Ba(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&El(e,t.child,null,a),e.child.memoizedState=m0(a),e.memoizedState=p0,s);if(!(e.mode&1))return Of(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Z(419)),r=By(s,r,void 0),Of(t,e,a,r)}if(o=(a&t.childLanes)!==0,Qn||o){if(r=sn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qi(t,i),Yr(r,t,i,-1))}return K1(),r=By(Error(Z(421))),Of(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,lr=Us(i.nextSibling),dr=e,pt=!0,Ur=null,t!==null&&(_r[Er++]=$i,_r[Er++]=Fi,_r[Er++]=Xa,$i=t.id,Fi=t.overflow,Xa=e),e=F1(e,r.children),e.flags|=4096,e)}function OS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),l0(t.return,e,n)}function Wy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function nN(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vn(t,e,r.children,n),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&OS(t,n,e);else if(t.tag===19)OS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Qh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wy(e,!0,n,null,s);break;case"together":Wy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Za|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=Ks(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ks(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lV(t,e,n){switch(e.tag){case 3:eN(e),_l();break;case 5:Pk(e);break;case 1:Zn(e.type)&&Wh(e);break;case 4:O1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nt(qh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(yt,yt.current&1),e.flags|=128,null):n&e.child.childLanes?tN(t,e,n):(nt(yt,yt.current&1),t=Xi(t,e,n),t!==null?t.sibling:null);nt(yt,yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,Jk(t,e,n)}return Xi(t,e,n)}var rN,g0,iN,sN;rN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};g0=function(){};iN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Da(fi.current);var s=null;switch(n){case"input":i=Vv(t,i),r=Vv(t,r),s=[];break;case"select":i=bt({},i,{value:void 0}),r=bt({},r,{value:void 0}),s=[];break;case"textarea":i=zv(t,i),r=zv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uh)}Bv(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&it("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};sN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Nu(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uV(t,e,n){var r=e.pendingProps;switch(T1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(e),null;case 1:return Zn(e.type)&&Bh(),Sn(e),null;case 3:return r=e.stateNode,Sl(),ot(Jn),ot(On),R1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ur!==null&&(S0(Ur),Ur=null))),g0(t,e),Sn(e),null;case 5:j1(e);var i=Da(jc.current);if(n=e.type,t!==null&&e.stateNode!=null)iN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return Sn(e),null}if(t=Da(fi.current),kf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ui]=e,r[Nc]=s,t=(e.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<Ku.length;i++)it(Ku[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":zE(r,s),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},it("invalid",r);break;case"textarea":BE(r,s),it("invalid",r)}Bv(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Cf(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Cf(r.textContent,o,t),i=["children",""+o]):bc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&it("scroll",r)}switch(n){case"input":bf(r),UE(r,s,!0);break;case"textarea":bf(r),WE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Uh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ui]=e,t[Nc]=r,rN(t,e,!1,!1),e.stateNode=t;e:{switch(a=Wv(n,r),n){case"dialog":it("cancel",t),it("close",t),i=r;break;case"iframe":case"object":case"embed":it("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ku.length;i++)it(Ku[i],t);i=r;break;case"source":it("error",t),i=r;break;case"img":case"image":case"link":it("error",t),it("load",t),i=r;break;case"details":it("toggle",t),i=r;break;case"input":zE(t,r),i=Vv(t,r),it("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=bt({},r,{value:void 0}),it("invalid",t);break;case"textarea":BE(t,r),i=zv(t,r),it("invalid",t);break;default:i=r}Bv(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?DC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_c(t,l):typeof l=="number"&&_c(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&it("scroll",t):l!=null&&c1(t,s,l,a))}switch(n){case"input":bf(t),UE(t,r,!1);break;case"textarea":bf(t),WE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ol(t,!!r.multiple,s,!1):r.defaultValue!=null&&ol(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sn(e),null;case 6:if(t&&e.stateNode!=null)sN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=Da(jc.current),Da(fi.current),kf(e)){if(r=e.stateNode,n=e.memoizedProps,r[ui]=e,(s=r.nodeValue!==n)&&(t=dr,t!==null))switch(t.tag){case 3:Cf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ui]=e,e.stateNode=r}return Sn(e),null;case 13:if(ot(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&lr!==null&&e.mode&1&&!(e.flags&128))Ek(),_l(),e.flags|=98560,s=!1;else if(s=kf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[ui]=e}else _l(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sn(e),s=!1}else Ur!==null&&(S0(Ur),Ur=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?Ht===0&&(Ht=3):K1())),e.updateQueue!==null&&(e.flags|=4),Sn(e),null);case 4:return Sl(),g0(t,e),t===null&&Cc(e.stateNode.containerInfo),Sn(e),null;case 10:return C1(e.type._context),Sn(e),null;case 17:return Zn(e.type)&&Bh(),Sn(e),null;case 19:if(ot(yt),s=e.memoizedState,s===null)return Sn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Nu(s,!1);else{if(Ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Qh(t),a!==null){for(e.flags|=128,Nu(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(yt,yt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ot()>Al&&(e.flags|=128,r=!0,Nu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Qh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Nu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!pt)return Sn(e),null}else 2*Ot()-s.renderingStartTime>Al&&n!==1073741824&&(e.flags|=128,r=!0,Nu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ot(),e.sibling=null,n=yt.current,nt(yt,r?n&1|2:n&1),e):(Sn(e),null);case 22:case 23:return H1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sr&1073741824&&(Sn(e),e.subtreeFlags&6&&(e.flags|=8192)):Sn(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function cV(t,e){switch(T1(e),e.tag){case 1:return Zn(e.type)&&Bh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sl(),ot(Jn),ot(On),R1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return j1(e),null;case 13:if(ot(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));_l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(yt),null;case 4:return Sl(),null;case 10:return C1(e.type._context),null;case 22:case 23:return H1(),null;case 24:return null;default:return null}}var jf=!1,Pn=!1,dV=typeof WeakSet=="function"?WeakSet:Set,ce=null;function rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){It(t,e,r)}else n.current=null}function y0(t,e,n){try{n()}catch(r){It(t,e,r)}}var jS=!1;function fV(t,e){if(e0=$h,t=ck(),E1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=t,p=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===n&&++u===i&&(o=a),p===s&&++c===r&&(l=a),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(t0={focusedElem:t,selectionRange:n},$h=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,b=g.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:Fr(e.type,w),b);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(C){It(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return g=jS,jS=!1,g}function sc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&y0(e,n,s)}i=i.next}while(i!==r)}}function Am(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function v0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aN(t){var e=t.alternate;e!==null&&(t.alternate=null,aN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ui],delete e[Nc],delete e[i0],delete e[G6],delete e[Y6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oN(t){return t.tag===5||t.tag===3||t.tag===4}function RS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function x0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uh));else if(r!==4&&(t=t.child,t!==null))for(x0(t,e,n),t=t.sibling;t!==null;)x0(t,e,n),t=t.sibling}function w0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(w0(t,e,n),t=t.sibling;t!==null;)w0(t,e,n),t=t.sibling}var dn=null,zr=!1;function _s(t,e,n){for(n=n.child;n!==null;)lN(t,e,n),n=n.sibling}function lN(t,e,n){if(di&&typeof di.onCommitFiberUnmount=="function")try{di.onCommitFiberUnmount(vm,n)}catch{}switch(n.tag){case 5:Pn||rl(n,e);case 6:var r=dn,i=zr;dn=null,_s(t,e,n),dn=r,zr=i,dn!==null&&(zr?(t=dn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dn.removeChild(n.stateNode));break;case 18:dn!==null&&(zr?(t=dn,n=n.stateNode,t.nodeType===8?Ly(t.parentNode,n):t.nodeType===1&&Ly(t,n),Ac(t)):Ly(dn,n.stateNode));break;case 4:r=dn,i=zr,dn=n.stateNode.containerInfo,zr=!0,_s(t,e,n),dn=r,zr=i;break;case 0:case 11:case 14:case 15:if(!Pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&y0(n,e,a),i=i.next}while(i!==r)}_s(t,e,n);break;case 1:if(!Pn&&(rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){It(n,e,o)}_s(t,e,n);break;case 21:_s(t,e,n);break;case 22:n.mode&1?(Pn=(r=Pn)||n.memoizedState!==null,_s(t,e,n),Pn=r):_s(t,e,n);break;default:_s(t,e,n)}}function MS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dV),e.forEach(function(r){var i=bV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $r(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:dn=o.stateNode,zr=!1;break e;case 3:dn=o.stateNode.containerInfo,zr=!0;break e;case 4:dn=o.stateNode.containerInfo,zr=!0;break e}o=o.return}if(dn===null)throw Error(Z(160));lN(s,a,i),dn=null,zr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){It(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uN(e,t),e=e.sibling}function uN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($r(e,t),ii(t),r&4){try{sc(3,t,t.return),Am(3,t)}catch(w){It(t,t.return,w)}try{sc(5,t,t.return)}catch(w){It(t,t.return,w)}}break;case 1:$r(e,t),ii(t),r&512&&n!==null&&rl(n,n.return);break;case 5:if($r(e,t),ii(t),r&512&&n!==null&&rl(n,n.return),t.flags&32){var i=t.stateNode;try{_c(i,"")}catch(w){It(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&NC(i,s),Wv(o,a);var u=Wv(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?DC(i,d):c==="dangerouslySetInnerHTML"?RC(i,d):c==="children"?_c(i,d):c1(i,c,d,u)}switch(o){case"input":$v(i,s);break;case"textarea":OC(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ol(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?ol(i,!!s.multiple,s.defaultValue,!0):ol(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nc]=s}catch(w){It(t,t.return,w)}}break;case 6:if($r(e,t),ii(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){It(t,t.return,w)}}break;case 3:if($r(e,t),ii(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ac(e.containerInfo)}catch(w){It(t,t.return,w)}break;case 4:$r(e,t),ii(t);break;case 13:$r(e,t),ii(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(B1=Ot())),r&4&&MS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Pn=(u=Pn)||c,$r(e,t),Pn=u):$r(e,t),ii(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ce=t,c=t.child;c!==null;){for(d=ce=c;ce!==null;){switch(p=ce,m=p.child,p.tag){case 0:case 11:case 14:case 15:sc(4,p,p.return);break;case 1:rl(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){It(r,n,w)}}break;case 5:rl(p,p.return);break;case 22:if(p.memoizedState!==null){LS(d);continue}}m!==null?(m.return=p,ce=m):LS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=MC("display",a))}catch(w){It(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){It(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:$r(e,t),ii(t),r&4&&MS(t);break;case 21:break;default:$r(e,t),ii(t)}}function ii(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oN(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_c(i,""),r.flags&=-33);var s=RS(t);w0(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=RS(t);x0(t,o,a);break;default:throw Error(Z(161))}}catch(l){It(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hV(t,e,n){ce=t,cN(t)}function cN(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||jf;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Pn;o=jf;var u=Pn;if(jf=a,(Pn=l)&&!u)for(ce=i;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?VS(i):l!==null?(l.return=a,ce=l):VS(i);for(;s!==null;)ce=s,cN(s),s=s.sibling;ce=i,jf=o,Pn=u}DS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):DS(t)}}function DS(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pn||Am(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wS(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wS(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ac(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Pn||e.flags&512&&v0(e)}catch(p){It(e,e.return,p)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function LS(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function VS(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Am(4,e)}catch(l){It(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){It(e,i,l)}}var s=e.return;try{v0(e)}catch(l){It(e,s,l)}break;case 5:var a=e.return;try{v0(e)}catch(l){It(e,a,l)}}}catch(l){It(e,e.return,l)}if(e===t){ce=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ce=o;break}ce=e.return}}var pV=Math.ceil,Zh=cs.ReactCurrentDispatcher,z1=cs.ReactCurrentOwner,Ir=cs.ReactCurrentBatchConfig,$e=0,sn=null,Dt=null,yn=0,sr=0,il=pa(0),Ht=0,Lc=null,Za=0,Im=0,U1=0,ac=null,Gn=null,B1=0,Al=1/0,ji=null,ep=!1,b0=null,Ws=null,Rf=!1,Ds=null,tp=0,oc=0,_0=null,gh=-1,yh=0;function zn(){return $e&6?Ot():gh!==-1?gh:gh=Ot()}function Hs(t){return t.mode&1?$e&2&&yn!==0?yn&-yn:X6.transition!==null?(yh===0&&(yh=GC()),yh):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:tk(t.type)),t):1}function Yr(t,e,n,r){if(50<oc)throw oc=0,_0=null,Error(Z(185));hd(t,n,r),(!($e&2)||t!==sn)&&(t===sn&&(!($e&2)&&(Im|=n),Ht===4&&ks(t,yn)),er(t,r),n===1&&$e===0&&!(e.mode&1)&&(Al=Ot()+500,Em&&ma()))}function er(t,e){var n=t.callbackNode;XL(t,e);var r=Vh(t,t===sn?yn:0);if(r===0)n!==null&&qE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qE(n),e===1)t.tag===0?Q6($S.bind(null,t)):wk($S.bind(null,t)),K6(function(){!($e&6)&&ma()}),n=null;else{switch(YC(r)){case 1:n=m1;break;case 4:n=KC;break;case 16:n=Lh;break;case 536870912:n=qC;break;default:n=Lh}n=vN(n,dN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dN(t,e){if(gh=-1,yh=0,$e&6)throw Error(Z(327));var n=t.callbackNode;if(fl()&&t.callbackNode!==n)return null;var r=Vh(t,t===sn?yn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=np(t,r);else{e=r;var i=$e;$e|=2;var s=hN();(sn!==t||yn!==e)&&(ji=null,Al=Ot()+500,Ua(t,e));do try{yV();break}catch(o){fN(t,o)}while(!0);P1(),Zh.current=s,$e=i,Dt!==null?e=0:(sn=null,yn=0,e=Ht)}if(e!==0){if(e===2&&(i=Yv(t),i!==0&&(r=i,e=E0(t,i))),e===1)throw n=Lc,Ua(t,0),ks(t,r),er(t,Ot()),n;if(e===6)ks(t,r);else{if(i=t.current.alternate,!(r&30)&&!mV(i)&&(e=np(t,r),e===2&&(s=Yv(t),s!==0&&(r=s,e=E0(t,s))),e===1))throw n=Lc,Ua(t,0),ks(t,r),er(t,Ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Ca(t,Gn,ji);break;case 3:if(ks(t,r),(r&130023424)===r&&(e=B1+500-Ot(),10<e)){if(Vh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=r0(Ca.bind(null,t,Gn,ji),e);break}Ca(t,Gn,ji);break;case 4:if(ks(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Gr(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pV(r/1960))-r,10<r){t.timeoutHandle=r0(Ca.bind(null,t,Gn,ji),r);break}Ca(t,Gn,ji);break;case 5:Ca(t,Gn,ji);break;default:throw Error(Z(329))}}}return er(t,Ot()),t.callbackNode===n?dN.bind(null,t):null}function E0(t,e){var n=ac;return t.current.memoizedState.isDehydrated&&(Ua(t,e).flags|=256),t=np(t,e),t!==2&&(e=Gn,Gn=n,e!==null&&S0(e)),t}function S0(t){Gn===null?Gn=t:Gn.push.apply(Gn,t)}function mV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ei(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ks(t,e){for(e&=~U1,e&=~Im,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gr(e),r=1<<n;t[n]=-1,e&=~r}}function $S(t){if($e&6)throw Error(Z(327));fl();var e=Vh(t,0);if(!(e&1))return er(t,Ot()),null;var n=np(t,e);if(t.tag!==0&&n===2){var r=Yv(t);r!==0&&(e=r,n=E0(t,r))}if(n===1)throw n=Lc,Ua(t,0),ks(t,e),er(t,Ot()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ca(t,Gn,ji),er(t,Ot()),null}function W1(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(Al=Ot()+500,Em&&ma())}}function eo(t){Ds!==null&&Ds.tag===0&&!($e&6)&&fl();var e=$e;$e|=1;var n=Ir.transition,r=Ge;try{if(Ir.transition=null,Ge=1,t)return t()}finally{Ge=r,Ir.transition=n,$e=e,!($e&6)&&ma()}}function H1(){sr=il.current,ot(il)}function Ua(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,H6(n)),Dt!==null)for(n=Dt.return;n!==null;){var r=n;switch(T1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bh();break;case 3:Sl(),ot(Jn),ot(On),R1();break;case 5:j1(r);break;case 4:Sl();break;case 13:ot(yt);break;case 19:ot(yt);break;case 10:C1(r.type._context);break;case 22:case 23:H1()}n=n.return}if(sn=t,Dt=t=Ks(t.current,null),yn=sr=e,Ht=0,Lc=null,U1=Im=Za=0,Gn=ac=null,Ma!==null){for(e=0;e<Ma.length;e++)if(n=Ma[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ma=null}return t}function fN(t,e){do{var n=Dt;try{if(P1(),hh.current=Jh,Xh){for(var r=wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xh=!1}if(Ja=0,rn=zt=wt=null,ic=!1,Rc=0,z1.current=null,n===null||n.return===null){Ht=1,Lc=e,Dt=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=yn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=AS(a);if(m!==null){m.flags&=-257,IS(m,a,o,s,e),m.mode&1&&TS(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var w=new Set;w.add(l),e.updateQueue=w}else g.add(l);break e}else{if(!(e&1)){TS(s,u,e),K1();break e}l=Error(Z(426))}}else if(pt&&o.mode&1){var b=AS(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),IS(b,a,o,s,e),A1(Tl(l,o));break e}}s=l=Tl(l,o),Ht!==4&&(Ht=2),ac===null?ac=[s]:ac.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=Yk(s,l,e);xS(s,x);break e;case 1:o=l;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ws===null||!Ws.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=Qk(s,o,e);xS(s,C);break e}}s=s.return}while(s!==null)}mN(n)}catch(k){e=k,Dt===n&&n!==null&&(Dt=n=n.return);continue}break}while(!0)}function hN(){var t=Zh.current;return Zh.current=Jh,t===null?Jh:t}function K1(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),sn===null||!(Za&268435455)&&!(Im&268435455)||ks(sn,yn)}function np(t,e){var n=$e;$e|=2;var r=hN();(sn!==t||yn!==e)&&(ji=null,Ua(t,e));do try{gV();break}catch(i){fN(t,i)}while(!0);if(P1(),$e=n,Zh.current=r,Dt!==null)throw Error(Z(261));return sn=null,yn=0,Ht}function gV(){for(;Dt!==null;)pN(Dt)}function yV(){for(;Dt!==null&&!UL();)pN(Dt)}function pN(t){var e=yN(t.alternate,t,sr);t.memoizedProps=t.pendingProps,e===null?mN(t):Dt=e,z1.current=null}function mN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cV(n,e),n!==null){n.flags&=32767,Dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ht=6,Dt=null;return}}else if(n=uV(n,e,sr),n!==null){Dt=n;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);Ht===0&&(Ht=5)}function Ca(t,e,n){var r=Ge,i=Ir.transition;try{Ir.transition=null,Ge=1,vV(t,e,n,r)}finally{Ir.transition=i,Ge=r}return null}function vV(t,e,n,r){do fl();while(Ds!==null);if($e&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(JL(t,s),t===sn&&(Dt=sn=null,yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rf||(Rf=!0,vN(Lh,function(){return fl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ir.transition,Ir.transition=null;var a=Ge;Ge=1;var o=$e;$e|=4,z1.current=null,fV(t,n),uN(n,t),V6(t0),$h=!!e0,t0=e0=null,t.current=n,hV(n),BL(),$e=o,Ge=a,Ir.transition=s}else t.current=n;if(Rf&&(Rf=!1,Ds=t,tp=i),s=t.pendingLanes,s===0&&(Ws=null),KL(n.stateNode),er(t,Ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ep)throw ep=!1,t=b0,b0=null,t;return tp&1&&t.tag!==0&&fl(),s=t.pendingLanes,s&1?t===_0?oc++:(oc=0,_0=t):oc=0,ma(),null}function fl(){if(Ds!==null){var t=YC(tp),e=Ir.transition,n=Ge;try{if(Ir.transition=null,Ge=16>t?16:t,Ds===null)var r=!1;else{if(t=Ds,Ds=null,tp=0,$e&6)throw Error(Z(331));var i=$e;for($e|=4,ce=t.current;ce!==null;){var s=ce,a=s.child;if(ce.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ce=u;ce!==null;){var c=ce;switch(c.tag){case 0:case 11:case 15:sc(8,c,s)}var d=c.child;if(d!==null)d.return=c,ce=d;else for(;ce!==null;){c=ce;var p=c.sibling,m=c.return;if(aN(c),c===u){ce=null;break}if(p!==null){p.return=m,ce=p;break}ce=m}}}var g=s.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}ce=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ce=a;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sc(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ce=x;break e}ce=s.return}}var _=t.current;for(ce=_;ce!==null;){a=ce;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,ce=S;else e:for(a=_;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Am(9,o)}}catch(k){It(o,o.return,k)}if(o===a){ce=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,ce=C;break e}ce=o.return}}if($e=i,ma(),di&&typeof di.onPostCommitFiberRoot=="function")try{di.onPostCommitFiberRoot(vm,t)}catch{}r=!0}return r}finally{Ge=n,Ir.transition=e}}return!1}function FS(t,e,n){e=Tl(n,e),e=Yk(t,e,1),t=Bs(t,e,1),e=zn(),t!==null&&(hd(t,1,e),er(t,e))}function It(t,e,n){if(t.tag===3)FS(t,t,n);else for(;e!==null;){if(e.tag===3){FS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ws===null||!Ws.has(r))){t=Tl(n,t),t=Qk(e,t,1),e=Bs(e,t,1),t=zn(),e!==null&&(hd(e,1,t),er(e,t));break}}e=e.return}}function xV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zn(),t.pingedLanes|=t.suspendedLanes&n,sn===t&&(yn&n)===n&&(Ht===4||Ht===3&&(yn&130023424)===yn&&500>Ot()-B1?Ua(t,0):U1|=n),er(t,e)}function gN(t,e){e===0&&(t.mode&1?(e=Sf,Sf<<=1,!(Sf&130023424)&&(Sf=4194304)):e=1);var n=zn();t=Qi(t,e),t!==null&&(hd(t,e,n),er(t,n))}function wV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gN(t,n)}function bV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),gN(t,n)}var yN;yN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jn.current)Qn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qn=!1,lV(t,e,n);Qn=!!(t.flags&131072)}else Qn=!1,pt&&e.flags&1048576&&bk(e,Kh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mh(t,e),t=e.pendingProps;var i=bl(e,On.current);dl(e,n),i=D1(null,e,r,t,i,n);var s=L1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zn(r)?(s=!0,Wh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,N1(e),i.updater=Tm,e.stateNode=i,i._reactInternals=e,c0(e,r,t,n),e=h0(null,e,r,!0,s,n)):(e.tag=0,pt&&s&&S1(e),Vn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=EV(r),t=Fr(r,t),i){case 0:e=f0(null,e,r,t,n);break e;case 1:e=kS(null,e,r,t,n);break e;case 11:e=PS(null,e,r,t,n);break e;case 14:e=CS(null,e,r,Fr(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),f0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),kS(t,e,r,i,n);case 3:e:{if(eN(e),t===null)throw Error(Z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ik(t,e),Yh(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Tl(Error(Z(423)),e),e=NS(t,e,r,n,i);break e}else if(r!==i){i=Tl(Error(Z(424)),e),e=NS(t,e,r,n,i);break e}else for(lr=Us(e.stateNode.containerInfo.firstChild),dr=e,pt=!0,Ur=null,n=Tk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_l(),r===i){e=Xi(t,e,n);break e}Vn(t,e,r,n)}e=e.child}return e;case 5:return Pk(e),t===null&&o0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,n0(r,i)?a=null:s!==null&&n0(r,s)&&(e.flags|=32),Zk(t,e),Vn(t,e,a,n),e.child;case 6:return t===null&&o0(e),null;case 13:return tN(t,e,n);case 4:return O1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=El(e,null,r,n):Vn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),PS(t,e,r,i,n);case 7:return Vn(t,e,e.pendingProps,n),e.child;case 8:return Vn(t,e,e.pendingProps.children,n),e.child;case 12:return Vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,nt(qh,r._currentValue),r._currentValue=a,s!==null)if(ei(s.value,a)){if(s.children===i.children&&!Jn.current){e=Xi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ki(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),l0(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Z(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),l0(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Vn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,dl(e,n),i=Cr(i),r=r(i),e.flags|=1,Vn(t,e,r,n),e.child;case 14:return r=e.type,i=Fr(r,e.pendingProps),i=Fr(r.type,i),CS(t,e,r,i,n);case 15:return Xk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),mh(t,e),e.tag=1,Zn(r)?(t=!0,Wh(e)):t=!1,dl(e,n),Gk(e,r,i),c0(e,r,i,n),h0(null,e,r,!0,t,n);case 19:return nN(t,e,n);case 22:return Jk(t,e,n)}throw Error(Z(156,e.tag))};function vN(t,e){return HC(t,e)}function _V(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(t,e,n,r){return new _V(t,e,n,r)}function q1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EV(t){if(typeof t=="function")return q1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===f1)return 11;if(t===h1)return 14}return 2}function Ks(t,e){var n=t.alternate;return n===null?(n=Tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vh(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")q1(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Go:return Ba(n.children,i,s,e);case d1:a=8,i|=8;break;case Rv:return t=Tr(12,n,e,i|2),t.elementType=Rv,t.lanes=s,t;case Mv:return t=Tr(13,n,e,i),t.elementType=Mv,t.lanes=s,t;case Dv:return t=Tr(19,n,e,i),t.elementType=Dv,t.lanes=s,t;case PC:return Pm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AC:a=10;break e;case IC:a=9;break e;case f1:a=11;break e;case h1:a=14;break e;case Ts:a=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Tr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ba(t,e,n,r){return t=Tr(7,t,r,e),t.lanes=n,t}function Pm(t,e,n,r){return t=Tr(22,t,r,e),t.elementType=PC,t.lanes=n,t.stateNode={isHidden:!1},t}function Hy(t,e,n){return t=Tr(6,t,null,e),t.lanes=n,t}function Ky(t,e,n){return e=Tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ay(0),this.expirationTimes=Ay(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ay(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function G1(t,e,n,r,i,s,a,o,l){return t=new SV(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Tr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},N1(s),t}function TV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xN(t){if(!t)return ea;t=t._reactInternals;e:{if(wo(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Zn(n))return xk(t,n,e)}return e}function wN(t,e,n,r,i,s,a,o,l){return t=G1(n,r,!0,t,i,s,a,o,l),t.context=xN(null),n=t.current,r=zn(),i=Hs(n),s=Ki(r,i),s.callback=e??null,Bs(n,s,i),t.current.lanes=i,hd(t,i,r),er(t,r),t}function Cm(t,e,n,r){var i=e.current,s=zn(),a=Hs(i);return n=xN(n),e.context===null?e.context=n:e.pendingContext=n,e=Ki(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bs(i,e,a),t!==null&&(Yr(t,i,a,s),fh(t,i,a)),a}function rp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Y1(t,e){zS(t,e),(t=t.alternate)&&zS(t,e)}function AV(){return null}var bN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Q1(t){this._internalRoot=t}km.prototype.render=Q1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Cm(t,e,null,null)};km.prototype.unmount=Q1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;eo(function(){Cm(null,t,null,null)}),e[Yi]=null}};function km(t){this._internalRoot=t}km.prototype.unstable_scheduleHydration=function(t){if(t){var e=JC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cs.length&&e!==0&&e<Cs[n].priority;n++);Cs.splice(n,0,t),n===0&&ek(t)}};function X1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function US(){}function IV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=rp(a);s.call(u)}}var a=wN(e,r,t,0,null,!1,!1,"",US);return t._reactRootContainer=a,t[Yi]=a.current,Cc(t.nodeType===8?t.parentNode:t),eo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=rp(l);o.call(u)}}var l=G1(t,0,!1,null,null,!1,!1,"",US);return t._reactRootContainer=l,t[Yi]=l.current,Cc(t.nodeType===8?t.parentNode:t),eo(function(){Cm(e,l,n,r)}),l}function Om(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=rp(a);o.call(l)}}Cm(e,a,t,i)}else a=IV(n,e,t,i,r);return rp(a)}QC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hu(e.pendingLanes);n!==0&&(g1(e,n|1),er(e,Ot()),!($e&6)&&(Al=Ot()+500,ma()))}break;case 13:eo(function(){var r=Qi(t,1);if(r!==null){var i=zn();Yr(r,t,1,i)}}),Y1(t,1)}};y1=function(t){if(t.tag===13){var e=Qi(t,134217728);if(e!==null){var n=zn();Yr(e,t,134217728,n)}Y1(t,134217728)}};XC=function(t){if(t.tag===13){var e=Hs(t),n=Qi(t,e);if(n!==null){var r=zn();Yr(n,t,e,r)}Y1(t,e)}};JC=function(){return Ge};ZC=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};Kv=function(t,e,n){switch(e){case"input":if($v(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_m(r);if(!i)throw Error(Z(90));kC(r),$v(r,i)}}}break;case"textarea":OC(t,n);break;case"select":e=n.value,e!=null&&ol(t,!!n.multiple,e,!1)}};$C=W1;FC=eo;var PV={usingClientEntryPoint:!1,Events:[md,Jo,_m,LC,VC,W1]},Ou={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CV={bundleType:Ou.bundleType,version:Ou.version,rendererPackageName:Ou.rendererPackageName,rendererConfig:Ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BC(t),t===null?null:t.stateNode},findFiberByHostInstance:Ou.findFiberByHostInstance||AV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mf.isDisabled&&Mf.supportsFiber)try{vm=Mf.inject(CV),di=Mf}catch{}}gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PV;gr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X1(e))throw Error(Z(200));return TV(t,e,null,n)};gr.createRoot=function(t,e){if(!X1(t))throw Error(Z(299));var n=!1,r="",i=bN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=G1(t,1,!1,null,null,n,!1,r,i),t[Yi]=e.current,Cc(t.nodeType===8?t.parentNode:t),new Q1(e)};gr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=BC(e),t=t===null?null:t.stateNode,t};gr.flushSync=function(t){return eo(t)};gr.hydrate=function(t,e,n){if(!Nm(e))throw Error(Z(200));return Om(null,t,e,!0,n)};gr.hydrateRoot=function(t,e,n){if(!X1(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=bN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=wN(e,null,t,1,n??null,i,!1,s,a),t[Yi]=e.current,Cc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new km(e)};gr.render=function(t,e,n){if(!Nm(e))throw Error(Z(200));return Om(null,t,e,!1,n)};gr.unmountComponentAtNode=function(t){if(!Nm(t))throw Error(Z(40));return t._reactRootContainer?(eo(function(){Om(null,null,t,!1,function(){t._reactRootContainer=null,t[Yi]=null})}),!0):!1};gr.unstable_batchedUpdates=W1;gr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nm(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Om(t,e,n,!1,r)};gr.version="18.3.1-next-f1338f8080-20240426";function _N(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_N)}catch(t){console.error(t)}}_N(),_C.exports=gr;var J1=_C.exports,BS=J1;Ov.createRoot=BS.createRoot,Ov.hydrateRoot=BS.hydrateRoot;/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),WS=t=>{const e=NV(t);return e.charAt(0).toUpperCase()+e.slice(1)},EN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),OV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>v.createElement("svg",{ref:l,...jV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:EN("lucide",i),...!s&&!OV(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,c])=>v.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(t,e)=>{const n=v.forwardRef(({className:r,...i},s)=>v.createElement(RV,{ref:s,iconNode:e,className:EN(`lucide-${kV(WS(t))}`,`lucide-${t}`,r),...i}));return n.displayName=WS(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],DV=ee("arrow-down",MV);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],VV=ee("arrow-left-right",LV);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],FV=ee("arrow-left",$V);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],UV=ee("arrow-right-left",zV);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],T0=ee("arrow-right",BV);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],HV=ee("arrow-up",WV);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],qV=ee("baby",KV);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],HS=ee("bed-double",GV);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],QV=ee("bird",YV);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],JV=ee("book-open",XV);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],SN=ee("briefcase",ZV);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],t$=ee("bus",e$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jm=ee("calendar",n$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],i$=ee("camera",r$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],a$=ee("cat",s$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],l$=ee("chart-pie",o$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],to=ee("check",u$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zi=ee("chevron-down",c$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],f$=ee("chevron-left",d$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ss=ee("chevron-right",h$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],m$=ee("chevron-up",p$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],TN=ee("circle-alert",g$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],AN=ee("circle-check-big",y$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],x$=ee("circle-dollar-sign",v$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KS=ee("circle-question-mark",w$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],_$=ee("circle-stop",b$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],IN=ee("coffee",E$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],no=ee("coins",S$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],A$=ee("copy",T$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]],P$=ee("corner-down-left",I$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ip=ee("credit-card",C$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],qS=ee("delete",k$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],O$=ee("dog",N$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],R$=ee("ellipsis",j$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["line",{x1:"5",x2:"19",y1:"9",y2:"9",key:"1nwqeh"}],["line",{x1:"5",x2:"19",y1:"15",y2:"15",key:"g8yjpy"}]],D$=ee("equal",M$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],V$=ee("eye-off",L$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F$=ee("eye",$$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],U$=ee("file-text",z$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],W$=ee("fish",B$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],K$=ee("gamepad-2",H$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],G$=ee("gamepad",q$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],PN=ee("gift",Y$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],A0=ee("globe",Q$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],J$=ee("graduation-cap",X$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Z1=ee("heart",Z$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],GS=ee("history",e9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],lc=ee("house",t9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],r9=ee("image",n9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],YS=ee("layout-grid",i9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],a9=ee("lock-open",s9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Il=ee("lock",o9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],u9=ee("log-in",l9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],d9=ee("log-out",c9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],QS=ee("message-circle",f9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],p9=ee("mic",h9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],CN=ee("music",m9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],y9=ee("palette",g9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],kN=ee("pen",v9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],w9=ee("pencil",x9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],NN=ee("plane",b9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yl=ee("plus",_9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]],S9=ee("rabbit",E9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],A9=ee("refresh-ccw",T9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],uc=ee("refresh-cw",I9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],ON=ee("repeat",P9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],k9=ee("rotate-ccw",C9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jN=ee("search",N9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],j9=ee("settings",O9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],M9=ee("share-2",R9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],L9=ee("shield-alert",D9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],XS=ee("shield-check",V9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],I0=ee("shopping-bag",$9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],P0=ee("smartphone",F9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ew=ee("sparkles",z9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],JS=ee("sun",U9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],W9=ee("tag",B9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],K9=ee("ticket",H9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],ZS=ee("tram-front",q9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bo=ee("trash-2",G9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eT=ee("triangle-alert",Y9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"m12 10 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a8 8 0 1 0-16 0v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3l2-4h4Z",key:"1lbbv7"}],["path",{d:"M4.82 7.9 8 10",key:"m9wose"}],["path",{d:"M15.18 7.9 12 10",key:"p8dp2u"}],["path",{d:"M16.93 10H20a2 2 0 0 1 0 4H2",key:"12nsm7"}]],X9=ee("turtle",Q9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],Z9=ee("tv",J9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],tF=ee("user-x",eF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pl=ee("user",nF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rm=ee("users",rF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],C0=ee("utensils",iF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],RN=ee("wallet",sF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],oF=ee("wrench",aF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hi=ee("x",lF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],MN=ee("zap",uF),cF=()=>{};var tT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},LN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|o>>4;let p=(o&15)<<2|u>>6,m=u&63;l||(m=64,a||(p=64)),r.push(n[c],n[d],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||d==null)throw new fF;const p=s<<2|o>>4;if(r.push(p),u!==64){const m=o<<4&240|u>>2;if(r.push(m),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hF=function(t){const e=DN(t);return LN.encodeByteArray(e,!0)},sp=function(t){return hF(t).replace(/\./g,"")},VN=function(t){try{return LN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=()=>pF().__FIREBASE_DEFAULTS__,gF=()=>{if(typeof process>"u"||typeof tT>"u")return;const t=tT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VN(t[1]);return e&&JSON.parse(e)},Mm=()=>{try{return cF()||mF()||gF()||yF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$N=t=>{var e,n;return(n=(e=Mm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vF=t=>{const e=$N(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FN=()=>{var t;return(t=Mm())===null||t===void 0?void 0:t.config},zN=t=>{var e;return(e=Mm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sp(JSON.stringify(n)),sp(JSON.stringify(a)),""].join(".")}const cc={};function bF(){const t={prod:[],emulator:[]};for(const e of Object.keys(cc))cc[e]?t.emulator.push(e):t.prod.push(e);return t}function _F(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nT=!1;function BN(t,e){if(typeof window>"u"||typeof document>"u"||!Ql(window.location.host)||cc[t]===e||cc[t]||nT)return;cc[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=bF().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{nT=!0,a()},p}function c(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=_F(r),m=n("text"),g=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),b=document.getElementById(w)||document.createElement("a"),x=n("preprendIcon"),_=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;o(S),c(b,w);const C=u();l(_,x),S.append(_,g,b,C),document.body.appendChild(S)}s?(g.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function SF(){var t;const e=(t=Mm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PF(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CF(){return!SF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kF(){try{return typeof indexedDB=="object"}catch{return!1}}function NF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF="FirebaseError";class ds extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OF,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yd.prototype.create)}}class yd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?jF(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new ds(i,o,r)}}function jF(t,e){return t.replace(RF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RF=/\{\$([^}]+)}/g;function MF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ta(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(rT(s)&&rT(a)){if(!ta(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function DF(t,e){const n=new LF(t,e);return n.subscribe.bind(n)}class LF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qy),i.error===void 0&&(i.error=qy),i.complete===void 0&&(i.complete=qy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){return t&&t._delegate?t._delegate:t}class ro{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $F=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zF(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FF(t){return t===ka?void 0:t}function zF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $F(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const BF={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},WF=Oe.INFO,HF={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},KF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tw{constructor(e){this.name=e,this._logLevel=WF,this._logHandler=KF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const qF=(t,e)=>e.some(n=>t instanceof n);let iT,sT;function GF(){return iT||(iT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YF(){return sT||(sT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WN=new WeakMap,k0=new WeakMap,HN=new WeakMap,Gy=new WeakMap,nw=new WeakMap;function QF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(qs(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&WN.set(n,t)}).catch(()=>{}),nw.set(e,t),e}function XF(t){if(k0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});k0.set(t,e)}let N0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return k0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JF(t){N0=t(N0)}function ZF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yy(this),e,...n);return HN.set(r,e.sort?e.sort():[e]),qs(r)}:YF().includes(t)?function(...e){return t.apply(Yy(this),e),qs(WN.get(this))}:function(...e){return qs(t.apply(Yy(this),e))}}function ez(t){return typeof t=="function"?ZF(t):(t instanceof IDBTransaction&&XF(t),qF(t,GF())?new Proxy(t,N0):t)}function qs(t){if(t instanceof IDBRequest)return QF(t);if(Gy.has(t))return Gy.get(t);const e=ez(t);return e!==t&&(Gy.set(t,e),nw.set(e,t)),e}const Yy=t=>nw.get(t);function tz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=qs(a);return r&&a.addEventListener("upgradeneeded",l=>{r(qs(a.result),l.oldVersion,l.newVersion,qs(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const nz=["get","getKey","getAll","getAllKeys","count"],rz=["put","add","delete","clear"],Qy=new Map;function aT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qy.get(e))return Qy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nz.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return Qy.set(e,s),s}JF(t=>({...t,get:(e,n,r)=>aT(e,n)||t.get(e,n,r),has:(e,n)=>!!aT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const O0="@firebase/app",oT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new tw("@firebase/app"),az="@firebase/app-compat",oz="@firebase/analytics-compat",lz="@firebase/analytics",uz="@firebase/app-check-compat",cz="@firebase/app-check",dz="@firebase/auth",fz="@firebase/auth-compat",hz="@firebase/database",pz="@firebase/data-connect",mz="@firebase/database-compat",gz="@firebase/functions",yz="@firebase/functions-compat",vz="@firebase/installations",xz="@firebase/installations-compat",wz="@firebase/messaging",bz="@firebase/messaging-compat",_z="@firebase/performance",Ez="@firebase/performance-compat",Sz="@firebase/remote-config",Tz="@firebase/remote-config-compat",Az="@firebase/storage",Iz="@firebase/storage-compat",Pz="@firebase/firestore",Cz="@firebase/ai",kz="@firebase/firestore-compat",Nz="firebase",Oz="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="[DEFAULT]",jz={[O0]:"fire-core",[az]:"fire-core-compat",[lz]:"fire-analytics",[oz]:"fire-analytics-compat",[cz]:"fire-app-check",[uz]:"fire-app-check-compat",[dz]:"fire-auth",[fz]:"fire-auth-compat",[hz]:"fire-rtdb",[pz]:"fire-data-connect",[mz]:"fire-rtdb-compat",[gz]:"fire-fn",[yz]:"fire-fn-compat",[vz]:"fire-iid",[xz]:"fire-iid-compat",[wz]:"fire-fcm",[bz]:"fire-fcm-compat",[_z]:"fire-perf",[Ez]:"fire-perf-compat",[Sz]:"fire-rc",[Tz]:"fire-rc-compat",[Az]:"fire-gcs",[Iz]:"fire-gcs-compat",[Pz]:"fire-fst",[kz]:"fire-fst-compat",[Cz]:"fire-vertex","fire-js":"fire-js",[Nz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=new Map,Rz=new Map,R0=new Map;function lT(t,e){try{t.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cl(t){const e=t.name;if(R0.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;R0.set(e,t);for(const n of ap.values())lT(n,t);for(const n of Rz.values())lT(n,t);return!0}function rw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Br(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new yd("app","Firebase",Mz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=Oz;function KN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:j0,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Gs.create("bad-app-name",{appName:String(i)});if(n||(n=FN()),!n)throw Gs.create("no-options");const s=ap.get(i);if(s){if(ta(n,s.options)&&ta(r,s.config))return s;throw Gs.create("duplicate-app",{appName:i})}const a=new UF(i);for(const l of R0.values())a.addComponent(l);const o=new Dz(n,r,a);return ap.set(i,o),o}function qN(t=j0){const e=ap.get(t);if(!e&&t===j0&&FN())return KN();if(!e)throw Gs.create("no-app",{appName:t});return e}function Ys(t,e,n){var r;let i=(r=jz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(o.join(" "));return}Cl(new ro(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="firebase-heartbeat-database",Vz=1,Vc="firebase-heartbeat-store";let Xy=null;function GN(){return Xy||(Xy=tz(Lz,Vz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gs.create("idb-open",{originalErrorMessage:t.message})})),Xy}async function $z(t){try{const n=(await GN()).transaction(Vc),r=await n.objectStore(Vc).get(YN(t));return await n.done,r}catch(e){if(e instanceof ds)Ji.warn(e.message);else{const n=Gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function uT(t,e){try{const r=(await GN()).transaction(Vc,"readwrite");await r.objectStore(Vc).put(e,YN(t)),await r.done}catch(n){if(n instanceof ds)Ji.warn(n.message);else{const r=Gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(r.message)}}}function YN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=1024,zz=30;class Uz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Wz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>zz){const a=Hz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cT(),{heartbeatsToSend:r,unsentEntries:i}=Bz(this._heartbeatsCache.heartbeats),s=sp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ji.warn(n),""}}}function cT(){return new Date().toISOString().substring(0,10)}function Bz(t,e=Fz){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),dT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Wz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kF()?NF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $z(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dT(t){return sp(JSON.stringify({version:2,heartbeats:t})).length}function Hz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(t){Cl(new ro("platform-logger",e=>new iz(e),"PRIVATE")),Cl(new ro("heartbeat",e=>new Uz(e),"PRIVATE")),Ys(O0,oT,t),Ys(O0,oT,"esm2017"),Ys("fire-js","")}Kz("");function iw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function QN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qz=QN,XN=new yd("auth","Firebase",QN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=new tw("@firebase/auth");function Gz(t,...e){op.logLevel<=Oe.WARN&&op.warn(`Auth (${Xl}): ${t}`,...e)}function xh(t,...e){op.logLevel<=Oe.ERROR&&op.error(`Auth (${Xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,...e){throw aw(t,...e)}function Qr(t,...e){return aw(t,...e)}function sw(t,e,n){const r=Object.assign(Object.assign({},qz()),{[e]:n});return new yd("auth","Firebase",r).create(e,{appName:t.name})}function Wa(t){return sw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wi(t,"argument-error"),sw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function aw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XN.create(t,...e)}function Se(t,e,...n){if(!t)throw aw(e,...n)}function Ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xh(e),new Error(e)}function Zi(t,e){t||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Qz(){return fT()==="http:"||fT()==="https:"}function fT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qz()||AF()||"connection"in navigator)?navigator.onLine:!0}function Jz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zi(n>e,"Short delay should be less than long delay!"),this.isMobile=EF()||IF()}get(){return Xz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t,e){Zi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t8=new xd(3e4,6e4);function lw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jl(t,e,n,r,i={}){return ZN(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=vd(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return TF()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ql(t.emulatorConfig.host)&&(u.credentials="include"),JN.fetch()(await eO(t,t.config.apiHost,n,o),u)})}async function ZN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Zz),e);try{const i=new r8(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Df(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Df(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Df(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw sw(t,c,u);wi(t,c)}}catch(i){if(i instanceof ds)throw i;wi(t,"network-request-failed",{message:String(i)})}}async function n8(t,e,n,r,i={}){const s=await Jl(t,e,n,r,i);return"mfaPendingCredential"in s&&wi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function eO(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?ow(t.config,i):`${t.config.apiScheme}://${i}`;return e8.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class r8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),t8.get())})}}function Df(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i8(t,e){return Jl(t,"POST","/v1/accounts:delete",e)}async function lp(t,e){return Jl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s8(t,e=!1){const n=xn(t),r=await n.getIdToken(e),i=uw(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:dc(Jy(i.auth_time)),issuedAtTime:dc(Jy(i.iat)),expirationTime:dc(Jy(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Jy(t){return Number(t)*1e3}function uw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const i=VN(n);return i?JSON.parse(i):(xh("Failed to decode base64 JWT payload"),null)}catch(i){return xh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hT(t){const e=uw(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ds&&a8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function a8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function up(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $c(t,lp(n,{idToken:r}));Se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tO(s.providerUserInfo):[],o=u8(t.providerData,a),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new D0(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function l8(t){const e=xn(t);await up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function u8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tO(t){return t.map(e=>{var{providerId:n}=e,r=iw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c8(t,e){const n=await ZN(t,{},async()=>{const r=vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await eO(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Ql(t.emulatorConfig.host)&&(l.credentials="include"),JN.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function d8(t,e){return Jl(t,"POST","/v2/accounts:revokeToken",lw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=hT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await c8(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new hl;return r&&(Se(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Se(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=iw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new D0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await $c(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s8(this,e)}reload(){return l8(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await up(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Br(this.auth.app))return Promise.reject(Wa(this.auth));const e=await this.getIdToken();return await $c(this,i8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,w=(o=n.tenantId)!==null&&o!==void 0?o:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:C,isAnonymous:k,providerData:O,stsTokenManager:A}=n;Se(S&&A,e,"internal-error");const T=hl.fromJSON(this.name,A);Se(typeof S=="string",e,"internal-error"),Es(d,e.name),Es(p,e.name),Se(typeof C=="boolean",e,"internal-error"),Se(typeof k=="boolean",e,"internal-error"),Es(m,e.name),Es(g,e.name),Es(w,e.name),Es(b,e.name),Es(x,e.name),Es(_,e.name);const I=new qr({uid:S,auth:e,email:p,emailVerified:C,displayName:d,isAnonymous:k,photoURL:g,phoneNumber:m,tenantId:w,stsTokenManager:T,createdAt:x,lastLoginAt:_});return O&&Array.isArray(O)&&(I.providerData=O.map(N=>Object.assign({},N))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new hl;i.updateFromServerResponse(n);const s=new qr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await up(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?tO(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new hl;o.updateFromIdToken(r);const l=new qr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new D0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new Map;function Bi(t){Zi(t instanceof Function,"Expected a class definition");let e=pT.get(t);return e?(Zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nO.type="NONE";const mT=nO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t,e,n){return`firebase:${t}:${e}:${n}`}class pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wh(this.userKey,i.apiKey,s),this.fullPersistenceKey=wh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lp(this.auth,{idToken:e}).catch(()=>{});return n?qr._fromGetAccountInfoResponse(this.auth,n,e):null}return qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pl(Bi(mT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Bi(mT);const a=wh(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const c=await u._get(a);if(c){let d;if(typeof c=="string"){const p=await lp(e,{idToken:c}).catch(()=>{});if(!p)break;d=await qr._fromGetAccountInfoResponse(e,p,c)}else d=qr._fromJSON(e,c);u!==s&&(o=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new pl(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new pl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lO(e))return"Blackberry";if(uO(e))return"Webos";if(iO(e))return"Safari";if((e.includes("chrome/")||sO(e))&&!e.includes("edge/"))return"Chrome";if(oO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rO(t=jn()){return/firefox\//i.test(t)}function iO(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sO(t=jn()){return/crios\//i.test(t)}function aO(t=jn()){return/iemobile/i.test(t)}function oO(t=jn()){return/android/i.test(t)}function lO(t=jn()){return/blackberry/i.test(t)}function uO(t=jn()){return/webos/i.test(t)}function cw(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f8(t=jn()){var e;return cw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h8(){return PF()&&document.documentMode===10}function cO(t=jn()){return cw(t)||oO(t)||uO(t)||lO(t)||/windows phone/i.test(t)||aO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t,e=[]){let n;switch(t){case"Browser":n=gT(jn());break;case"Worker":n=`${gT(jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8(t,e={}){return Jl(t,"GET","/v2/passwordPolicy",lw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=6;class y8{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:g8,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yT(this),this.idTokenSubscription=new yT(this),this.beforeStateQueue=new p8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await pl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lp(this,{idToken:e}),r=await qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Br(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await up(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Jz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Br(this.app))return Promise.reject(Wa(this));const n=e?xn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Br(this.app)?Promise.reject(Wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Br(this.app)?Promise.reject(Wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m8(this),n=new y8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await d8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await pl.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Br(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Gz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Dm(t){return xn(t)}class yT{constructor(e){this.auth=e,this.observer=null,this.addObserver=DF(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x8(t){dw=t}function w8(t){return dw.loadJS(t)}function b8(){return dw.gapiScript}function _8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t,e){const n=rw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ta(s,e??{}))return i;wi(i,"already-initialized")}return n.initialize({options:e})}function S8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T8(t,e,n){const r=Dm(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=fO(e),{host:a,port:o}=A8(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},c=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(ta(u,r.config.emulator)&&ta(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Ql(a)?(UN(`${s}//${a}${l}`),BN("Auth",!0)):I8()}function fO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function A8(t){const e=fO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:vT(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:vT(a)}}}function vT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,n){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e){return n8(t,"POST","/v1/accounts:signInWithIdp",lw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8="http://localhost";class io extends hO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=iw(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new io(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ml(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:P8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends fw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends wd{constructor(){super("facebook.com")}static credential(e){return io._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return io._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Di.credential(n,r)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends wd{constructor(){super("github.com")}static credential(e){return io._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends wd{constructor(){super("twitter.com")}static credential(e,n){return io._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return js.credential(n,r)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await qr._fromIdTokenResponse(e,r,i),a=xT(r);return new kl({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xT(r);return new kl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends ds{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cp(e,n,r,i)}}function pO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cp._fromErrorAndOperation(t,s,e,r):s})}async function C8(t,e,n=!1){const r=await $c(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return kl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k8(t,e,n=!1){const{auth:r}=t;if(Br(r.app))return Promise.reject(Wa(r));const i="reauthenticate";try{const s=await $c(t,pO(r,i,e,t),n);Se(s.idToken,r,"internal-error");const a=uw(s.idToken);Se(a,r,"internal-error");const{sub:o}=a;return Se(t.uid===o,r,"user-mismatch"),kl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&wi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(t,e,n=!1){if(Br(t.app))return Promise.reject(Wa(t));const r="signIn",i=await pO(t,r,e),s=await kl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function O8(t,e,n,r){return xn(t).onIdTokenChanged(e,n,r)}function j8(t,e,n){return xn(t).beforeAuthStateChanged(e,n)}function R8(t,e,n,r){return xn(t).onAuthStateChanged(e,n,r)}function M8(t){return xn(t).signOut()}async function D8(t){return xn(t).delete()}const dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dp,"1"),this.storage.removeItem(dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=1e3,V8=10;class gO extends mO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);h8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,V8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},L8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gO.type="LOCAL";const $8=gO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO extends mO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yO.type="SESSION";const vO=yO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Lm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await F8(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=hw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(p.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function U8(t){pi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function B8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function H8(){return xO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="firebaseLocalStorageDb",K8=1,fp="firebaseLocalStorage",bO="fbase_key";class bd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vm(t,e){return t.transaction([fp],e?"readwrite":"readonly").objectStore(fp)}function q8(){const t=indexedDB.deleteDatabase(wO);return new bd(t).toPromise()}function L0(){const t=indexedDB.open(wO,K8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fp,{keyPath:bO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fp)?e(r):(r.close(),await q8(),e(await L0()))})})}async function wT(t,e,n){const r=Vm(t,!0).put({[bO]:e,value:n});return new bd(r).toPromise()}async function G8(t,e){const n=Vm(t,!1).get(e),r=await new bd(n).toPromise();return r===void 0?null:r.value}function bT(t,e){const n=Vm(t,!0).delete(e);return new bd(n).toPromise()}const Y8=800,Q8=3;class _O{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await L0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Q8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lm._getInstance(H8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await B8(),!this.activeServiceWorker)return;this.sender=new z8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await L0();return await wT(e,dp,"1"),await bT(e,dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>G8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vm(i,!1).getAll();return new bd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_O.type="LOCAL";const X8=_O;new xd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t,e){return e?Bi(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends hO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function J8(t){return N8(t.auth,new pw(t),t.bypassAuthState)}function Z8(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),k8(n,new pw(t),t.bypassAuthState)}async function eU(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),C8(n,new pw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J8;case"linkViaPopup":case"linkViaRedirect":return eU;case"reauthViaPopup":case"reauthViaRedirect":return Z8;default:wi(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=new xd(2e3,1e4);async function nU(t,e,n){if(Br(t.app))return Promise.reject(Qr(t,"operation-not-supported-in-this-environment"));const r=Dm(t);Yz(t,e,fw);const i=EO(r,n);return new La(r,"signInViaPopup",e,i).executeNotNull()}class La extends SO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=hw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tU.get())};e()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="pendingRedirect",bh=new Map;class iU extends SO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const r=await sU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sU(t,e){const n=lU(e),r=oU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function aU(t,e){bh.set(t._key(),e)}function oU(t){return Bi(t._redirectPersistence)}function lU(t){return wh(rU,t.config.apiKey,t.name)}async function uU(t,e,n=!1){if(Br(t.app))return Promise.reject(Wa(t));const r=Dm(t),i=EO(r,e),a=await new iU(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=10*60*1e3;class dU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cU&&this.cachedEventUids.clear(),this.cachedEventUids.has(_T(e))}saveEventToCache(e){this.cachedEventUids.add(_T(e)),this.lastProcessedEventTime=Date.now()}}function _T(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(t,e={}){return Jl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mU=/^https?/;async function gU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hU(t);for(const n of e)try{if(yU(n))return}catch{}wi(t,"unauthorized-domain")}function yU(t){const e=M0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!mU.test(n))return!1;if(pU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=new xd(3e4,6e4);function ET(){const t=pi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xU(t){return new Promise((e,n)=>{var r,i,s;function a(){ET(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ET(),n(Qr(t,"network-request-failed"))},timeout:vU.get()})}if(!((i=(r=pi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=pi().gapi)===null||s===void 0)&&s.load)a();else{const o=_8("iframefcb");return pi()[o]=()=>{gapi.load?a():n(Qr(t,"network-request-failed"))},w8(`${b8()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw _h=null,e})}let _h=null;function wU(t){return _h=_h||xU(t),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new xd(5e3,15e3),_U="__/auth/iframe",EU="emulator/auth/iframe",SU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AU(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ow(e,EU):`https://${t.config.authDomain}/${_U}`,r={apiKey:e.apiKey,appName:t.name,v:Xl},i=TU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vd(r).slice(1)}`}async function IU(t){const e=await wU(t),n=pi().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:AU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Qr(t,"network-request-failed"),o=pi().setTimeout(()=>{s(a)},bU.get());function l(){pi().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CU=500,kU=600,NU="_blank",OU="http://localhost";class ST{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jU(t,e,n,r=CU,i=kU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},PU),{width:r.toString(),height:i.toString(),top:s,left:a}),u=jn().toLowerCase();n&&(o=sO(u)?NU:n),rO(u)&&(e=e||OU,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(f8(u)&&o!=="_self")return RU(e||"",o),new ST(null);const d=window.open(e||"",o,c);Se(d,t,"popup-blocked");try{d.focus()}catch{}return new ST(d)}function RU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="__/auth/handler",DU="emulator/auth/handler",LU=encodeURIComponent("fac");async function TT(t,e,n,r,i,s){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xl,eventId:i};if(e instanceof fw){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",MF(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))a[c]=d}if(e instanceof wd){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await t._getAppCheckToken(),u=l?`#${LU}=${encodeURIComponent(l)}`:"";return`${VU(t)}?${vd(o).slice(1)}${u}`}function VU({config:t}){return t.emulator?ow(t,DU):`https://${t.authDomain}/${MU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="webStorageSupport";class $U{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vO,this._completeRedirectFn=uU,this._overrideRedirectResult=aU}async _openPopup(e,n,r,i){var s;Zi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await TT(e,n,r,M0(),i);return jU(e,a,hw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await TT(e,n,r,M0(),i);return U8(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Zi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await IU(e),r=new dU(e);return n.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zy,{type:Zy},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Zy];a!==void 0&&n(!!a),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cO()||iO()||cw()}}const FU=$U;var AT="@firebase/auth",IT="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BU(t){Cl(new ro("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Se(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dO(t)},u=new v8(r,i,s,l);return S8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cl(new ro("auth-internal",e=>{const n=Dm(e.getProvider("auth").getImmediate());return(r=>new zU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(AT,IT,UU(t)),Ys(AT,IT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=5*60,HU=zN("authIdTokenMaxAge")||WU;let PT=null;const KU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HU)return;const i=n==null?void 0:n.token;PT!==i&&(PT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qU(t=qN()){const e=rw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=E8(t,{popupRedirectResolver:FU,persistence:[X8,$8,vO]}),r=zN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=KU(s.toString());j8(n,a,()=>a(n.currentUser)),O8(n,o=>a(o))}}const i=$N("auth");return i&&T8(n,`http://${i}`),n}function GU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}x8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",GU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BU("Browser");var YU="firebase",QU="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ys(YU,QU,"app");var CT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,AO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function I(){}I.prototype=T.prototype,A.D=T.prototype,A.prototype=new I,A.prototype.constructor=A,A.C=function(N,P,R){for(var j=Array(arguments.length-2),re=2;re<arguments.length;re++)j[re-2]=arguments[re];return T.prototype[P].apply(N,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,T,I){I||(I=0);var N=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)N[P]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(P=0;16>P;++P)N[P]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=A.g[0],I=A.g[1],P=A.g[2];var R=A.g[3],j=T+(R^I&(P^R))+N[0]+3614090360&4294967295;T=I+(j<<7&4294967295|j>>>25),j=R+(P^T&(I^P))+N[1]+3905402710&4294967295,R=T+(j<<12&4294967295|j>>>20),j=P+(I^R&(T^I))+N[2]+606105819&4294967295,P=R+(j<<17&4294967295|j>>>15),j=I+(T^P&(R^T))+N[3]+3250441966&4294967295,I=P+(j<<22&4294967295|j>>>10),j=T+(R^I&(P^R))+N[4]+4118548399&4294967295,T=I+(j<<7&4294967295|j>>>25),j=R+(P^T&(I^P))+N[5]+1200080426&4294967295,R=T+(j<<12&4294967295|j>>>20),j=P+(I^R&(T^I))+N[6]+2821735955&4294967295,P=R+(j<<17&4294967295|j>>>15),j=I+(T^P&(R^T))+N[7]+4249261313&4294967295,I=P+(j<<22&4294967295|j>>>10),j=T+(R^I&(P^R))+N[8]+1770035416&4294967295,T=I+(j<<7&4294967295|j>>>25),j=R+(P^T&(I^P))+N[9]+2336552879&4294967295,R=T+(j<<12&4294967295|j>>>20),j=P+(I^R&(T^I))+N[10]+4294925233&4294967295,P=R+(j<<17&4294967295|j>>>15),j=I+(T^P&(R^T))+N[11]+2304563134&4294967295,I=P+(j<<22&4294967295|j>>>10),j=T+(R^I&(P^R))+N[12]+1804603682&4294967295,T=I+(j<<7&4294967295|j>>>25),j=R+(P^T&(I^P))+N[13]+4254626195&4294967295,R=T+(j<<12&4294967295|j>>>20),j=P+(I^R&(T^I))+N[14]+2792965006&4294967295,P=R+(j<<17&4294967295|j>>>15),j=I+(T^P&(R^T))+N[15]+1236535329&4294967295,I=P+(j<<22&4294967295|j>>>10),j=T+(P^R&(I^P))+N[1]+4129170786&4294967295,T=I+(j<<5&4294967295|j>>>27),j=R+(I^P&(T^I))+N[6]+3225465664&4294967295,R=T+(j<<9&4294967295|j>>>23),j=P+(T^I&(R^T))+N[11]+643717713&4294967295,P=R+(j<<14&4294967295|j>>>18),j=I+(R^T&(P^R))+N[0]+3921069994&4294967295,I=P+(j<<20&4294967295|j>>>12),j=T+(P^R&(I^P))+N[5]+3593408605&4294967295,T=I+(j<<5&4294967295|j>>>27),j=R+(I^P&(T^I))+N[10]+38016083&4294967295,R=T+(j<<9&4294967295|j>>>23),j=P+(T^I&(R^T))+N[15]+3634488961&4294967295,P=R+(j<<14&4294967295|j>>>18),j=I+(R^T&(P^R))+N[4]+3889429448&4294967295,I=P+(j<<20&4294967295|j>>>12),j=T+(P^R&(I^P))+N[9]+568446438&4294967295,T=I+(j<<5&4294967295|j>>>27),j=R+(I^P&(T^I))+N[14]+3275163606&4294967295,R=T+(j<<9&4294967295|j>>>23),j=P+(T^I&(R^T))+N[3]+4107603335&4294967295,P=R+(j<<14&4294967295|j>>>18),j=I+(R^T&(P^R))+N[8]+1163531501&4294967295,I=P+(j<<20&4294967295|j>>>12),j=T+(P^R&(I^P))+N[13]+2850285829&4294967295,T=I+(j<<5&4294967295|j>>>27),j=R+(I^P&(T^I))+N[2]+4243563512&4294967295,R=T+(j<<9&4294967295|j>>>23),j=P+(T^I&(R^T))+N[7]+1735328473&4294967295,P=R+(j<<14&4294967295|j>>>18),j=I+(R^T&(P^R))+N[12]+2368359562&4294967295,I=P+(j<<20&4294967295|j>>>12),j=T+(I^P^R)+N[5]+4294588738&4294967295,T=I+(j<<4&4294967295|j>>>28),j=R+(T^I^P)+N[8]+2272392833&4294967295,R=T+(j<<11&4294967295|j>>>21),j=P+(R^T^I)+N[11]+1839030562&4294967295,P=R+(j<<16&4294967295|j>>>16),j=I+(P^R^T)+N[14]+4259657740&4294967295,I=P+(j<<23&4294967295|j>>>9),j=T+(I^P^R)+N[1]+2763975236&4294967295,T=I+(j<<4&4294967295|j>>>28),j=R+(T^I^P)+N[4]+1272893353&4294967295,R=T+(j<<11&4294967295|j>>>21),j=P+(R^T^I)+N[7]+4139469664&4294967295,P=R+(j<<16&4294967295|j>>>16),j=I+(P^R^T)+N[10]+3200236656&4294967295,I=P+(j<<23&4294967295|j>>>9),j=T+(I^P^R)+N[13]+681279174&4294967295,T=I+(j<<4&4294967295|j>>>28),j=R+(T^I^P)+N[0]+3936430074&4294967295,R=T+(j<<11&4294967295|j>>>21),j=P+(R^T^I)+N[3]+3572445317&4294967295,P=R+(j<<16&4294967295|j>>>16),j=I+(P^R^T)+N[6]+76029189&4294967295,I=P+(j<<23&4294967295|j>>>9),j=T+(I^P^R)+N[9]+3654602809&4294967295,T=I+(j<<4&4294967295|j>>>28),j=R+(T^I^P)+N[12]+3873151461&4294967295,R=T+(j<<11&4294967295|j>>>21),j=P+(R^T^I)+N[15]+530742520&4294967295,P=R+(j<<16&4294967295|j>>>16),j=I+(P^R^T)+N[2]+3299628645&4294967295,I=P+(j<<23&4294967295|j>>>9),j=T+(P^(I|~R))+N[0]+4096336452&4294967295,T=I+(j<<6&4294967295|j>>>26),j=R+(I^(T|~P))+N[7]+1126891415&4294967295,R=T+(j<<10&4294967295|j>>>22),j=P+(T^(R|~I))+N[14]+2878612391&4294967295,P=R+(j<<15&4294967295|j>>>17),j=I+(R^(P|~T))+N[5]+4237533241&4294967295,I=P+(j<<21&4294967295|j>>>11),j=T+(P^(I|~R))+N[12]+1700485571&4294967295,T=I+(j<<6&4294967295|j>>>26),j=R+(I^(T|~P))+N[3]+2399980690&4294967295,R=T+(j<<10&4294967295|j>>>22),j=P+(T^(R|~I))+N[10]+4293915773&4294967295,P=R+(j<<15&4294967295|j>>>17),j=I+(R^(P|~T))+N[1]+2240044497&4294967295,I=P+(j<<21&4294967295|j>>>11),j=T+(P^(I|~R))+N[8]+1873313359&4294967295,T=I+(j<<6&4294967295|j>>>26),j=R+(I^(T|~P))+N[15]+4264355552&4294967295,R=T+(j<<10&4294967295|j>>>22),j=P+(T^(R|~I))+N[6]+2734768916&4294967295,P=R+(j<<15&4294967295|j>>>17),j=I+(R^(P|~T))+N[13]+1309151649&4294967295,I=P+(j<<21&4294967295|j>>>11),j=T+(P^(I|~R))+N[4]+4149444226&4294967295,T=I+(j<<6&4294967295|j>>>26),j=R+(I^(T|~P))+N[11]+3174756917&4294967295,R=T+(j<<10&4294967295|j>>>22),j=P+(T^(R|~I))+N[2]+718787259&4294967295,P=R+(j<<15&4294967295|j>>>17),j=I+(R^(P|~T))+N[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(P+(j<<21&4294967295|j>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+R&4294967295}r.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var I=T-this.blockSize,N=this.B,P=this.h,R=0;R<T;){if(P==0)for(;R<=I;)i(this,A,R),R+=this.blockSize;if(typeof A=="string"){for(;R<T;)if(N[P++]=A.charCodeAt(R++),P==this.blockSize){i(this,N),P=0;break}}else for(;R<T;)if(N[P++]=A[R++],P==this.blockSize){i(this,N),P=0;break}}this.h=P,this.o+=T},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var I=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=I&255,I/=256;for(this.u(A),A=Array(16),T=I=0;4>T;++T)for(var N=0;32>N;N+=8)A[I++]=this.g[T]>>>N&255;return A};function s(A,T){var I=o;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=T(A)}function a(A,T){this.h=T;for(var I=[],N=!0,P=A.length-1;0<=P;P--){var R=A[P]|0;N&&R==T||(I[P]=R,N=!1)}this.g=I}var o={};function l(A){return-128<=A&&128>A?s(A,function(T){return new a([T|0],0>T?-1:0)}):new a([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return d;if(0>A)return b(u(-A));for(var T=[],I=1,N=0;A>=I;N++)T[N]=A/I|0,I*=4294967296;return new a(T,0)}function c(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return b(c(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(T,8)),N=d,P=0;P<A.length;P+=8){var R=Math.min(8,A.length-P),j=parseInt(A.substring(P,P+R),T);8>R?(R=u(Math.pow(T,R)),N=N.j(R).add(u(j))):(N=N.j(I),N=N.add(u(j)))}return N}var d=l(0),p=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(w(this))return-b(this).m();for(var A=0,T=1,I=0;I<this.g.length;I++){var N=this.i(I);A+=(0<=N?N:4294967296+N)*T,T*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(g(this))return"0";if(w(this))return"-"+b(this).toString(A);for(var T=u(Math.pow(A,6)),I=this,N="";;){var P=C(I,T).g;I=x(I,P.j(T));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(A);if(I=P,g(I))return R+N;for(;6>R.length;)R="0"+R;N=R+N}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function g(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function w(A){return A.h==-1}t.l=function(A){return A=x(this,A),w(A)?-1:g(A)?0:1};function b(A){for(var T=A.g.length,I=[],N=0;N<T;N++)I[N]=~A.g[N];return new a(I,~A.h).add(p)}t.abs=function(){return w(this)?b(this):this},t.add=function(A){for(var T=Math.max(this.g.length,A.g.length),I=[],N=0,P=0;P<=T;P++){var R=N+(this.i(P)&65535)+(A.i(P)&65535),j=(R>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);N=j>>>16,R&=65535,j&=65535,I[P]=j<<16|R}return new a(I,I[I.length-1]&-2147483648?-1:0)};function x(A,T){return A.add(b(T))}t.j=function(A){if(g(this)||g(A))return d;if(w(this))return w(A)?b(this).j(b(A)):b(b(this).j(A));if(w(A))return b(this.j(b(A)));if(0>this.l(m)&&0>A.l(m))return u(this.m()*A.m());for(var T=this.g.length+A.g.length,I=[],N=0;N<2*T;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<A.g.length;P++){var R=this.i(N)>>>16,j=this.i(N)&65535,re=A.i(P)>>>16,ne=A.i(P)&65535;I[2*N+2*P]+=j*ne,_(I,2*N+2*P),I[2*N+2*P+1]+=R*ne,_(I,2*N+2*P+1),I[2*N+2*P+1]+=j*re,_(I,2*N+2*P+1),I[2*N+2*P+2]+=R*re,_(I,2*N+2*P+2)}for(N=0;N<T;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=T;N<2*T;N++)I[N]=0;return new a(I,0)};function _(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function S(A,T){this.g=A,this.h=T}function C(A,T){if(g(T))throw Error("division by zero");if(g(A))return new S(d,d);if(w(A))return T=C(b(A),T),new S(b(T.g),b(T.h));if(w(T))return T=C(A,b(T)),new S(b(T.g),T.h);if(30<A.g.length){if(w(A)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var I=p,N=T;0>=N.l(A);)I=k(I),N=k(N);var P=O(I,1),R=O(N,1);for(N=O(N,2),I=O(I,2);!g(N);){var j=R.add(N);0>=j.l(A)&&(P=P.add(I),R=j),N=O(N,1),I=O(I,1)}return T=x(A,P.j(T)),new S(P,T)}for(P=d;0<=A.l(T);){for(I=Math.max(1,Math.floor(A.m()/T.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),R=u(I),j=R.j(T);w(j)||0<j.l(A);)I-=N,R=u(I),j=R.j(T);g(R)&&(R=p),P=P.add(R),A=x(A,j)}return new S(P,A)}t.A=function(A){return C(this,A).h},t.and=function(A){for(var T=Math.max(this.g.length,A.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)&A.i(N);return new a(I,this.h&A.h)},t.or=function(A){for(var T=Math.max(this.g.length,A.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)|A.i(N);return new a(I,this.h|A.h)},t.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)^A.i(N);return new a(I,this.h^A.h)};function k(A){for(var T=A.g.length+1,I=[],N=0;N<T;N++)I[N]=A.i(N)<<1|A.i(N-1)>>>31;return new a(I,A.h)}function O(A,T){var I=T>>5;T%=32;for(var N=A.g.length-I,P=[],R=0;R<N;R++)P[R]=0<T?A.i(R+I)>>>T|A.i(R+I+1)<<32-T:A.i(R+I);return new a(P,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AO=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,Qs=a}).apply(typeof CT<"u"?CT:typeof self<"u"?self:typeof window<"u"?window:{});var Lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IO,qu,PO,Eh,V0,CO,kO,NO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lf=="object"&&Lf];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(f,y){if(y)e:{var E=r;f=f.split(".");for(var M=0;M<f.length-1;M++){var V=f[M];if(!(V in E))break e;E=E[V]}f=f[f.length-1],M=E[f],y=y(M),y!=M&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}function s(f,y){f instanceof String&&(f+="");var E=0,M=!1,V={next:function(){if(!M&&E<f.length){var W=E++;return{value:y(W,f[W]),done:!1}}return M=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(f){return f||function(){return s(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function u(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function c(f,y,E){return f.call.apply(f.bind,arguments)}function d(f,y,E){if(!f)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,M),f.apply(y,V)}}return function(){return f.apply(y,arguments)}}function p(f,y,E){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,p.apply(null,arguments)}function m(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var M=E.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function g(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(M,V,W){for(var se=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)se[Qe-2]=arguments[Qe];return y.prototype[V].apply(M,se)}}function w(f){const y=f.length;if(0<y){const E=Array(y);for(let M=0;M<y;M++)E[M]=f[M];return E}return[]}function b(f,y){for(let E=1;E<arguments.length;E++){const M=arguments[E];if(l(M)){const V=f.length||0,W=M.length||0;f.length=V+W;for(let se=0;se<W;se++)f[V+se]=M[se]}else f.push(M)}}class x{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function _(f){return/^[\s\xa0]*$/.test(f)}function S(){var f=o.navigator;return f&&(f=f.userAgent)?f:""}function C(f){return C[" "](f),f}C[" "]=function(){};var k=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function O(f,y,E){for(const M in f)y.call(E,f[M],M,f)}function A(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function T(f){const y={};for(const E in f)y[E]=f[E];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,y){let E,M;for(let V=1;V<arguments.length;V++){M=arguments[V];for(E in M)f[E]=M[E];for(let W=0;W<I.length;W++)E=I[W],Object.prototype.hasOwnProperty.call(M,E)&&(f[E]=M[E])}}function P(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function R(f){o.setTimeout(()=>{throw f},0)}function j(){var f=L;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,E){const M=ne.get();M.set(y,E),this.h?this.h.next=M:this.g=M,this.h=M}}var ne=new x(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let F,D=!1,L=new re,H=()=>{const f=o.Promise.resolve(void 0);F=()=>{f.then(q)}};var q=()=>{for(var f;f=j();){try{f.h.call(f.g)}catch(E){R(E)}var y=ne;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}D=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};o.addEventListener("test",E,y),o.removeEventListener("test",E,y)}catch{}return f}();function he(f,y){if(ie.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(k){e:{try{C(y.nodeName);var V=!0;break e}catch{}V=!1}V||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ge[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&he.aa.h.call(this)}}g(he,ie);var ge={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Re=0;function K(f,y,E,M,V){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!M,this.ha=V,this.key=++Re,this.da=this.fa=!1}function J(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function G(f){this.src=f,this.g={},this.h=0}G.prototype.add=function(f,y,E,M,V){var W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);var se=oe(f,y,M,V);return-1<se?(y=f[se],E||(y.fa=!1)):(y=new K(y,this.src,W,!!M,V),y.fa=E,f.push(y)),y};function B(f,y){var E=y.type;if(E in f.g){var M=f.g[E],V=Array.prototype.indexOf.call(M,y,void 0),W;(W=0<=V)&&Array.prototype.splice.call(M,V,1),W&&(J(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function oe(f,y,E,M){for(var V=0;V<f.length;++V){var W=f[V];if(!W.da&&W.listener==y&&W.capture==!!E&&W.ha==M)return V}return-1}var le="closure_lm_"+(1e6*Math.random()|0),Ae={};function Ie(f,y,E,M,V){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Ie(f,y[W],E,M,V);return null}return E=fe(E),f&&f[we]?f.K(y,E,u(M)?!!M.capture:!1,V):Me(f,y,E,!1,M,V)}function Me(f,y,E,M,V,W){if(!y)throw Error("Invalid event type");var se=u(V)?!!V.capture:!!V,Qe=ln(f);if(Qe||(f[le]=Qe=new G(f)),E=Qe.add(y,E,M,se,W),E.proxy)return E;if(M=Ct(),E.proxy=M,M.src=f,M.listener=E,f.addEventListener)ae||(V=se),V===void 0&&(V=!1),f.addEventListener(y.toString(),M,V);else if(f.attachEvent)f.attachEvent(Jt(y.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ct(){function f(E){return y.call(f.src,f.listener,E)}const y=Hn;return f}function ct(f,y,E,M,V){if(Array.isArray(y))for(var W=0;W<y.length;W++)ct(f,y[W],E,M,V);else M=u(M)?!!M.capture:!!M,E=fe(E),f&&f[we]?(f=f.i,y=String(y).toString(),y in f.g&&(W=f.g[y],E=oe(W,E,M,V),-1<E&&(J(W[E]),Array.prototype.splice.call(W,E,1),W.length==0&&(delete f.g[y],f.h--)))):f&&(f=ln(f))&&(y=f.g[y.toString()],f=-1,y&&(f=oe(y,E,M,V)),(E=-1<f?y[f]:null)&&Xt(E))}function Xt(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[we])B(y.i,f);else{var E=f.type,M=f.proxy;y.removeEventListener?y.removeEventListener(E,M,f.capture):y.detachEvent?y.detachEvent(Jt(E),M):y.addListener&&y.removeListener&&y.removeListener(M),(E=ln(y))?(B(E,f),E.h==0&&(E.src=null,y[le]=null)):J(f)}}}function Jt(f){return f in Ae?Ae[f]:Ae[f]="on"+f}function Hn(f,y){if(f.da)f=!0;else{y=new he(y,this);var E=f.listener,M=f.ha||f.src;f.fa&&Xt(f),f=E.call(M,y)}return f}function ln(f){return f=f[le],f instanceof G?f:null}var U="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(f){return typeof f=="function"?f:(f[U]||(f[U]=function(y){return f.handleEvent(y)}),f[U])}function Ee(){Q.call(this),this.i=new G(this),this.M=this,this.F=null}g(Ee,Q),Ee.prototype[we]=!0,Ee.prototype.removeEventListener=function(f,y,E,M){ct(this,f,y,E,M)};function Ve(f,y){var E,M=f.F;if(M)for(E=[];M;M=M.F)E.push(M);if(f=f.M,M=y.type||y,typeof y=="string")y=new ie(y,f);else if(y instanceof ie)y.target=y.target||f;else{var V=y;y=new ie(M,f),N(y,V)}if(V=!0,E)for(var W=E.length-1;0<=W;W--){var se=y.g=E[W];V=dt(se,M,!0,y)&&V}if(se=y.g=f,V=dt(se,M,!0,y)&&V,V=dt(se,M,!1,y)&&V,E)for(W=0;W<E.length;W++)se=y.g=E[W],V=dt(se,M,!1,y)&&V}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],M=0;M<E.length;M++)J(E[M]);delete f.g[y],f.h--}}this.F=null},Ee.prototype.K=function(f,y,E,M){return this.i.add(String(f),y,!1,E,M)},Ee.prototype.L=function(f,y,E,M){return this.i.add(String(f),y,!0,E,M)};function dt(f,y,E,M){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var V=!0,W=0;W<y.length;++W){var se=y[W];if(se&&!se.da&&se.capture==E){var Qe=se.listener,un=se.ha||se.src;se.fa&&B(f.i,se),V=Qe.call(un,M)!==!1&&V}}return V&&!M.defaultPrevented}function vr(f,y,E){if(typeof f=="function")E&&(f=p(f,E));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:o.setTimeout(f,y||0)}function Co(f){f.g=vr(()=>{f.g=null,f.i&&(f.i=!1,Co(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class hu extends Q{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Co(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ii(f){Q.call(this),this.h=f,this.g={}}g(Ii,Q);var ko=[];function No(f){O(f.g,function(y,E){this.g.hasOwnProperty(E)&&Xt(y)},f),f.g={}}Ii.prototype.N=function(){Ii.aa.N.call(this),No(this)},Ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ys=o.JSON.stringify,pu=o.JSON.parse,mu=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function wa(){}wa.prototype.h=null;function Oo(f){return f.h||(f.h=f.i())}function gu(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ba(){ie.call(this,"d")}g(ba,ie);function _a(){ie.call(this,"c")}g(_a,ie);var be={},We=null;function jt(){return We=We||new Ee}be.La="serverreachability";function Kn(f){ie.call(this,be.La,f)}g(Kn,ie);function Ci(f){const y=jt();Ve(y,new Kn(y))}be.STAT_EVENT="statevent";function Ea(f,y){ie.call(this,be.STAT_EVENT,f),this.stat=y}g(Ea,ie);function St(f){const y=jt();Ve(y,new Ea(y,f))}be.Ma="timingevent";function tf(f,y){ie.call(this,be.Ma,f),this.size=y}g(tf,ie);function vs(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},y)}function xs(){this.g=!0}xs.prototype.xa=function(){this.g=!1};function nf(f,y,E,M,V,W){f.info(function(){if(f.g)if(W)for(var se="",Qe=W.split("&"),un=0;un<Qe.length;un++){var Fe=Qe[un].split("=");if(1<Fe.length){var bn=Fe[0];Fe=Fe[1];var _n=bn.split("_");se=2<=_n.length&&_n[1]=="type"?se+(bn+"="+Fe+"&"):se+(bn+"=redacted&")}}else se=null;else se=W;return"XMLHTTP REQ ("+M+") [attempt "+V+"]: "+y+`
`+E+`
`+se})}function rf(f,y,E,M,V,W,se){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+V+"]: "+y+`
`+E+`
`+W+" "+se})}function ki(f,y,E,M){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+af(f,E)+(M?" "+M:"")})}function sf(f,y){f.info(function(){return"TIMEOUT: "+y})}xs.prototype.info=function(){};function af(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var M=E[f];if(!(2>M.length)){var V=M[1];if(Array.isArray(V)&&!(1>V.length)){var W=V[0];if(W!="noop"&&W!="stop"&&W!="close")for(var se=1;se<V.length;se++)V[se]=""}}}}return ys(E)}catch{return y}}var Sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},te={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},De;function Ce(){}g(Ce,wa),Ce.prototype.g=function(){return new XMLHttpRequest},Ce.prototype.i=function(){return{}},De=new Ce;function Be(f,y,E,M){this.j=f,this.i=y,this.l=E,this.R=M||1,this.U=new Ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dn}function Dn(){this.i=null,this.g="",this.h=!1}var Lr={},uy={};function cy(f,y,E){f.L=1,f.v=cf(Ni(y)),f.m=E,f.P=!0,Z_(f,null)}function Z_(f,y){f.F=Date.now(),of(f),f.A=Ni(f.v);var E=f.A,M=f.R;Array.isArray(M)||(M=[String(M)]),hE(E.i,"t",M),f.C=0,E=f.j.J,f.h=new Dn,f.g=NE(f.j,E?y:null,!f.m),0<f.O&&(f.M=new hu(p(f.Y,f,f.g),f.O)),y=f.U,E=f.g,M=f.ca;var V="readystatechange";Array.isArray(V)||(V&&(ko[0]=V.toString()),V=ko);for(var W=0;W<V.length;W++){var se=Ie(E,V[W],M||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=f.H?T(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Ci(),nf(f.i,f.u,f.A,f.l,f.R,f.m)}Be.prototype.ca=function(f){f=f.target;const y=this.M;y&&Oi(f)==3?y.j():this.Y(f)},Be.prototype.Y=function(f){try{if(f==this.g)e:{const _n=Oi(this.g);var y=this.g.Ba();const Mo=this.g.Z();if(!(3>_n)&&(_n!=3||this.g&&(this.h.h||this.g.oa()||wE(this.g)))){this.J||_n!=4||y==7||(y==8||0>=Mo?Ci(3):Ci(2)),dy(this);var E=this.g.Z();this.X=E;t:if(eE(this)){var M=wE(this.g);f="";var V=M.length,W=Oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ta(this),yu(this);var se="";break t}this.h.i=new o.TextDecoder}for(y=0;y<V;y++)this.h.h=!0,f+=this.h.i.decode(M[y],{stream:!(W&&y==V-1)});M.length=0,this.h.g+=f,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=E==200,rf(this.i,this.u,this.A,this.l,this.R,_n,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,un=this.g;if((Qe=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Qe)){var Fe=Qe;break t}}Fe=null}if(E=Fe)ki(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fy(this,E);else{this.o=!1,this.s=3,St(12),Ta(this),yu(this);break e}}if(this.P){E=!0;let Vr;for(;!this.J&&this.C<se.length;)if(Vr=D5(this,se),Vr==uy){_n==4&&(this.s=4,St(14),E=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Vr==Lr){this.s=4,St(15),ki(this.i,this.l,se,"[Invalid Chunk]"),E=!1;break}else ki(this.i,this.l,Vr,null),fy(this,Vr);if(eE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_n!=4||se.length!=0||this.h.h||(this.s=1,St(16),E=!1),this.o=this.o&&E,!E)ki(this.i,this.l,se,"[Invalid Chunked Response]"),Ta(this),yu(this);else if(0<se.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),vy(bn),bn.M=!0,St(11))}}else ki(this.i,this.l,se,null),fy(this,se);_n==4&&Ta(this),this.o&&!this.J&&(_n==4?IE(this.j,this):(this.o=!1,of(this)))}else Z5(this.g),E==400&&0<se.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Ta(this),yu(this)}}}catch{}finally{}};function eE(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function D5(f,y){var E=f.C,M=y.indexOf(`
`,E);return M==-1?uy:(E=Number(y.substring(E,M)),isNaN(E)?Lr:(M+=1,M+E>y.length?uy:(y=y.slice(M,M+E),f.C=M+E,y)))}Be.prototype.cancel=function(){this.J=!0,Ta(this)};function of(f){f.S=Date.now()+f.I,tE(f,f.I)}function tE(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=vs(p(f.ba,f),y)}function dy(f){f.B&&(o.clearTimeout(f.B),f.B=null)}Be.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(sf(this.i,this.A),this.L!=2&&(Ci(),St(17)),Ta(this),this.s=2,yu(this)):tE(this,this.S-f)};function yu(f){f.j.G==0||f.J||IE(f.j,f)}function Ta(f){dy(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,No(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function fy(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||hy(E.h,f))){if(!f.K&&hy(E.h,f)&&E.G==3){try{var M=E.Da.g.parse(y)}catch{M=null}if(Array.isArray(M)&&M.length==3){var V=M;if(V[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)gf(E),pf(E);else break e;yy(E),St(18)}}else E.za=V[1],0<E.za-E.T&&37500>V[2]&&E.F&&E.v==0&&!E.C&&(E.C=vs(p(E.Za,E),6e3));if(1>=iE(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ia(E,11)}else if((f.K||E.g==f)&&gf(E),!_(y))for(V=E.Da.g.parse(y),y=0;y<V.length;y++){let Fe=V[y];if(E.T=Fe[0],Fe=Fe[1],E.G==2)if(Fe[0]=="c"){E.K=Fe[1],E.ia=Fe[2];const bn=Fe[3];bn!=null&&(E.la=bn,E.j.info("VER="+E.la));const _n=Fe[4];_n!=null&&(E.Aa=_n,E.j.info("SVER="+E.Aa));const Mo=Fe[5];Mo!=null&&typeof Mo=="number"&&0<Mo&&(M=1.5*Mo,E.L=M,E.j.info("backChannelRequestTimeoutMs_="+M)),M=E;const Vr=f.g;if(Vr){const vf=Vr.g?Vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vf){var W=M.h;W.g||vf.indexOf("spdy")==-1&&vf.indexOf("quic")==-1&&vf.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(py(W,W.h),W.h=null))}if(M.D){const xy=Vr.g?Vr.g.getResponseHeader("X-HTTP-Session-Id"):null;xy&&(M.ya=xy,rt(M.I,M.D,xy))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),M=E;var se=f;if(M.qa=kE(M,M.J?M.ia:null,M.W),se.K){sE(M.h,se);var Qe=se,un=M.L;un&&(Qe.I=un),Qe.B&&(dy(Qe),of(Qe)),M.g=se}else TE(M);0<E.i.length&&mf(E)}else Fe[0]!="stop"&&Fe[0]!="close"||Ia(E,7);else E.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ia(E,7):gy(E):Fe[0]!="noop"&&E.l&&E.l.ta(Fe),E.v=0)}}Ci(4)}catch{}}var L5=class{constructor(f,y){this.g=f,this.map=y}};function nE(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rE(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function iE(f){return f.h?1:f.g?f.g.size:0}function hy(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function py(f,y){f.g?f.g.add(y):f.h=y}function sE(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}nE.prototype.cancel=function(){if(this.i=aE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function aE(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return w(f.i)}function V5(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var y=[],E=f.length,M=0;M<E;M++)y.push(f[M]);return y}y=[],E=0;for(M in f)y[E++]=f[M];return y}function $5(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const M in f)y[E++]=M;return y}}}function oE(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=$5(f),M=V5(f),V=M.length,W=0;W<V;W++)y.call(void 0,M[W],E&&E[W],f)}var lE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function F5(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var M=f[E].indexOf("="),V=null;if(0<=M){var W=f[E].substring(0,M);V=f[E].substring(M+1)}else W=f[E];y(W,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Aa(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Aa){this.h=f.h,lf(this,f.j),this.o=f.o,this.g=f.g,uf(this,f.s),this.l=f.l;var y=f.i,E=new wu;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),uE(this,E),this.m=f.m}else f&&(y=String(f).match(lE))?(this.h=!1,lf(this,y[1]||"",!0),this.o=vu(y[2]||""),this.g=vu(y[3]||"",!0),uf(this,y[4]),this.l=vu(y[5]||"",!0),uE(this,y[6]||"",!0),this.m=vu(y[7]||"")):(this.h=!1,this.i=new wu(null,this.h))}Aa.prototype.toString=function(){var f=[],y=this.j;y&&f.push(xu(y,cE,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(xu(y,cE,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(xu(E,E.charAt(0)=="/"?B5:U5,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",xu(E,H5)),f.join("")};function Ni(f){return new Aa(f)}function lf(f,y,E){f.j=E?vu(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function uf(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function uE(f,y,E){y instanceof wu?(f.i=y,K5(f.i,f.h)):(E||(y=xu(y,W5)),f.i=new wu(y,f.h))}function rt(f,y,E){f.i.set(y,E)}function cf(f){return rt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function vu(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xu(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,z5),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function z5(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var cE=/[#\/\?@]/g,U5=/[#\?:]/g,B5=/[#\?]/g,W5=/[#\?@]/g,H5=/#/g;function wu(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function ws(f){f.g||(f.g=new Map,f.h=0,f.i&&F5(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=wu.prototype,t.add=function(f,y){ws(this),this.i=null,f=jo(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function dE(f,y){ws(f),y=jo(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function fE(f,y){return ws(f),y=jo(f,y),f.g.has(y)}t.forEach=function(f,y){ws(this),this.g.forEach(function(E,M){E.forEach(function(V){f.call(y,V,M,this)},this)},this)},t.na=function(){ws(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let M=0;M<y.length;M++){const V=f[M];for(let W=0;W<V.length;W++)E.push(y[M])}return E},t.V=function(f){ws(this);let y=[];if(typeof f=="string")fE(this,f)&&(y=y.concat(this.g.get(jo(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},t.set=function(f,y){return ws(this),this.i=null,f=jo(this,f),fE(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function hE(f,y,E){dE(f,y),0<E.length&&(f.i=null,f.g.set(jo(f,y),w(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var M=y[E];const W=encodeURIComponent(String(M)),se=this.V(M);for(M=0;M<se.length;M++){var V=W;se[M]!==""&&(V+="="+encodeURIComponent(String(se[M]))),f.push(V)}}return this.i=f.join("&")};function jo(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function K5(f,y){y&&!f.j&&(ws(f),f.i=null,f.g.forEach(function(E,M){var V=M.toLowerCase();M!=V&&(dE(this,M),hE(this,V,E))},f)),f.j=y}function q5(f,y){const E=new xs;if(o.Image){const M=new Image;M.onload=m(bs,E,"TestLoadImage: loaded",!0,y,M),M.onerror=m(bs,E,"TestLoadImage: error",!1,y,M),M.onabort=m(bs,E,"TestLoadImage: abort",!1,y,M),M.ontimeout=m(bs,E,"TestLoadImage: timeout",!1,y,M),o.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else y(!1)}function G5(f,y){const E=new xs,M=new AbortController,V=setTimeout(()=>{M.abort(),bs(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:M.signal}).then(W=>{clearTimeout(V),W.ok?bs(E,"TestPingServer: ok",!0,y):bs(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(V),bs(E,"TestPingServer: error",!1,y)})}function bs(f,y,E,M,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),M(E)}catch{}}function Y5(){this.g=new mu}function Q5(f,y,E){const M=E||"";try{oE(f,function(V,W){let se=V;u(V)&&(se=ys(V)),y.push(M+W+"="+encodeURIComponent(se))})}catch(V){throw y.push(M+"type="+encodeURIComponent("_badmap")),V}}function df(f){this.l=f.Ub||null,this.j=f.eb||!1}g(df,wa),df.prototype.g=function(){return new ff(this.l,this.j)},df.prototype.i=function(f){return function(){return f}}({});function ff(f,y){Ee.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(ff,Ee),t=ff.prototype,t.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,_u(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||o).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bu(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,_u(this)),this.g&&(this.readyState=3,_u(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pE(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function pE(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?bu(this):_u(this),this.readyState==3&&pE(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,bu(this))},t.Qa=function(f){this.g&&(this.response=f,bu(this))},t.ga=function(){this.g&&bu(this)};function bu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,_u(f)}t.setRequestHeader=function(f,y){this.u.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function _u(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ff.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function mE(f){let y="";return O(f,function(E,M){y+=M,y+=":",y+=E,y+=`\r
`}),y}function my(f,y,E){e:{for(M in E){var M=!1;break e}M=!0}M||(E=mE(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):rt(f,y,E))}function Tt(f){Ee.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Tt,Ee);var X5=/^https?$/i,J5=["POST","PUT"];t=Tt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,y,E,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?Oo(this.o):Oo(De),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(W){gE(this,W);return}if(f=E||"",E=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var V in M)E.set(V,M[V]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const W of M.keys())E.set(W,M.get(W));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),V=o.FormData&&f instanceof o.FormData,!(0<=Array.prototype.indexOf.call(J5,y,void 0))||M||V||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,se]of E)this.g.setRequestHeader(W,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xE(this),this.u=!0,this.g.send(f),this.u=!1}catch(W){gE(this,W)}};function gE(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,yE(f),hf(f)}function yE(f){f.A||(f.A=!0,Ve(f,"complete"),Ve(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ve(this,"complete"),Ve(this,"abort"),hf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hf(this,!0)),Tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vE(this):this.bb())},t.bb=function(){vE(this)};function vE(f){if(f.h&&typeof a<"u"&&(!f.v[1]||Oi(f)!=4||f.Z()!=2)){if(f.u&&Oi(f)==4)vr(f.Ea,0,f);else if(Ve(f,"readystatechange"),Oi(f)==4){f.h=!1;try{const se=f.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var M;if(M=se===0){var V=String(f.D).match(lE)[1]||null;!V&&o.self&&o.self.location&&(V=o.self.location.protocol.slice(0,-1)),M=!X5.test(V?V.toLowerCase():"")}E=M}if(E)Ve(f,"complete"),Ve(f,"success");else{f.m=6;try{var W=2<Oi(f)?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.Z()+"]",yE(f)}}finally{hf(f)}}}}function hf(f,y){if(f.g){xE(f);const E=f.g,M=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ve(f,"ready");try{E.onreadystatechange=M}catch{}}}function xE(f){f.I&&(o.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Oi(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Oi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),pu(y)}};function wE(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Z5(f){const y={};f=(f.g&&2<=Oi(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(_(f[M]))continue;var E=P(f[M]);const V=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=y[V]||[];y[V]=W,W.push(E)}A(y,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eu(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function bE(f){this.Aa=0,this.i=[],this.j=new xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eu("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eu("baseRetryDelayMs",5e3,f),this.cb=Eu("retryDelaySeedMs",1e4,f),this.Wa=Eu("forwardChannelMaxRetries",2,f),this.wa=Eu("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new nE(f&&f.concurrentRequestLimit),this.Da=new Y5,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bE.prototype,t.la=8,t.G=1,t.connect=function(f,y,E,M){St(0),this.W=f,this.H=y||{},E&&M!==void 0&&(this.H.OSID=E,this.H.OAID=M),this.F=this.X,this.I=kE(this,null,this.W),mf(this)};function gy(f){if(_E(f),f.G==3){var y=f.U++,E=Ni(f.I);if(rt(E,"SID",f.K),rt(E,"RID",y),rt(E,"TYPE","terminate"),Su(f,E),y=new Be(f,f.j,y),y.L=2,y.v=cf(Ni(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&o.Image&&(new Image().src=y.v,E=!0),E||(y.g=NE(y.j,null),y.g.ea(y.v)),y.F=Date.now(),of(y)}CE(f)}function pf(f){f.g&&(vy(f),f.g.cancel(),f.g=null)}function _E(f){pf(f),f.u&&(o.clearTimeout(f.u),f.u=null),gf(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&o.clearTimeout(f.s),f.s=null)}function mf(f){if(!rE(f.h)&&!f.s){f.s=!0;var y=f.Ga;F||H(),D||(F(),D=!0),L.add(y,f),f.B=0}}function eL(f,y){return iE(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=vs(p(f.Ga,f,y),PE(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const V=new Be(this,this.j,f);let W=this.o;if(this.S&&(W?(W=T(W),N(W,this.S)):W=this.S),this.m!==null||this.O||(V.H=W,W=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var M=this.i[E];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(y+=M,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=SE(this,V,y),E=Ni(this.I),rt(E,"RID",f),rt(E,"CVER",22),this.D&&rt(E,"X-HTTP-Session-Id",this.D),Su(this,E),W&&(this.O?y="headers="+encodeURIComponent(String(mE(W)))+"&"+y:this.m&&my(E,this.m,W)),py(this.h,V),this.Ua&&rt(E,"TYPE","init"),this.P?(rt(E,"$req",y),rt(E,"SID","null"),V.T=!0,cy(V,E,null)):cy(V,E,y),this.G=2}}else this.G==3&&(f?EE(this,f):this.i.length==0||rE(this.h)||EE(this))};function EE(f,y){var E;y?E=y.l:E=f.U++;const M=Ni(f.I);rt(M,"SID",f.K),rt(M,"RID",E),rt(M,"AID",f.T),Su(f,M),f.m&&f.o&&my(M,f.m,f.o),E=new Be(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=SE(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),py(f.h,E),cy(E,M,y)}function Su(f,y){f.H&&O(f.H,function(E,M){rt(y,M,E)}),f.l&&oE({},function(E,M){rt(y,M,E)})}function SE(f,y,E){E=Math.min(f.i.length,E);var M=f.l?p(f.l.Na,f.l,f):null;e:{var V=f.i;let W=-1;for(;;){const se=["count="+E];W==-1?0<E?(W=V[0].g,se.push("ofs="+W)):W=0:se.push("ofs="+W);let Qe=!0;for(let un=0;un<E;un++){let Fe=V[un].g;const bn=V[un].map;if(Fe-=W,0>Fe)W=Math.max(0,V[un].g-100),Qe=!1;else try{Q5(bn,se,"req"+Fe+"_")}catch{M&&M(bn)}}if(Qe){M=se.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,M}function TE(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;F||H(),D||(F(),D=!0),L.add(y,f),f.v=0}}function yy(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=vs(p(f.Fa,f),PE(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,AE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=vs(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),pf(this),AE(this))};function vy(f){f.A!=null&&(o.clearTimeout(f.A),f.A=null)}function AE(f){f.g=new Be(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Ni(f.qa);rt(y,"RID","rpc"),rt(y,"SID",f.K),rt(y,"AID",f.T),rt(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&rt(y,"TO",f.ja),rt(y,"TYPE","xmlhttp"),Su(f,y),f.m&&f.o&&my(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=cf(Ni(y)),E.m=null,E.P=!0,Z_(E,f)}t.Za=function(){this.C!=null&&(this.C=null,pf(this),yy(this),St(19))};function gf(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function IE(f,y){var E=null;if(f.g==y){gf(f),vy(f),f.g=null;var M=2}else if(hy(f.h,y))E=y.D,sE(f.h,y),M=1;else return;if(f.G!=0){if(y.o)if(M==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var V=f.B;M=jt(),Ve(M,new tf(M,E)),mf(f)}else TE(f);else if(V=y.s,V==3||V==0&&0<y.X||!(M==1&&eL(f,y)||M==2&&yy(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),V){case 1:Ia(f,5);break;case 4:Ia(f,10);break;case 3:Ia(f,6);break;default:Ia(f,2)}}}function PE(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function Ia(f,y){if(f.j.info("Error code "+y),y==2){var E=p(f.fb,f),M=f.Xa;const V=!M;M=new Aa(M||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||lf(M,"https"),cf(M),V?q5(M.toString(),E):G5(M.toString(),E)}else St(2);f.G=0,f.l&&f.l.sa(y),CE(f),_E(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function CE(f){if(f.G=0,f.ka=[],f.l){const y=aE(f.h);(y.length!=0||f.i.length!=0)&&(b(f.ka,y),b(f.ka,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.ra()}}function kE(f,y,E){var M=E instanceof Aa?Ni(E):new Aa(E);if(M.g!="")y&&(M.g=y+"."+M.g),uf(M,M.s);else{var V=o.location;M=V.protocol,y=y?y+"."+V.hostname:V.hostname,V=+V.port;var W=new Aa(null);M&&lf(W,M),y&&(W.g=y),V&&uf(W,V),E&&(W.l=E),M=W}return E=f.D,y=f.ya,E&&y&&rt(M,E,y),rt(M,"VER",f.la),Su(f,M),M}function NE(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Tt(new df({eb:E})):new Tt(f.pa),y.Ha(f.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function OE(){}t=OE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yf(){}yf.prototype.g=function(f,y){return new ir(f,y)};function ir(f,y){Ee.call(this),this.g=new bE(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!_(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!_(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Ro(this)}g(ir,Ee),ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ir.prototype.close=function(){gy(this.g)},ir.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=ys(f),f=E);y.i.push(new L5(y.Ya++,f)),y.G==3&&mf(y)},ir.prototype.N=function(){this.g.l=null,delete this.j,gy(this.g),delete this.g,ir.aa.N.call(this)};function jE(f){ba.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}g(jE,ba);function RE(){_a.call(this),this.status=1}g(RE,_a);function Ro(f){this.g=f}g(Ro,OE),Ro.prototype.ua=function(){Ve(this.g,"a")},Ro.prototype.ta=function(f){Ve(this.g,new jE(f))},Ro.prototype.sa=function(f){Ve(this.g,new RE)},Ro.prototype.ra=function(){Ve(this.g,"b")},yf.prototype.createWebChannel=yf.prototype.g,ir.prototype.send=ir.prototype.o,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,NO=function(){return new yf},kO=function(){return jt()},CO=be,V0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,Eh=Sa,te.COMPLETE="complete",PO=te,gu.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,qu=gu,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,IO=Tt}).apply(typeof Lf<"u"?Lf:typeof self<"u"?self:typeof window<"u"?window:{});const kT="@firebase/firestore",NT="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new tw("@firebase/firestore");function zo(){return so.logLevel}function ue(t,...e){if(so.logLevel<=Oe.DEBUG){const n=e.map(mw);so.debug(`Firestore (${Zl}): ${t}`,...n)}}function es(t,...e){if(so.logLevel<=Oe.ERROR){const n=e.map(mw);so.error(`Firestore (${Zl}): ${t}`,...n)}}function na(t,...e){if(so.logLevel<=Oe.WARN){const n=e.map(mw);so.warn(`Firestore (${Zl}): ${t}`,...n)}}function mw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OO(t,r,n)}function OO(t,e,n){let r=`FIRESTORE (${Zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw es(r),new Error(r)}function Ke(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||OO(e,i,r)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(In.UNAUTHENTICATED))}shutdown(){}}class JU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ZU{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xs,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xs)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new jO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class e7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class t7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new e7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Br(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new OT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new OT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=r7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function $0(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ke(r,i);{const s=RO(),a=i7(s.encode(jT(t,n)),s.encode(jT(e,n)));return a!==0?a:ke(r,i)}}n+=r>65535?2:1}return ke(t.length,e.length)}function jT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function i7(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ke(t[n],e[n]);return ke(t.length,e.length)}function Nl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="__name__";class oi{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=oi.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ke(e.length,n.length)}static compareSegments(e,n){const r=oi.isNumericId(e),i=oi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?oi.extractNumericId(e).compare(oi.extractNumericId(n)):$0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qs.fromString(e.substring(4,e.length-2))}}class xt extends oi{construct(e,n,r){return new xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const s7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends oi{construct(e,n,r){return new pn(e,n,r)}static isValidIdentifier(e){return s7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RT}static keyField(){return new pn([RT])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new me(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new me(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new me(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new me(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(xt.fromString(e))}static fromName(e){return new xe(xt.fromString(e).popFirst(5))}static empty(){return new xe(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(t,e,n){if(!n)throw new me(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o7(t,e,n,r){if(e===!0&&r===!0)throw new me(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MT(t){if(!xe.isDocumentKey(t))throw new me(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MO(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function yw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function Xr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yw(t);throw new me(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function _d(t,e){if(!MO(t))throw new me(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new me(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=-62135596800,LT=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*LT);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<DT)throw new me(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LT}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_d(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Lt("string",at._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new at(0,0))}static max(){return new Te(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function l7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new ra(i,xe.empty(),e)}function u7(t){return new ra(t.readTime,t.key,Fc)}class ra{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ra(Te.min(),xe.empty(),Fc)}static max(){return new ra(Te.max(),xe.empty(),Fc)}}function c7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==d7)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++o,o===s&&r(a)},c=>i(c))}})}static doWhile(e,n){return new Y((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function h7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}$m.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=-1;function Fm(t){return t==null}function hp(t){return t===0&&1/t==-1/0}function p7(t){return typeof t=="number"&&Number.isInteger(t)&&!hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="";function m7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=VT(e)),e=g7(t.get(n),e);return VT(e)}function g7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case DO:n+="";break;default:n+=s}}return n}function VT(t){return t+DO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vf(this.root,e,this.comparator,!0)}}class Vf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??hn.RED,this.left=i??hn.EMPTY,this.right=s??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new hn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return hn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FT(this.data.getIterator())}getIteratorFrom(e){return new FT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class FT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new ur([])}unionWith(e){let n=new Kt(pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Nl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new VO("Invalid base64 string: "+s):s}}(e);return new wn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const y7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=y7.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sa(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="server_timestamp",FO="__type__",zO="__previous_value__",UO="__local_write_time__";function xw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[FO])===null||n===void 0?void 0:n.stringValue)===$O}function zm(t){const e=t.mapValue.fields[zO];return xw(e)?zm(e):e}function zc(t){const e=ia(t.mapValue.fields[UO].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e,n,r,i,s,a,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const pp="(default)";class Uc{constructor(e,n){this.projectId=e,this.database=n||pp}static empty(){return new Uc("","")}get isDefaultDatabase(){return this.database===pp}isEqual(e){return e instanceof Uc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="__type__",x7="__max__",$f={mapValue:{}},WO="__vector__",mp="value";function aa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xw(t)?4:b7(t)?9007199254740991:w7(t)?10:11:_e(28295,{value:t})}function bi(t,e){if(t===e)return!0;const n=aa(t);if(n!==aa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zc(t).isEqual(zc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ia(i.timestampValue),o=ia(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return sa(i.bytesValue).isEqual(sa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Nt(i.geoPointValue.latitude)===Nt(s.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Nt(i.integerValue)===Nt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Nt(i.doubleValue),o=Nt(s.doubleValue);return a===o?hp(a)===hp(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Nl(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if($T(a)!==$T(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!bi(a[l],o[l])))return!1;return!0}(t,e);default:return _e(52216,{left:t})}}function Bc(t,e){return(t.values||[]).find(n=>bi(n,e))!==void 0}function Ol(t,e){if(t===e)return 0;const n=aa(t),r=aa(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=Nt(s.integerValue||s.doubleValue),l=Nt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return zT(t.timestampValue,e.timestampValue);case 4:return zT(zc(t),zc(e));case 5:return $0(t.stringValue,e.stringValue);case 6:return function(s,a){const o=sa(s),l=sa(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=ke(o[u],l[u]);if(c!==0)return c}return ke(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=ke(Nt(s.latitude),Nt(a.latitude));return o!==0?o:ke(Nt(s.longitude),Nt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return UT(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,u,c;const d=s.fields||{},p=a.fields||{},m=(o=d[mp])===null||o===void 0?void 0:o.arrayValue,g=(l=p[mp])===null||l===void 0?void 0:l.arrayValue,w=ke(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return w!==0?w:UT(m,g)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===$f.mapValue&&a===$f.mapValue)return 0;if(s===$f.mapValue)return 1;if(a===$f.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const p=$0(l[d],c[d]);if(p!==0)return p;const m=Ol(o[l[d]],u[c[d]]);if(m!==0)return m}return ke(l.length,c.length)}(t.mapValue,e.mapValue);default:throw _e(23264,{le:n})}}function zT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=ia(t),r=ia(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function UT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ol(n[i],r[i]);if(s)return s}return ke(n.length,r.length)}function jl(t){return F0(t)}function F0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ia(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return sa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=F0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${F0(n.fields[a])}`;return i+"}"}(t.mapValue):_e(61005,{value:t})}function Sh(t){switch(aa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zm(t);return e?16+Sh(e):16;case 5:return 2*t.stringValue.length;case 6:return sa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Sh(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ga(r.fields,(s,a)=>{i+=s.length+Sh(a)}),i}(t.mapValue);default:throw _e(13486,{value:t})}}function z0(t){return!!t&&"integerValue"in t}function ww(t){return!!t&&"arrayValue"in t}function BT(t){return!!t&&"nullValue"in t}function WT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Th(t){return!!t&&"mapValue"in t}function w7(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[BO])===null||n===void 0?void 0:n.stringValue)===WO}function fc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ga(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function b7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===x7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(n)}setAll(e){let n=pn.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=fc(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ga(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yn(fc(this.value))}}function HO(t){const e=[];return ga(t.fields,(n,r)=>{const i=new pn([n]);if(Th(r)){const s=HO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Cn(e,0,Te.min(),Te.min(),Te.min(),Yn.empty(),0)}static newFoundDocument(e,n,r,i){return new Cn(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new Cn(e,2,n,Te.min(),Te.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Te.min(),Te.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.position=e,this.inclusive=n}}function HT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=xe.comparator(xe.fromName(a.referenceValue),n.key):r=Ol(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function KT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n="asc"){this.field=e,this.dir=n}}function _7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{}class Wt extends KO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S7(e,n,r):n==="array-contains"?new I7(e,r):n==="in"?new P7(e,r):n==="not-in"?new C7(e,r):n==="array-contains-any"?new k7(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new T7(e,r):new A7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ol(n,this.value)):n!==null&&aa(this.value)===aa(n)&&this.matchesComparison(Ol(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends KO{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new _i(e,n)}matches(e){return qO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function qO(t){return t.op==="and"}function GO(t){return E7(t)&&qO(t)}function E7(t){for(const e of t.filters)if(e instanceof _i)return!1;return!0}function U0(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(GO(t))return t.filters.map(e=>U0(e)).join(",");{const e=t.filters.map(n=>U0(n)).join(",");return`${t.op}(${e})`}}function YO(t,e){return t instanceof Wt?function(r,i){return i instanceof Wt&&r.op===i.op&&r.field.isEqual(i.field)&&bi(r.value,i.value)}(t,e):t instanceof _i?function(r,i){return i instanceof _i&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&YO(a,i.filters[o]),!0):!1}(t,e):void _e(19439)}function QO(t){return t instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`}(t):t instanceof _i?function(n){return n.op.toString()+" {"+n.getFilters().map(QO).join(" ,")+"}"}(t):"Filter"}class S7 extends Wt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class T7 extends Wt{constructor(e,n){super(e,"in",n),this.keys=XO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class A7 extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=XO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class I7 extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ww(n)&&Bc(n.arrayValue,this.value)}}class P7 extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bc(this.value.arrayValue,n)}}class C7 extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bc(this.value.arrayValue,n)}}class k7 extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ww(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Pe=null}}function qT(t,e=null,n=[],r=[],i=null,s=null,a=null){return new N7(t,e,n,r,i,s,a)}function bw(t){const e=Pe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>U0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jl(r)).join(",")),e.Pe=n}return e.Pe}function _w(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KT(t.startAt,e.startAt)&&KT(t.endAt,e.endAt)}function B0(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function O7(t,e,n,r,i,s,a,o){return new Um(t,e,n,r,i,s,a,o)}function Bm(t){return new Um(t)}function GT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function j7(t){return t.collectionGroup!==null}function hc(t){const e=Pe(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Kt(pn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new yp(s,r))}),n.has(pn.keyField().canonicalString())||e.Te.push(new yp(pn.keyField(),r))}return e.Te}function mi(t){const e=Pe(t);return e.Ie||(e.Ie=R7(e,hc(t))),e.Ie}function R7(t,e){if(t.limitType==="F")return qT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new yp(i.field,s)});const n=t.endAt?new gp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gp(t.startAt.position,t.startAt.inclusive):null;return qT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function W0(t,e,n){return new Um(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wm(t,e){return _w(mi(t),mi(e))&&t.limitType===e.limitType}function JO(t){return`${bw(mi(t))}|lt:${t.limitType}`}function Uo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>QO(i)).join(", ")}]`),Fm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jl(i)).join(",")),`Target(${r})`}(mi(t))}; limitType=${t.limitType})`}function Hm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):xe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of hc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const u=HT(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,hc(r),i)||r.endAt&&!function(a,o,l){const u=HT(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,hc(r),i))}(t,e)}function M7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZO(t){return(e,n)=>{let r=!1;for(const i of hc(t)){const s=D7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function D7(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?Ol(l,u):_e(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return LO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=new _t(xe.comparator);function ts(){return L7}const ej=new _t(xe.comparator);function Gu(...t){let e=ej;for(const n of t)e=e.insert(n.key,n);return e}function tj(t){let e=ej;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Va(){return pc()}function nj(){return pc()}function pc(){return new _o(t=>t.toString(),(t,e)=>t.isEqual(e))}const V7=new _t(xe.comparator),$7=new Kt(xe.comparator);function je(...t){let e=$7;for(const n of t)e=e.add(n);return e}const F7=new Kt(ke);function z7(){return F7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hp(e)?"-0":e}}function rj(t){return{integerValue:""+t}}function U7(t,e){return p7(e)?rj(e):Ew(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this._=void 0}}function B7(t,e,n){return t instanceof vp?function(i,s){const a={fields:{[FO]:{stringValue:$O},[UO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&xw(s)&&(s=zm(s)),s&&(a.fields[zO]=s),{mapValue:a}}(n,e):t instanceof Rl?sj(t,e):t instanceof Wc?aj(t,e):function(i,s){const a=ij(i,s),o=YT(a)+YT(i.Ee);return z0(a)&&z0(i.Ee)?rj(o):Ew(i.serializer,o)}(t,e)}function W7(t,e,n){return t instanceof Rl?sj(t,e):t instanceof Wc?aj(t,e):n}function ij(t,e){return t instanceof xp?function(r){return z0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class vp extends Km{}class Rl extends Km{constructor(e){super(),this.elements=e}}function sj(t,e){const n=oj(e);for(const r of t.elements)n.some(i=>bi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wc extends Km{constructor(e){super(),this.elements=e}}function aj(t,e){let n=oj(e);for(const r of t.elements)n=n.filter(i=>!bi(i,r));return{arrayValue:{values:n}}}class xp extends Km{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function YT(t){return Nt(t.integerValue||t.doubleValue)}function oj(t){return ww(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e,n){this.field=e,this.transform=n}}function K7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Rl&&i instanceof Rl||r instanceof Wc&&i instanceof Wc?Nl(r.elements,i.elements,bi):r instanceof xp&&i instanceof xp?bi(r.Ee,i.Ee):r instanceof vp&&i instanceof vp}(t.transform,e.transform)}class q7{constructor(e,n){this.version=e,this.transformResults=n}}class Jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qm{}function lj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sw(t.key,Jr.none()):new Ed(t.key,t.data,Jr.none());{const n=t.data,r=Yn.empty();let i=new Kt(pn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ya(t.key,r,new ur(i.toArray()),Jr.none())}}function G7(t,e,n){t instanceof Ed?function(i,s,a){const o=i.value.clone(),l=XT(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ya?function(i,s,a){if(!Ah(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=XT(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(uj(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function mc(t,e,n,r){return t instanceof Ed?function(s,a,o,l){if(!Ah(s.precondition,a))return o;const u=s.value.clone(),c=JT(s.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ya?function(s,a,o,l){if(!Ah(s.precondition,a))return o;const u=JT(s.fieldTransforms,l,a),c=a.data;return c.setAll(uj(s)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,a,o){return Ah(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function Y7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ij(r.transform,i||null);s!=null&&(n===null&&(n=Yn.empty()),n.set(r.field,s))}return n||null}function QT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Nl(r,i,(s,a)=>K7(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ed extends qm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ya extends qm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function uj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XT(t,e,n){const r=new Map;Ke(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,W7(a,o,n[i]))}return r}function JT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,B7(s,a,e))}return r}class Sw extends qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q7 extends qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&G7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nj();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=lj(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&Nl(this.mutations,e.mutations,(n,r)=>QT(n,r))&&Nl(this.baseMutations,e.baseMutations,(n,r)=>QT(n,r))}}class Tw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return V7}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Tw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Le;function eB(t){switch(t){case X.OK:return _e(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function cj(t){if(t===void 0)return es("GRPC error has no .code"),X.UNKNOWN;switch(t){case Rt.OK:return X.OK;case Rt.CANCELLED:return X.CANCELLED;case Rt.UNKNOWN:return X.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return X.INTERNAL;case Rt.UNAVAILABLE:return X.UNAVAILABLE;case Rt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Rt.NOT_FOUND:return X.NOT_FOUND;case Rt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Rt.ABORTED:return X.ABORTED;case Rt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Rt.DATA_LOSS:return X.DATA_LOSS;default:return _e(39323,{code:t})}}(Le=Rt||(Rt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB=new Qs([4294967295,4294967295],0);function ZT(t){const e=RO().encode(t),n=new AO;return n.update(e),new Uint8Array(n.digest())}function eA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qs([n,r],0),new Qs([i,s],0)]}class Aw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yu(`Invalid padding: ${n}`);if(r<0)throw new Yu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Qs.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Qs.fromNumber(r)));return i.compare(tB)===1&&(i=new Qs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=ZT(e),[r,i]=eA(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(r,i,s);if(!this.ye(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Aw(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.fe===0)return;const n=ZT(e),[r,i]=eA(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(r,i,s);this.we(a)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gm(Te.min(),i,new _t(ke),ts(),je())}}class Sd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sd(r,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class dj{constructor(e,n){this.targetId=e,this.De=n}}class fj{constructor(e,n,r=wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tA{constructor(){this.ve=0,this.Ce=nA(),this.Fe=wn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=je(),n=je(),r=je();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:s})}}),new Sd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=nA()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class nB{constructor(e){this.We=e,this.Ge=new Map,this.ze=ts(),this.je=Ff(),this.Je=Ff(),this.He=new _t(ke)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(B0(s))if(r===0){const a=new xe(s.path);this.Xe(n,a,Cn.newNoDocument(a,Te.min()))}else Ke(r===1,20013,{expectedCount:r});else{const a=this.ot(n);if(a!==r){const o=this._t(e),l=o?this.ut(o,e,a):1;if(l!==0){this.rt(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=sa(r).toUint8Array()}catch(l){if(l instanceof VO)return na("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Aw(a,i,s)}catch(l){return na(l instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.fe===0?null:o}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,a)=>{const o=this.st(a);if(o){if(s.current&&B0(o.target)){const l=new xe(o.target.path);this.Tt(l).has(a)||this.It(a,l)||this.Xe(a,l,Cn.newNoDocument(l,e))}s.Ne&&(n.set(a,s.Le()),s.ke())}});let r=je();this.Je.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ze.forEach((s,a)=>a.setReadTime(e));const i=new Gm(e,n,this.He,this.ze,r);return this.ze=ts(),this.je=Ff(),this.Je=Ff(),this.He=new _t(ke),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new tA,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Kt(ke),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Kt(ke),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new tA),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Ff(){return new _t(xe.comparator)}function nA(){return new _t(xe.comparator)}const rB={asc:"ASCENDING",desc:"DESCENDING"},iB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sB={and:"AND",or:"OR"};class aB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function H0(t,e){return t.useProto3Json||Fm(e)?e:{value:e}}function wp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oB(t,e){return wp(t,e.toTimestamp())}function gi(t){return Ke(!!t,49232),Te.fromTimestamp(function(n){const r=ia(n);return new at(r.seconds,r.nanos)}(t))}function Iw(t,e){return K0(t,e).canonicalString()}function K0(t,e){const n=function(i){return new xt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pj(t){const e=xt.fromString(t);return Ke(xj(e),10190,{key:e.toString()}),e}function q0(t,e){return Iw(t.databaseId,e.path)}function ev(t,e){const n=pj(e);if(n.get(1)!==t.databaseId.projectId)throw new me(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(gj(n))}function mj(t,e){return Iw(t.databaseId,e)}function lB(t){const e=pj(t);return e.length===4?xt.emptyPath():gj(e)}function G0(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gj(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rA(t,e,n){return{name:q0(t,e),fields:n.value.mapValue.fields}}function uB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:_e(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Ke(c===void 0||typeof c=="string",58123),wn.fromBase64String(c||"")):(Ke(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),wn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const c=u.code===void 0?X.UNKNOWN:cj(u.code);return new me(c,u.message||"")}(a);n=new fj(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ev(t,r.document.name),s=gi(r.document.updateTime),a=r.document.createTime?gi(r.document.createTime):Te.min(),o=new Yn({mapValue:{fields:r.document.fields}}),l=Cn.newFoundDocument(i,s,a,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ih(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ev(t,r.document),s=r.readTime?gi(r.readTime):Te.min(),a=Cn.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Ih([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ev(t,r.document),s=r.removedTargetIds||[];n=new Ih([],s,i,null)}else{if(!("filter"in e))return _e(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new Z7(i,s),o=r.targetId;n=new dj(o,a)}}return n}function cB(t,e){let n;if(e instanceof Ed)n={update:rA(t,e.key,e.value)};else if(e instanceof Sw)n={delete:q0(t,e.key)};else if(e instanceof ya)n={update:rA(t,e.key,e.data),updateMask:xB(e.fieldMask)};else{if(!(e instanceof Q7))return _e(16599,{Rt:e.type});n={verify:q0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof vp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Rl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Wc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof xp)return{fieldPath:a.field.canonicalString(),increment:o.Ee};throw _e(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:oB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_e(27497)}(t,e.precondition)),n}function dB(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?gi(i.updateTime):gi(s);return a.isEqual(Te.min())&&(a=gi(s)),new q7(a,i.transformResults||[])}(n,e))):[]}function fB(t,e){return{documents:[mj(t,e.path)]}}function hB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mj(t,i);const s=function(u){if(u.length!==0)return vj(_i.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Bo(p.field),direction:gB(p.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=H0(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:i}}function pB(t){let e=lB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ke(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const p=yj(d);return p instanceof _i&&GO(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(p=>function(g){return new yp(Wo(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(d){let p;return p=typeof d=="object"?d.value:d,Fm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,m=d.values||[];return new gp(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const p=!d.before,m=d.values||[];return new gp(m,p)}(n.endAt)),O7(e,i,a,s,o,"F",l,u)}function mB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wo(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wo(n.unaryFilter.field);return Wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wo(n.unaryFilter.field);return Wt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Wo(n.unaryFilter.field);return Wt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(t):t.fieldFilter!==void 0?function(n){return Wt.create(Wo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _i.create(n.compositeFilter.filters.map(r=>yj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(t):_e(30097,{filter:t})}function gB(t){return rB[t]}function yB(t){return iB[t]}function vB(t){return sB[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function Wo(t){return pn.fromServerFormat(t.fieldPath)}function vj(t){return t instanceof Wt?function(n){if(n.op==="=="){if(WT(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(BT(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WT(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(BT(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:yB(n.op),value:n.value}}}(t):t instanceof _i?function(n){const r=n.getFilters().map(i=>vj(i));return r.length===1?r[0]:{compositeFilter:{op:vB(n.op),filters:r}}}(t):_e(54877,{filter:t})}function xB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r,i,s=Te.min(),a=Te.min(),o=wn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this.gt=e}}function bB(t){const e=pB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?W0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.Dn=new EB}addToCollectionParentIndex(e,n){return this.Dn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(ra.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(ra.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class EB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kt(xt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wj=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(wj,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ml(0)}static ur(){return new Ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="LruGarbageCollector",SB=1048576;function aA([t,e],[n,r]){const i=ke(t,n);return i===0?ke(e,r):i}class TB{constructor(e){this.Tr=e,this.buffer=new Kt(aA),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();aA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ue(sA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tu(n)?ue(sA,"Ignoring IndexedDB error during garbage collection: ",n):await eu(n)}await this.Rr(3e5)})}}class IB{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Y.resolve($m.ue);const r=new TB(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(iA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iA):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,a,o,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),zo()<=Oe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function PB(t,e){return new IB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(){this.changes=new _o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mc(r.mutation,i,ur.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=je()){const i=Va();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Gu();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Va();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,je()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=ts();const a=pc(),o=function(){return pc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ya)?s=s.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),mc(c.mutation,u,c.mutation.getFieldMask(),at.now())):a.set(u.key,ur.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var d;return o.set(u,new kB(c,(d=a.get(u))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,n){const r=pc();let i=new _t((a,o)=>a-o),s=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ur.empty();c=o.applyToLocalView(u,c),r.set(l,c);const d=(i.get(o.batchId)||je()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,d=nj();c.forEach(p=>{if(!s.has(p)){const m=lj(n.get(p),r.get(p));m!==null&&d.set(p,m),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Y.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return xe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j7(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Y.resolve(Va());let o=Fc,l=s;return a.next(u=>Y.forEach(u,(c,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(c)?Y.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,je())).next(c=>({batchId:o,changes:tj(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let i=Gu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Gu();return this.indexManager.getCollectionParents(e,s).next(o=>Y.forEach(o,l=>{const u=function(d,p){return new Um(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,p)=>{a=a.insert(d,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Cn.newInvalidDocument(c)))});let o=Gu();return a.forEach((l,u)=>{const c=s.get(l);c!==void 0&&mc(c.mutation,u,ur.empty(),at.now()),Hm(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gi(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:bB(i.bundledQuery),readTime:gi(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(){this.overlays=new _t(xe.comparator),this.kr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Va();return Y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Va(),s=n.length+1,a=new xe(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _t((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Va(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=Va(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return Y.resolve(o)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new J7(n,r));let s=this.kr.get(n);s===void 0&&(s=je(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.qr=new Kt(tn.Qr),this.$r=new Kt(tn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new tn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new tn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new xe(new xt([])),r=new tn(n,e),i=new tn(n,e+1),s=[];return this.$r.forEachInRange([r,i],a=>{this.Wr(a),s.push(a.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new xe(new xt([])),r=new tn(n,e),i=new tn(n,e+1);let s=je();return this.$r.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new tn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return xe.comparator(e.key,n.key)||ke(e.Hr,n.Hr)}static Ur(e,n){return ke(e.Hr,n.Hr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Kt(tn.Qr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new X7(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Yr=this.Yr.add(new tn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Y.resolve(a)}lookupMutationBatch(e,n){return Y.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?vw:this.er-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),i=new tn(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],a=>{const o=this.Zr(a.Hr);s.push(o)}),Y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(ke);return n.forEach(i=>{const s=new tn(i,0),a=new tn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],o=>{r=r.add(o.Hr)})}),Y.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;xe.isDocumentKey(s)||(s=s.child(""));const a=new tn(new xe(s),0);let o=new Kt(ke);return this.Yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Hr)),!0)},a),Y.resolve(this.ei(o))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ke(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Y.forEach(n.mutations,i=>{const s=new tn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new tn(n,0),i=this.Yr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.ni=e,this.docs=function(){return new _t(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=ts();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Cn.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ts();const a=n.path,o=new xe(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||c7(u7(c),r)<=0||(i.has(c.key)||Hm(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){_e(9500)}ri(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LB(this)}getSize(e){return Y.resolve(this.size)}}class LB extends CB{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.persistence=e,this.ii=new _o(n=>bw(n),_w),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.si=0,this.oi=new Pw,this.targetCount=0,this._i=Ml.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Y.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ml(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.hr(n),Y.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Y.waitFor(s).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n){this.ai={},this.overlays={},this.ui=new $m(0),this.ci=!1,this.ci=!0,this.li=new RB,this.referenceDelegate=e(this),this.hi=new VB(this),this.indexManager=new _B,this.remoteDocumentCache=function(i){return new DB(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new wB(n),this.Ti=new OB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new MB(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new $B(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return Y.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class $B extends f7{constructor(e){super(),this.currentSequenceNumber=e}}class Cw{constructor(e){this.persistence=e,this.Ai=new Pw,this.Ri=null}static Vi(e){return new Cw(e)}get mi(){if(this.Ri)return this.Ri;throw _e(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,r=>{const i=xe.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,Te.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Y.or([()=>Y.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class bp{constructor(e,n){this.persistence=e,this.gi=new _o(r=>m7(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=PB(this,n)}static Vi(e,n){return new bp(e,n)}Ii(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Y.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?Y.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,a=>this.Sr(e,a,n).next(o=>{o||(r++,s.removeEntry(a,Te.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Y.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sh(e.data.value)),n}Sr(e,n,r){return Y.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=je(),i=je();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new kw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return CF()?8:h7(jn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new FB;return this.ws(e,n,a).next(o=>{if(s.result=o,this.Rs)return this.Ss(e,n,a,o.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(zo()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(zo()<=Oe.DEBUG&&ue("QueryEngine","Query:",Uo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(zo()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(n))):Y.resolve())}ps(e,n){if(GT(n))return Y.resolve(null);let r=mi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=W0(n,null,"F"),r=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=je(...s);return this.gs.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,o);return this.Ds(n,u,a,l.readTime)?this.ps(e,W0(n,null,"F")):this.vs(e,u,n,l)}))})))}ys(e,n,r,i){return GT(n)||i.isEqual(Te.min())?Y.resolve(null):this.gs.getDocuments(e,r).next(s=>{const a=this.bs(n,s);return this.Ds(n,a,r,i)?Y.resolve(null):(zo()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uo(n)),this.vs(e,a,n,l7(i,Fc)).next(o=>o))})}bs(e,n){let r=new Kt(ZO(e));return n.forEach((i,s)=>{Hm(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return zo()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.gs.getDocumentsMatchingQuery(e,n,ra.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="LocalStore",UB=3e8;class BB{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new _t(ke),this.Ms=new _o(s=>bw(s),_w),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NB(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function WB(t,e,n,r){return new BB(t,e,n,r)}async function _j(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=je();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Bs:u,removedBatchIds:a,addedBatchIds:o}))})})}function HB(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const d=u.batch,p=d.keys();let m=Y.resolve();return p.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(w=>{const b=u.docVersions.get(g);Ke(b!==null,48541),w.version.compareTo(b)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=je();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ej(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function KB(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const o=[];e.targetChanges.forEach((c,d)=>{const p=i.get(d);if(!p)return;o.push(n.hi.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.hi.addMatchingKeys(s,c.addedDocuments,d)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(wn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(w,b,x){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=UB?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,c)&&o.push(n.hi.updateTargetData(s,m))});let l=ts(),u=je();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),o.push(qB(s,a,e.documentUpdates).next(c=>{l=c.Ls,u=c.ks})),!r.isEqual(Te.min())){const c=n.hi.getLastRemoteSnapshotVersion(s).next(d=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(c)}return Y.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Fs=i,s))}function qB(t,e,n){let r=je(),i=je();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=ts();return n.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Te.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ue(Nw,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ls:a,ks:i}})}function GB(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=vw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YB(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,Y.resolve(i)):n.hi.allocateTargetId(r).next(a=>(i=new Ls(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Y0(t,e,n){const r=Pe(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!tu(a))throw a;ue(Nw,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function oA(t,e,n){const r=Pe(t);let i=Te.min(),s=je();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const d=Pe(l),p=d.Ms.get(c);return p!==void 0?Y.resolve(d.Fs.get(p)):d.hi.getTargetData(u,c)}(r,a,mi(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Te.min(),n?s:je())).next(o=>(QB(r,M7(e),o),{documents:o,qs:s})))}function QB(t,e,n){let r=t.xs.get(e)||Te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class lA{constructor(){this.activeTargetIds=z7()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XB{constructor(){this.Fo=new lA,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new lA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="ConnectivityMonitor";class cA{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ue(uA,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ue(uA,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf=null;function Q0(){return zf===null?zf=function(){return 268435456+Math.round(2147483648*Math.random())}():zf++,"0x"+zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="RestConnection",ZB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eW{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===pp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const a=Q0(),o=this.Go(e,n.toUriEncodedString());ue(tv,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:u}=new URL(o),c=Ql(u);return this.jo(e,o,l,r,c).then(d=>(ue(tv,`Received RPC '${e}' ${a}: `,d),d),d=>{throw na(tv,`RPC '${e}' ${a} failed with error: `,d,"url: ",o,"request:",r),d})}Jo(e,n,r,i,s,a){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=ZB[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class nW extends eW{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const a=Q0();return new Promise((o,l)=>{const u=new IO;u.setWithCredentials(!0),u.listenOnce(PO.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Eh.NO_ERROR:const d=u.getResponseJson();ue(Tn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),o(d);break;case Eh.TIMEOUT:ue(Tn,`RPC '${e}' ${a} timed out`),l(new me(X.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const p=u.getStatus();if(ue(Tn,`RPC '${e}' ${a} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const w=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(_)>=0?_:X.UNKNOWN}(g.status);l(new me(w,g.message))}else l(new me(X.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new me(X.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{c_:e,streamId:a,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{ue(Tn,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);ue(Tn,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",c,r,15)})}P_(e,n,r){const i=Q0(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=NO(),o=kO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");ue(Tn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=a.createWebChannel(c,l);this.T_(d);let p=!1,m=!1;const g=new tW({Ho:b=>{m?ue(Tn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(p||(ue(Tn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),ue(Tn,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},Yo:()=>d.close()}),w=(b,x,_)=>{b.listen(x,S=>{try{_(S)}catch(C){setTimeout(()=>{throw C},0)}})};return w(d,qu.EventType.OPEN,()=>{m||(ue(Tn,`RPC '${e}' stream ${i} transport opened.`),g.s_())}),w(d,qu.EventType.CLOSE,()=>{m||(m=!0,ue(Tn,`RPC '${e}' stream ${i} transport closed`),g.__(),this.I_(d))}),w(d,qu.EventType.ERROR,b=>{m||(m=!0,na(Tn,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),g.__(new me(X.UNAVAILABLE,"The operation could not be completed")))}),w(d,qu.EventType.MESSAGE,b=>{var x;if(!m){const _=b.data[0];Ke(!!_,16349);const S=_,C=(S==null?void 0:S.error)||((x=S[0])===null||x===void 0?void 0:x.error);if(C){ue(Tn,`RPC '${e}' stream ${i} received error:`,C);const k=C.status;let O=function(I){const N=Rt[I];if(N!==void 0)return cj(N)}(k),A=C.message;O===void 0&&(O=X.INTERNAL,A="Unknown error status: "+k+" with message "+C.message),m=!0,g.__(new me(O,A)),d.close()}else ue(Tn,`RPC '${e}' stream ${i} received:`,_),g.a_(_)}}),w(o,CO.STAT_EVENT,b=>{b.stat===V0.PROXY?ue(Tn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===V0.NOPROXY&&ue(Tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.o_()},0),g}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function nv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t){return new aB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="PersistentStream";class Tj{constructor(e,n,r,i,s,a,o,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Sj(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(es(n.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new me(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ue(dA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ue(dA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rW extends Tj{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=uB(this.serializer,e),r=function(s){if(!("targetChange"in s))return Te.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Te.min():a.readTime?gi(a.readTime):Te.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=G0(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=B0(l)?{documents:fB(s,l)}:{query:hB(s,l).Vt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=hj(s,a.resumeToken);const u=H0(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Te.min())>0){o.readTime=wp(s,a.snapshotVersion.toTimestamp());const u=H0(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=mB(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=G0(this.serializer),n.removeTarget=e,this.k_(n)}}class iW extends Tj{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=dB(e.writeResults,e.commitTime),r=gi(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=G0(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cB(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{}class aW extends sW{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new me(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,K0(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new me(X.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Jo(e,K0(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(X.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class oW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(es(n),this._a=!1):ue("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="RemoteStore";class lW{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(a=>{r.enqueueAndForget(async()=>{Eo(this)&&(ue(ao,"Restarting streams for network reachability change."),await async function(l){const u=Pe(l);u.Ia.add(4),await Td(u),u.Aa.set("Unknown"),u.Ia.delete(4),await Qm(u)}(this))})}),this.Aa=new oW(r,i)}}async function Qm(t){if(Eo(t))for(const e of t.da)await e(!0)}async function Td(t){for(const e of t.da)await e(!1)}function Aj(t,e){const n=Pe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Mw(n)?Rw(n):nu(n).x_()&&jw(n,e))}function Ow(t,e){const n=Pe(t),r=nu(n);n.Ta.delete(e),r.x_()&&Ij(n,e),n.Ta.size===0&&(r.x_()?r.B_():Eo(n)&&n.Aa.set("Unknown"))}function jw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nu(t).H_(e)}function Ij(t,e){t.Ra.$e(e),nu(t).Y_(e)}function Rw(t){t.Ra=new nB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),nu(t).start(),t.Aa.aa()}function Mw(t){return Eo(t)&&!nu(t).M_()&&t.Ta.size>0}function Eo(t){return Pe(t).Ia.size===0}function Pj(t){t.Ra=void 0}async function uW(t){t.Aa.set("Online")}async function cW(t){t.Ta.forEach((e,n)=>{jw(t,e)})}async function dW(t,e){Pj(t),Mw(t)?(t.Aa.la(e),Rw(t)):t.Aa.set("Unknown")}async function fW(t,e,n){if(t.Aa.set("Online"),e instanceof fj&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ta.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ta.delete(o),i.Ra.removeTarget(o))}(t,e)}catch(r){ue(ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _p(t,r)}else if(e instanceof Ih?t.Ra.Ye(e):e instanceof dj?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Te.min()))try{const r=await Ej(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Ra.Pt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Ta.get(u);c&&s.Ta.set(u,c.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const c=s.Ta.get(l);if(!c)return;s.Ta.set(l,c.withResumeToken(wn.EMPTY_BYTE_STRING,c.snapshotVersion)),Ij(s,l);const d=new Ls(c.target,l,u,c.sequenceNumber);jw(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ue(ao,"Failed to raise snapshot:",r),await _p(t,r)}}async function _p(t,e,n){if(!tu(e))throw e;t.Ia.add(1),await Td(t),t.Aa.set("Offline"),n||(n=()=>Ej(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue(ao,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Qm(t)})}function Cj(t,e){return e().catch(n=>_p(t,n,e))}async function Xm(t){const e=Pe(t),n=oa(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:vw;for(;hW(e);)try{const i=await GB(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,pW(e,i)}catch(i){await _p(e,i)}kj(e)&&Nj(e)}function hW(t){return Eo(t)&&t.Pa.length<10}function pW(t,e){t.Pa.push(e);const n=oa(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function kj(t){return Eo(t)&&!oa(t).M_()&&t.Pa.length>0}function Nj(t){oa(t).start()}async function mW(t){oa(t).na()}async function gW(t){const e=oa(t);for(const n of t.Pa)e.X_(n.mutations)}async function yW(t,e,n){const r=t.Pa.shift(),i=Tw.from(r,e,n);await Cj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xm(t)}async function vW(t,e){e&&oa(t).Z_&&await async function(r,i){if(function(a){return eB(a)&&a!==X.ABORTED}(i.code)){const s=r.Pa.shift();oa(r).N_(),await Cj(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Xm(r)}}(t,e),kj(t)&&Nj(t)}async function fA(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ue(ao,"RemoteStore received new credentials");const r=Eo(n);n.Ia.add(3),await Td(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Qm(n)}async function xW(t,e){const n=Pe(t);e?(n.Ia.delete(2),await Qm(n)):e||(n.Ia.add(2),await Td(n),n.Aa.set("Unknown"))}function nu(t){return t.Va||(t.Va=function(n,r,i){const s=Pe(n);return s.ia(),new rW(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:uW.bind(null,t),e_:cW.bind(null,t),n_:dW.bind(null,t),J_:fW.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Mw(t)?Rw(t):t.Aa.set("Unknown")):(await t.Va.stop(),Pj(t))})),t.Va}function oa(t){return t.ma||(t.ma=function(n,r,i){const s=Pe(n);return s.ia(),new iW(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:mW.bind(null,t),n_:vW.bind(null,t),ea:gW.bind(null,t),ta:yW.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Xm(t)):(await t.ma.stop(),t.Pa.length>0&&(ue(ao,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new Dw(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lw(t,e){if(es("AsyncQueue",`${e}: ${t}`),tu(t))return new me(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Gu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.fa=new _t(xe.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):_e(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Dl{constructor(e,n,r,i,s,a,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Dl(e,n,gl.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class bW{constructor(){this.queries=pA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Pe(n),s=i.queries;i.queries=pA(),s.forEach((a,o)=>{for(const l of o.wa)l.onError(r)})})(this,new me(X.ABORTED,"Firestore shutting down"))}}function pA(){return new _o(t=>JO(t),Wm)}async function Oj(t,e){const n=Pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new wW,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=Lw(a,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&Vw(n)}async function jj(t,e){const n=Pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _W(t,e){const n=Pe(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.wa)o.Ca(i)&&(r=!0);a.ya=i}}r&&Vw(n)}function EW(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function Vw(t){t.Da.forEach(e=>{e.next()})}var X0,mA;(mA=X0||(X0={})).Fa="default",mA.Cache="cache";class Rj{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Dl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==X0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.key=e}}class Dj{constructor(e){this.key=e}}class SW{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=je(),this.mutatedKeys=je(),this.Xa=ZO(e),this.eu=new gl(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new hA,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const p=i.get(c),m=Hm(this.query,d)?d:null,g=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;p&&m?p.data.isEqual(m.data)?g!==w&&(r.track({type:3,doc:m}),b=!0):this.iu(p,m)||(r.track({type:2,doc:m}),b=!0,(l&&this.Xa(m,l)>0||u&&this.Xa(m,u)<0)&&(o=!0)):!p&&m?(r.track({type:0,doc:m}),b=!0):p&&!m&&(r.track({type:1,doc:p}),b=!0,(l||u)&&(o=!0)),b&&(m?(a=a.add(m),s=w?s.add(c):s.delete(c)):(a=a.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{eu:a,ru:r,Ds:o,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((c,d)=>function(m,g){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{At:b})}};return w(m)-w(g)}(c.type,d.type)||this.Xa(c.doc,d.doc)),this.su(r),i=i!=null&&i;const o=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,a.length!==0||u?{snapshot:new Dl(this.query,e.eu,s,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new hA,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=je(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Dj(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Mj(r))}),n}uu(e){this.Ha=e.qs,this.Za=je();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Dl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const $w="SyncEngine";class TW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AW{constructor(e){this.key=e,this.lu=!1}}class IW{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new _o(o=>JO(o),Wm),this.Tu=new Map,this.Iu=new Set,this.du=new _t(xe.comparator),this.Eu=new Map,this.Au=new Pw,this.Ru={},this.Vu=new Map,this.mu=Ml.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function PW(t,e,n=!0){const r=Uj(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await Lj(r,e,n,!0),i}async function CW(t,e){const n=Uj(t);await Lj(n,e,!0,!1)}async function Lj(t,e,n,r){const i=await YB(t.localStore,mi(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await kW(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Aj(t.remoteStore,i),o}async function kW(t,e,n,r,i){t.gu=(d,p,m)=>async function(w,b,x,_){let S=b.view.nu(x);S.Ds&&(S=await oA(w.localStore,b.query,!1).then(({documents:A})=>b.view.nu(A,S)));const C=_&&_.targetChanges.get(b.targetId),k=_&&_.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(S,w.isPrimaryClient,C,k);return yA(w,b.targetId,O._u),O.snapshot}(t,d,p,m);const s=await oA(t.localStore,e,!0),a=new SW(e,s.qs),o=a.nu(s.documents),l=Sd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);yA(t,n,u._u);const c=new TW(e,n,a);return t.Pu.set(e,c),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function NW(t,e,n){const r=Pe(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(a=>!Wm(a,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Y0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ow(r.remoteStore,i.targetId),J0(r,i.targetId)}).catch(eu)):(J0(r,i.targetId),await Y0(r.localStore,i.targetId,!0))}async function OW(t,e){const n=Pe(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ow(n.remoteStore,r.targetId))}async function jW(t,e,n){const r=FW(t);try{const i=await function(a,o){const l=Pe(a),u=at.now(),c=o.reduce((m,g)=>m.add(g.key),je());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=ts(),w=je();return l.Os.getEntries(m,c).next(b=>{g=b,g.forEach((x,_)=>{_.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(b=>{d=b;const x=[];for(const _ of o){const S=Y7(_,d.get(_.key).overlayedDocument);S!=null&&x.push(new ya(_.key,S,HO(S.value.mapValue),Jr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,o)}).next(b=>{p=b;const x=b.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(m,b.batchId,x)})}).then(()=>({batchId:p.batchId,changes:tj(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Ru[a.currentUser.toKey()];u||(u=new _t(ke)),u=u.insert(o,l),a.Ru[a.currentUser.toKey()]=u}(r,i.batchId,n),await Ad(r,i.changes),await Xm(r.remoteStore)}catch(i){const s=Lw(i,"Failed to persist write");n.reject(s)}}async function Vj(t,e){const n=Pe(t);try{const r=await KB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Eu.get(s);a&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.lu=!0:i.modifiedDocuments.size>0?Ke(a.lu,14607):i.removedDocuments.size>0&&(Ke(a.lu,42227),a.lu=!1))}),await Ad(n,r,e)}catch(r){await eu(r)}}function gA(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Pe(a);l.onlineState=o;let u=!1;l.queries.forEach((c,d)=>{for(const p of d.wa)p.va(o)&&(u=!0)}),u&&Vw(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RW(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let a=new _t(xe.comparator);a=a.insert(s,Cn.newNoDocument(s,Te.min()));const o=je().add(s),l=new Gm(Te.min(),new Map,new _t(ke),a,o);await Vj(r,l),r.du=r.du.remove(s),r.Eu.delete(e),Fw(r)}else await Y0(r.localStore,e,!1).then(()=>J0(r,e,n)).catch(eu)}async function MW(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=await HB(n.localStore,e);Fj(n,r,null),$j(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ad(n,i)}catch(i){await eu(i)}}async function DW(t,e,n){const r=Pe(t);try{const i=await function(a,o){const l=Pe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(d=>(Ke(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);Fj(r,e,n),$j(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ad(r,i)}catch(i){await eu(i)}}function $j(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function Fj(t,e,n){const r=Pe(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function J0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||zj(t,r)})}function zj(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ow(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Fw(t))}function yA(t,e,n){for(const r of n)r instanceof Mj?(t.Au.addReference(r.key,e),LW(t,r)):r instanceof Dj?(ue($w,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||zj(t,r.key)):_e(19791,{yu:r})}function LW(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(ue($w,"New document in limbo: "+n),t.Iu.add(r),Fw(t))}function Fw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new xe(xt.fromString(e)),r=t.mu.next();t.Eu.set(r,new AW(n)),t.du=t.du.insert(n,r),Aj(t.remoteStore,new Ls(mi(Bm(n.path)),r,"TargetPurposeLimboResolution",$m.ue))}}async function Ad(t,e,n){const r=Pe(t),i=[],s=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((o,l)=>{a.push(r.gu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=kw.Es(l.targetId,u);s.push(d)}}))}),await Promise.all(a),r.hu.J_(i),await async function(l,u){const c=Pe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Y.forEach(u,p=>Y.forEach(p.Is,m=>c.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>Y.forEach(p.ds,m=>c.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!tu(d))throw d;ue(Nw,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const m=c.Fs.get(p),g=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(g);c.Fs=c.Fs.insert(p,w)}}}(r.localStore,s))}async function VW(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ue($w,"User change. New user:",e.toKey());const r=await _j(n.localStore,e);n.currentUser=e,function(s,a){s.Vu.forEach(o=>{o.forEach(l=>{l.reject(new me(X.CANCELLED,a))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ad(n,r.Bs)}}function $W(t,e){const n=Pe(t),r=n.Eu.get(e);if(r&&r.lu)return je().add(r.key);{let i=je();const s=n.Tu.get(e);if(!s)return i;for(const a of s){const o=n.Pu.get(a);i=i.unionWith(o.view.tu)}return i}}function Uj(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$W.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RW.bind(null,e),e.hu.J_=_W.bind(null,e.eventManager),e.hu.pu=EW.bind(null,e.eventManager),e}function FW(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DW.bind(null,e),e}class Ep{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ym(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return WB(this.persistence,new zB,e.initialUser,this.serializer)}Du(e){return new bj(Cw.Vi,this.serializer)}bu(e){return new XB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ep.provider={build:()=>new Ep};class zW extends Ep{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ke(this.persistence.referenceDelegate instanceof bp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AB(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new bj(r=>bp.Vi(r,n),this.serializer)}}class Z0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VW.bind(null,this.syncEngine),await xW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bW}()}createDatastore(e){const n=Ym(e.databaseInfo.databaseId),r=function(s){return new nW(s)}(e.databaseInfo);return function(s,a,o,l){return new aW(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new lW(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>gA(this.syncEngine,n,0),function(){return cA.C()?new cA:new JB}())}createSyncEngine(e,n){return function(i,s,a,o,l,u,c){const d=new IW(i,s,a,o,l,u);return c&&(d.fu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Pe(i);ue(ao,"RemoteStore shutting down."),s.Ia.add(5),await Td(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Z0.provider={build:()=>new Z0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="FirestoreClient";class UW{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=In.UNAUTHENTICATED,this.clientId=gw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{ue(la,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ue(la,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Lw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rv(t,e){t.asyncQueue.verifyOperationInProgress(),ue(la,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await _j(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{na("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{ue("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{na("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function vA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BW(t);ue(la,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>fA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>fA(e.remoteStore,i)),t._onlineComponents=e}async function BW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue(la,"Using user provided OfflineComponentProvider");try{await rv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;na("Error using user provided cache. Falling back to memory cache: "+n),await rv(t,new Ep)}}else ue(la,"Using default OfflineComponentProvider"),await rv(t,new zW(void 0));return t._offlineComponents}async function Wj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue(la,"Using user provided OnlineComponentProvider"),await vA(t,t._uninitializedComponentsProvider._online)):(ue(la,"Using default OnlineComponentProvider"),await vA(t,new Z0))),t._onlineComponents}function WW(t){return Wj(t).then(e=>e.syncEngine)}async function ex(t){const e=await Wj(t),n=e.eventManager;return n.onListen=PW.bind(null,e.syncEngine),n.onUnlisten=NW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OW.bind(null,e.syncEngine),n}function HW(t,e,n={}){const r=new Xs;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const c=new Bj({next:p=>{c.Ou(),a.enqueueAndForget(()=>jj(s,d));const m=p.docs.has(o);!m&&p.fromCache?u.reject(new me(X.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new me(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new Rj(Bm(o.path),c,{includeMetadataChanges:!0,ka:!0});return Oj(s,d)}(await ex(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="firestore.googleapis.com",wA=!0;class bA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kj,this.ssl=wA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:wA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SB)throw new me(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zw{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XU;switch(r.type){case"firstParty":return new t7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xA.get(n);r&&(ue("ComponentProvider","Removing Datastore"),xA.delete(n),r.terminate())}(this),Promise.resolve()}}function KW(t,e,n,r={}){var i;t=Xr(t,zw);const s=Ql(e),a=t._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(UN(`https://${l}`),BN("Firestore",!0)),a.host!==Kj&&a.host!==l&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:r});if(!ta(u,o)&&(t._setSettings(u),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=In.MOCK_USER;else{c=wF(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new me(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new In(p)}t._authCredentials=new JU(new jO(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jm(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_d(n,Vt._jsonSchema))return new Vt(e,r||null,new xe(xt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Lt("string",Vt._jsonSchemaVersion),referencePath:Lt("string")};class Hc extends Jm{constructor(e,n,r){super(e,n,Bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new xe(e))}withConverter(e){return new Hc(this.firestore,e,this._path)}}function He(t,e,...n){if(t=xn(t),arguments.length===1&&(e=gw.newId()),a7("doc","path",e),t instanceof zw){const r=xt.fromString(e,...n);return MT(r),new Vt(t,null,new xe(r))}{if(!(t instanceof Vt||t instanceof Hc))throw new me(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return MT(r),new Vt(t.firestore,t instanceof Hc?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="AsyncQueue";class EA{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Sj(this,"async_queue_retry"),this.oc=()=>{const r=nv();r&&ue(_A,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=nv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=nv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Xs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!tu(e))throw e;ue(_A,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,es("INTERNAL UNHANDLED ERROR: ",SA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=Dw.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&_e(47125,{hc:SA(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function SA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class oo extends zw{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new EA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new EA(e),this._firestoreClient=void 0,await e}}}function qW(t,e){const n=typeof t=="object"?t:qN(),r=typeof t=="string"?t:pp,i=rw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vF("firestore");s&&KW(i,...s)}return i}function Uw(t){if(t._terminated)throw new me(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GW(t),t._firestoreClient}function GW(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,u,c){return new v7(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Hj(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new UW(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sr(wn.fromBase64String(e))}catch(n){throw new me(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sr(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_d(e,Sr._jsonSchema))return Sr.fromBase64String(e.bytes)}}Sr._jsonSchemaVersion="firestore/bytes/1.0",Sr._jsonSchema={type:Lt("string",Sr._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yi._jsonSchemaVersion}}static fromJSON(e){if(_d(e,yi._jsonSchema))return new yi(e.latitude,e.longitude)}}yi._jsonSchemaVersion="firestore/geoPoint/1.0",yi._jsonSchema={type:Lt("string",yi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_d(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new vi(e.vectorValues);throw new me(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:Lt("string",vi._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW=/^__.*__$/;class QW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ed(e,this.data,n,this.fieldTransforms)}}class qj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Gj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ec:t})}}class tg{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new tg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Sp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Gj(this.Ec)&&YW.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class XW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ym(e)}Dc(e,n,r,i=!1){return new tg({Ec:e,methodName:n,bc:r,path:pn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yj(t){const e=t._freezeSettings(),n=Ym(t._databaseId);return new XW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JW(t,e,n,r,i,s={}){const a=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);Ww("Data must be an object, but it was:",a,r);const o=Qj(r,a);let l,u;if(s.merge)l=new ur(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const p=tx(e,d,n);if(!a.contains(p))throw new me(X.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Jj(c,p)||c.push(p)}l=new ur(c),u=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=a.fieldTransforms;return new QW(new Yn(o),l,u)}class Id extends eg{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Id}}function ZW(t,e,n){return new tg({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bw extends eg{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=ZW(this,e,!0),r=this.vc.map(s=>Pd(s,n)),i=new Rl(r);return new H7(e.path,i)}isEqual(e){return e instanceof Bw&&ta(this.vc,e.vc)}}function eH(t,e,n,r){const i=t.Dc(1,e,n);Ww("Data must be an object, but it was:",i,r);const s=[],a=Yn.empty();ga(r,(l,u)=>{const c=Hw(e,l,n);u=xn(u);const d=i.gc(c);if(u instanceof Id)s.push(c);else{const p=Pd(u,d);p!=null&&(s.push(c),a.set(c,p))}});const o=new ur(s);return new qj(a,o,i.fieldTransforms)}function tH(t,e,n,r,i,s){const a=t.Dc(1,e,n),o=[tx(e,r,n)],l=[i];if(s.length%2!=0)throw new me(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)o.push(tx(e,s[p])),l.push(s[p+1]);const u=[],c=Yn.empty();for(let p=o.length-1;p>=0;--p)if(!Jj(u,o[p])){const m=o[p];let g=l[p];g=xn(g);const w=a.gc(m);if(g instanceof Id)u.push(m);else{const b=Pd(g,w);b!=null&&(u.push(m),c.set(m,b))}}const d=new ur(u);return new qj(c,d,a.fieldTransforms)}function Pd(t,e){if(Xj(t=xn(t)))return Ww("Unsupported field value:",e,t),Qj(t,e);if(t instanceof eg)return function(r,i){if(!Gj(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=Pd(o,i.yc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return U7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:wp(i.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wp(i.serializer,s)}}if(r instanceof yi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sr)return{bytesValue:hj(i.serializer,r._byteString)};if(r instanceof Vt){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Iw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof vi)return function(a,o){return{mapValue:{fields:{[BO]:{stringValue:WO},[mp]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw o.wc("VectorValues must only contain numeric values.");return Ew(o.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${yw(r)}`)}(t,e)}function Qj(t,e){const n={};return LO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(t,(r,i)=>{const s=Pd(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Xj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof yi||t instanceof Sr||t instanceof Vt||t instanceof eg||t instanceof vi)}function Ww(t,e,n){if(!Xj(n)||!MO(n)){const r=yw(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function tx(t,e,n){if((e=xn(e))instanceof Zm)return e._internalPath;if(typeof e=="string")return Hw(t,e);throw Sp("Field path arguments must be of type string or ",t,!1,void 0,n)}const nH=new RegExp("[~\\*/\\[\\]]");function Hw(t,e,n){if(e.search(nH)>=0)throw Sp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zm(...e.split("."))._internalPath}catch{throw Sp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sp(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new me(X.INVALID_ARGUMENT,o+t+l)}function Jj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rH extends Zj{data(){return super.data()}}function eR(t,e){return typeof e=="string"?Hw(t,e):e instanceof Zm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sH{convertValue(e,n="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ga(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[mp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Nt(a.doubleValue));return new vi(s)}convertGeoPoint(e){return new yi(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const n=ia(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xt.fromString(e);Ke(xj(r),9688,{name:e});const i=new Uc(r.get(1),r.get(3)),s=new xe(r.popFirst(5));return i.isEqual(n)||es(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends Zj{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(eR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ha._jsonSchema={type:Lt("string",Ha._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Ph extends Ha{data(e={}){return super.data(e)}}class yl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ph(this._firestore,this._userDataWriter,r.key,r,new Qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new Ph(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Qu(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new Ph(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Qu(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),c=a.indexOf(o.doc.key)),{type:oH(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t){t=Xr(t,Vt);const e=Xr(t.firestore,oo);return HW(Uw(e),t._key).then(n=>nR(e,t,n))}yl._jsonSchemaVersion="firestore/querySnapshot/1.0",yl._jsonSchema={type:Lt("string",yl._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class tR extends sH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function sv(t,e,n){t=Xr(t,Vt);const r=Xr(t.firestore,oo),i=aH(t.converter,e,n);return Kw(r,[JW(Yj(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Jr.none())])}function Xe(t,e,n,...r){t=Xr(t,Vt);const i=Xr(t.firestore,oo),s=Yj(i);let a;return a=typeof(e=xn(e))=="string"||e instanceof Zm?tH(s,"updateDoc",t._key,e,n,r):eH(s,"updateDoc",t._key,e),Kw(i,[a.toMutation(t._key,Jr.exists(!0))])}function AA(t){return Kw(Xr(t.firestore,oo),[new Sw(t._key,Jr.none())])}function lH(t,...e){var n,r,i;t=xn(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||TA(e[a])||(s=e[a++]);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(TA(e[a])){const d=e[a];e[a]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[a+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[a+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Vt)u=Xr(t.firestore,oo),c=Bm(t._key.path),l={next:d=>{e[a]&&e[a](nR(u,t,d))},error:e[a+1],complete:e[a+2]};else{const d=Xr(t,Jm);u=Xr(d.firestore,oo),c=d._query;const p=new tR(u);l={next:m=>{e[a]&&e[a](new yl(u,p,d,m))},error:e[a+1],complete:e[a+2]},iH(t._query)}return function(p,m,g,w){const b=new Bj(w),x=new Rj(m,b,g);return p.asyncQueue.enqueueAndForget(async()=>Oj(await ex(p),x)),()=>{b.Ou(),p.asyncQueue.enqueueAndForget(async()=>jj(await ex(p),x))}}(Uw(u),c,o,l)}function Kw(t,e){return function(r,i){const s=new Xs;return r.asyncQueue.enqueueAndForget(async()=>jW(await WW(r),i,s)),s.promise}(Uw(t),e)}function nR(t,e,n){const r=n.docs.get(e._key),i=new tR(t);return new Ha(t,i,e._key,r,new Qu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(){return new Id("deleteField")}function Lo(...t){return new Bw("arrayUnion",t)}(function(e,n=!0){(function(i){Zl=i})(Xl),Cl(new ro("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new oo(new ZU(r.getProvider("auth-internal")),new n7(a,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new me(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uc(u.options.projectId,c)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Ys(kT,NT,e),Ys(kT,NT,"esm2017")})();let nx='{"apiKey":"AIzaSyA6DTgVIegbDehKCenFHhVzAMmXLXTHbys","authDomain":"couples-budgeting-e4dfb.firebaseapp.com","projectId":"couples-budgeting-e4dfb","storageBucket":"couples-budgeting-e4dfb.firebasestorage.app","messagingSenderId":"195620381910","appId":"1:195620381910:web:57a7953f3642f506ecd577"}';console.log(" VITE_FIREBASE_CONFIG found (Length: "+nx.length+")");let Kc=null;try{const t=nx?JSON.parse(nx):{};Object.keys(t).length>0?(Kc=KN(t),console.log(" Firebase App Initialized Successfully")):console.warn(" Firebase config is empty. Check Vercel settings.")}catch(t){console.error(" Firebase Config Parse/Init Error:",t),console.log(" HINT: Ensure your Vercel Environment Variable value is a pure JSON string without wrapping quotes.")}const Uf=Kc?qU(Kc):null,ye=Kc?qW(Kc):null,ft="sweet-ledger-beta",rR=v.createContext(),iR=()=>v.useContext(rR),uH=({children:t})=>{const[e,n]=v.useState(()=>{try{const l=localStorage.getItem("sweet_user_cache");return l?JSON.parse(l):null}catch(l){return console.warn("User cache parse failed:",l),null}}),[r,i]=v.useState(!0);v.useEffect(()=>{if(!Uf){i(!1);return}(async()=>{})();const u=R8(Uf,c=>{if(c){const d={uid:c.uid,displayName:c.displayName,email:c.email,photoURL:c.photoURL,isCached:!1};localStorage.setItem("sweet_user_cache",JSON.stringify(d)),n(c)}else localStorage.removeItem("sweet_user_cache"),n(null);i(!1)});return()=>u()},[]);const o={user:e,loading:r,loginWithGoogle:async()=>{i(!0);const l=new Di;try{console.log(" Starting Google Login via Popup...");const u=await nU(Uf,l);u!=null&&u.user&&console.log(" Popup Login Success:",u.user.uid),i(!1)}catch(u){console.error("Login Error:",u),i(!1),alert(`
 ( Chrome)`)}},logout:async()=>(localStorage.removeItem("sweet_user_cache"),n(null),M8(Uf))};return h.jsx(rR.Provider,{value:o,children:t})},kn=[{code:"TWD",name:"",symbol:"NT$",flag:""},{code:"JPY",name:"",symbol:"",flag:""},{code:"USD",name:"",symbol:"$",flag:""},{code:"THB",name:"",symbol:"",flag:""},{code:"KRW",name:"",symbol:"",flag:""},{code:"EUR",name:"",symbol:"",flag:""},{code:"CNY",name:"",symbol:"",flag:""},{code:"GBP",name:"",symbol:"",flag:""},{code:"AUD",name:"",symbol:"A$",flag:""},{code:"SGD",name:"",symbol:"S$",flag:""},{code:"HKD",name:"",symbol:"HK$",flag:""},{code:"CAD",name:"",symbol:"C$",flag:""},{code:"VND",name:"",symbol:"",flag:""},{code:"PHP",name:"",symbol:"",flag:""},{code:"MYR",name:"",symbol:"RM",flag:""}],qw=["JPY","THB","USD"],Ln={orange:{id:"orange",bg:"bg-orange-100",text:"text-orange-600",hex:"#ea580c",name:"Orange"},blue:{id:"blue",bg:"bg-blue-100",text:"text-blue-600",hex:"#2563eb",name:"Blue"},pink:{id:"pink",bg:"bg-pink-100",text:"text-pink-600",hex:"#db2777",name:"Pink"},indigo:{id:"indigo",bg:"bg-indigo-100",text:"text-indigo-600",hex:"#4f46e5",name:"Indigo"},purple:{id:"purple",bg:"bg-purple-100",text:"text-purple-600",hex:"#9333ea",name:"Purple"},yellow:{id:"yellow",bg:"bg-yellow-100",text:"text-yellow-600",hex:"#ca8a04",name:"Yellow"},gray:{id:"gray",bg:"bg-gray-100",text:"text-gray-600",hex:"#4b5563",name:"Gray"},red:{id:"red",bg:"bg-red-100",text:"text-red-600",hex:"#dc2626",name:"Red"},green:{id:"green",bg:"bg-green-100",text:"text-green-600",hex:"#16a34a",name:"Green"},slate:{id:"slate",bg:"bg-slate-100",text:"text-slate-600",hex:"#475569",name:"Slate"},emerald:{id:"emerald",bg:"bg-emerald-100",text:"text-emerald-600",hex:"#059669",name:"Emerald"},rose:{id:"rose",bg:"bg-rose-100",text:"text-rose-600",hex:"#e11d48",name:"Rose"},cyan:{id:"cyan",bg:"bg-cyan-100",text:"text-cyan-600",hex:"#0891b2",name:"Cyan"},amber:{id:"amber",bg:"bg-amber-100",text:"text-amber-600",hex:"#d97706",name:"Amber"},fuchsia:{id:"fuchsia",bg:"bg-fuchsia-100",text:"text-fuchsia-600",hex:"#c026d3",name:"Fuchsia"}},Ru={orange:"#d6a2a2",blue:"#8fbcd4",pink:"#eeccdf",indigo:"#a3a7bf",purple:"#c7b3e5",yellow:"#e6c9a8",gray:"#d1d5db",red:"#e09f9f",green:"#a8cebb",slate:"#94a3b8",emerald:"#88bfac",rose:"#f43f5e",cyan:"#a5d6d9",amber:"#d9b891",fuchsia:"#d8a7d1",host:"#8fbcd4",guest:"#eeccdf"},gc=Object.values(Ln).map(t=>({name:t.name,class:`${t.bg} ${t.text}`,hex:t.hex})),yc={food:C0,transport:ZS,shopping:I0,housing:lc,hotel:HS,ticket:K9,telecom:P0,insurance:XS,life:JS,other:QS,cat:a$,dog:O$,rabbit:S9,bird:QV,fish:W$,turtle:X9,default:ew,project_daily:jm,project_travel:NN,project_house:lc,project_private:RN,coffee:IN,music:CN,game:G$,heart:Z1,gift:PN,zap:MN,book:JV,settlement:no,utensils:C0,train:ZS,"shopping-bag":I0,house:lc,"bed-double":HS,smartphone:P0,"shield-check":XS,sun:JS,"message-circle":QS},cH=[{...Ln.orange,id:"food",name:"",icon:"food"},{...Ln.blue,id:"transport",name:"",icon:"transport"},{...Ln.pink,id:"shopping",name:"",icon:"shopping"},{...Ln.indigo,id:"housing",name:"",icon:"housing"},{...Ln.purple,id:"hotel",name:"",icon:"hotel"},{...Ln.yellow,id:"ticket",name:"",icon:"ticket"},{...Ln.gray,id:"telecom",name:"",icon:"telecom"},{...Ln.red,id:"insurance",name:"",icon:"insurance"},{...Ln.green,id:"life",name:"",icon:"life"},{...Ln.slate,id:"other",name:"",icon:"other"},{...Ln.emerald,id:"settlement",name:"",icon:"settlement"}],tr=cH.filter(t=>t.id!=="settlement"),dH=["food","transport","shopping","housing","hotel","ticket","telecom","insurance","life","other","coffee","music","game","heart","gift","zap","book","cat","dog","rabbit","bird","fish","turtle"],vc={cat:{id:"cat",name:"",icon:"cat",prompt:"",greeting:" "},dog:{id:"dog",name:"",icon:"dog",prompt:"",greeting:" "},rabbit:{id:"rabbit",name:"",icon:"rabbit",prompt:"",greeting:"... (//////) "},bird:{id:"bird",name:"",icon:"bird",prompt:"",greeting:""},fish:{id:"fish",name:"",icon:"fish",prompt:"7",greeting:"..."},turtle:{id:"turtle",name:"",icon:"turtle",prompt:"...",greeting:"........."}},sR={users:{},transactions:[],subscriptions:[],customCategories:tr,projects:[{id:"daily",name:"",icon:"project_daily",rates:{},type:"public"},{id:"travel",name:"",icon:"project_travel",rates:{},type:"public"},{id:"house",name:"",icon:"project_house",rates:{},type:"public"},{id:"private",name:"",icon:"project_private",rates:{},type:"private"}],settings:{character:"cat",selectedCategories:tr.map(t=>t.id)}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IA;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(IA||(IA={}));var PA;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(PA||(PA={}));var CA;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(CA||(CA={}));var kA;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(kA||(kA={}));var Tp;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.OTHER="OTHER"})(Tp||(Tp={}));var NA;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(NA||(NA={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class OA extends qc{constructor(e,n){super(e),this.response=n}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH="https://generativelanguage.googleapis.com",hH="v1",pH="0.2.1",mH="genai-js";var lo;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(lo||(lo={}));class Cd{constructor(e,n,r,i){this.model=e,this.task=n,this.apiKey=r,this.stream=i}toString(){let e=`${fH}/${hH}/${this.model}:${this.task}`;return this.stream&&(e+="?alt=sse"),e}}function gH(){return`${mH}/${pH}`}async function kd(t,e,n){let r;try{if(r=await fetch(t.toString(),Object.assign(Object.assign({},yH(n)),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":gH(),"x-goog-api-key":t.apiKey},body:e})),!r.ok){let i="";try{const s=await r.json();i=s.error.message,s.error.details&&(i+=` ${JSON.stringify(s.error.details)}`)}catch{}throw new Error(`[${r.status} ${r.statusText}] ${i}`)}}catch(i){const s=new qc(`Error fetching from ${t.toString()}: ${i.message}`);throw s.stack=i.stack,s}return r}function yH(t){const e={};if((t==null?void 0:t.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),t.timeout),e.signal=r}return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),aR(t.candidates[0]))throw new OA(`${Ap(t)}`,t);return vH(t)}else if(t.promptFeedback)throw new OA(`Text not available. ${Ap(t)}`,t);return""},t}function vH(t){var e,n,r,i;return!((i=(r=(n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||i===void 0)&&i.text?t.candidates[0].content.parts[0].text:""}const xH=[Tp.RECITATION,Tp.SAFETY];function aR(t){return!!t.finishReason&&xH.includes(t.finishReason)}function Ap(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const s=t.candidates[0];aR(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function Gc(t){return this instanceof Gc?(this.v=t,this):new Gc(t)}function wH(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(p){r[p]&&(i[p]=function(m){return new Promise(function(g,w){s.push([p,m,g,w])>1||o(p,m)})})}function o(p,m){try{l(r[p](m))}catch(g){d(s[0][3],g)}}function l(p){p.value instanceof Gc?Promise.resolve(p.value.v).then(u,c):d(s[0][2],p)}function u(p){o("next",p)}function c(p){o("throw",p)}function d(p,m){p(m),s.shift(),s.length&&o(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function bH(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=SH(e),[r,i]=n.tee();return{stream:EH(r),response:_H(i)}}async function _H(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return Gw(TH(e));e.push(i)}}function EH(t){return wH(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield Gc(n.read());if(i)break;yield yield Gc(Gw(r))}})}function SH(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:a,done:o})=>{if(o){if(i.trim()){r.error(new qc("Failed to parse stream"));return}r.close();return}i+=a;let l=i.match(jA),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new qc(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),i=i.substring(l[0].length),l=i.match(jA)}return s()})}}})}function TH(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const i of r.candidates){const s=i.index;if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:i.index}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[{text:""}]});for(const a of i.content.parts)a.text&&(n.candidates[s].content.parts[0].text+=a.text)}}return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(t,e,n,r){const i=new Cd(e,lo.STREAM_GENERATE_CONTENT,t,!0),s=await kd(i,JSON.stringify(n),r);return bH(s)}async function lR(t,e,n,r){const i=new Cd(e,lo.GENERATE_CONTENT,t,!1),a=await(await kd(i,JSON.stringify(n),r)).json();return{response:Gw(a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t,e){let n=[];if(typeof t=="string")n=[{text:t}];else for(const r of t)typeof r=="string"?n.push({text:r}):n.push(r);return{role:e,parts:n}}function av(t){return t.contents?t:{contents:[xc(t,"user")]}}function AH(t){return typeof t=="string"||Array.isArray(t)?{content:xc(t,"user")}:t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="SILENT_ERROR";class IH{constructor(e,n,r,i){this.model=n,this.params=r,this.requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(this._history=r.history.map(s=>{if(!s.role)throw new Error("Missing role for history item: "+JSON.stringify(s));return xc(s.parts,s.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var n,r;await this._sendPromise;const i=xc(e,"user"),s={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,i]};let a;return this._sendPromise=this._sendPromise.then(()=>lR(this._apiKey,this.model,s,this.requestOptions)).then(o=>{var l;if(o.response.candidates&&o.response.candidates.length>0){this._history.push(i);const u=Object.assign({parts:[],role:"model"},(l=o.response.candidates)===null||l===void 0?void 0:l[0].content);this._history.push(u)}else{const u=Ap(o.response);u&&console.warn(`sendMessage() was unsuccessful. ${u}. Inspect response object for details.`)}a=o}),await this._sendPromise,a}async sendMessageStream(e){var n,r;await this._sendPromise;const i=xc(e,"user"),s={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,i]},a=oR(this._apiKey,this.model,s,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>a).catch(o=>{throw new Error(RA)}).then(o=>o.response).then(o=>{if(o.candidates&&o.candidates.length>0){this._history.push(i);const l=Object.assign({},o.candidates[0].content);l.role||(l.role="model"),this._history.push(l)}else{const l=Ap(o);l&&console.warn(`sendMessageStream() was unsuccessful. ${l}. Inspect response object for details.`)}}).catch(o=>{o.message!==RA&&console.error(o)}),a}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PH(t,e,n,r){const i=new Cd(e,lo.COUNT_TOKENS,t,!1);return(await kd(i,JSON.stringify(Object.assign(Object.assign({},n),{model:e})),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CH(t,e,n,r){const i=new Cd(e,lo.EMBED_CONTENT,t,!1);return(await kd(i,JSON.stringify(n),r)).json()}async function kH(t,e,n,r){const i=new Cd(e,lo.BATCH_EMBED_CONTENTS,t,!1),s=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await kd(i,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e,n,r){this.apiKey=e,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.requestOptions=r||{}}async generateContent(e){const n=av(e);return lR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}async generateContentStream(e){const n=av(e);return oR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}startChat(e){return new IH(this.apiKey,this.model,e,this.requestOptions)}async countTokens(e){const n=av(e);return PH(this.apiKey,this.model,n)}async embedContent(e){const n=AH(e);return CH(this.apiKey,this.model,n)}async batchEmbedContents(e){return kH(this.apiKey,this.model,e,this.requestOptions)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new qc("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new NH(this.apiKey,e,n)}}const Ho=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),Yc=(t=new Date)=>{const e=new Date(t),n=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-n).toISOString().slice(0,10)},vt=(t,e="TWD",n=!1)=>n?"****":new Intl.NumberFormat("zh-TW",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:2}).format(t),li=(t,e,n)=>{if(!t)return 0;const r=parseFloat(t);if(isNaN(r))return 0;if(e==="TWD")return r;const i=(n==null?void 0:n[e])||1;return r*i},Yw=async t=>{if(!t||t==="TWD")return 1;const e=`sweet_rate_${t}`,n=localStorage.getItem(e),r=24*60*60*1e3;if(n)try{const{rate:a,timestamp:o}=JSON.parse(n);if(Date.now()-o<r)return a}catch(a){console.warn("Cache parse error",a),localStorage.removeItem(e)}const i=!1;let s;s=`https://v6.exchangerate-api.com/v6/28b8f44cf71d141cc4769427/latest/${t}`;try{const o=await(await fetch(s)).json();let l=null;if(i||o&&o.result==="success"&&o.conversion_rates&&(l=o.conversion_rates.TWD),l){const u=JSON.stringify({rate:l,timestamp:Date.now()});return localStorage.setItem(e,u),l}return console.warn(`Exchange Rate API: No TWD rate found for ${t}`),null}catch(a){return console.error("Exchange Rate API Error:",a),null}},Pr=t=>{const e={food:C0,drink:IN,transport:t$,shopping:I0,housing:lc,entertainment:K$,gift:PN,utilities:oF,health:Z1,travel:NN,education:J$,salary:x$,investment:SN,subscriptions:MN,digital:P0,music:CN,streaming:Z9,baby:qV,other:R$,"help-circle":KS,settlement:no};return yc&&yc[t]||e[t]||KS},ua=(t,e="display")=>{if(!t)return{containerClass:"bg-gray-100",iconClass:"text-gray-500",hex:"#94a3b8"};if(e==="input")return{containerClass:"bg-gray-50 border border-gray-100",iconClass:"text-gray-400",activeClass:"bg-rose-500 text-white shadow-md shadow-rose-200 border-transparent",hex:"#64748b"};if(t.bg&&t.text)return{containerClass:t.bg,iconClass:t.text,hex:t.hex||"#475569"};if(t.colorId&&Ln&&Ln[t.colorId]){const n=Ln[t.colorId];return{containerClass:`${n.bg} ${n.text}`,iconClass:n.text,hex:n.hex}}return{containerClass:t.color||"bg-slate-100 text-slate-600",iconClass:"",hex:t.hex||"#475569"}},rx=(t,e="w-10 h-10")=>{if(t&&typeof t=="string"&&t.includes("http"))return h.jsx("img",{src:t,className:`${e} rounded-full object-cover border border-gray-200`,alt:"avatar"});let n=Pl;if(vc&&vc[t]){const r=vc[t].icon;n=Pr(r)}else yc&&yc[t]&&(n=yc[t]);return h.jsx("div",{className:`${e} flex items-center justify-center bg-gray-100 rounded-full text-gray-600 border border-gray-200`,children:h.jsx(n,{className:"w-[60%] h-[60%]",strokeWidth:2})})},uR=async(t,e=null)=>{const n="AIzaSyCNezUDTikYJr2pTaZ3C6ia2vpa9QfsKi0";try{const i=new OH(n).getGenerativeModel({model:"gemini-1.5-flash"});let s;if(e){const a={inlineData:{data:e,mimeType:"image/jpeg"}};s=await i.generateContent([t,a])}else s=await i.generateContent(t);return s.response.text()}catch(r){return console.error("Gemini SDK Error:",r),null}},jH=async t=>{const n=await uR(`
  
  
  1. 
  2. Service ChargeSVC10%
  3. 
  4.  (quantity)  1
  5.  (price) 
  
   JSON  Markdown 
  [{"name": "", "price": 180, "quantity": 1}]`,t);if(!n)return null;try{const r=n.replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(r)}catch(r){return console.error("Receipt Parse JSON Error:",r),null}},cR=v.createContext(),dR=()=>v.useContext(cR),RH=({children:t})=>{const{user:e}=iR(),[n,r]=v.useState(()=>localStorage.getItem("sweet_ledger_code")||""),[i,s]=v.useState(()=>{if(!n)return null;const $=localStorage.getItem("sweet_ledger_code");if(!$)return null;const F=`sweet_ledger_data_${$}`;try{const D=localStorage.getItem(F);if(D){const L=JSON.parse(D);if(L&&(Array.isArray(L.transactions)||L.users))return L}}catch(D){console.warn("Ledger cache corrupt:",D)}return null}),[a,o]=v.useState(!i),l=v.useRef(!1);v.useEffect(()=>{if(!ye){o(!1);return}n?localStorage.setItem("sweet_ledger_code",n):localStorage.removeItem("sweet_ledger_code")},[n]),v.useEffect(()=>{if(!ye){o(!1);return}if(!n){localStorage.getItem("sweet_ledger_code")||(s(null),o(!1));return}const $=`sweet_ledger_data_${n}`,F=He(ye,"artifacts",ft,"public","data","ledgers",n),D=lH(F,async L=>{if(L.exists()){const H=L.data();if(e&&(!H.users||!H.users[e.uid])){console.warn("User has been removed from ledger (Kick-out). Disconnecting...");try{const q=He(ye,"users",e.uid);await Xe(q,{ledgerCode:ju()})}catch{}return}localStorage.setItem($,JSON.stringify(H)),s(H)}else{if(console.warn("Ledger not found (remote) - Detected Ghost Ledger"),e)try{const H=He(ye,"users",e.uid);await Xe(H,{ledgerCode:ju()})}catch(H){console.error("Failed to unlink ghost ledger:",H)}r(""),s(null),localStorage.removeItem("sweet_ledger_code"),localStorage.removeItem($)}o(!1)},L=>{console.error("Snapshot error:",L),o(!1)});return()=>D()},[n,e]),v.useEffect(()=>{if(!n||!i||!e||!ye||l.current)return;const F=setTimeout(async()=>{l.current=!0;let D=!1,L={};const H=i.users&&Object.keys(i.users).length>0,q=i.users&&i.users[e.uid];if(H?q||(D=!0,L[`users.${e.uid}`]={name:e.displayName||"Guest",avatar:"dog",role:"guest",joinedAt:new Date().toISOString()}):(D=!0,L.users={[e.uid]:{name:e.displayName||"",avatar:"cat",role:"host",joinedAt:new Date().toISOString()}}),i.paymentMethods||(D=!0,L.paymentMethods=[{id:"cash",name:""},{id:"credit_card",name:""}]),!D&&i.transactions&&i.transactions.length>0){let Q=!1;for(const ie of i.transactions)if(!ie.date||typeof ie.amount=="string"||ie.customSplit&&Object.values(ie.customSplit).some(ae=>isNaN(ae))){Q=!0;break}if(Q){const ie=i.transactions.map(ae=>{let he={...ae};if(he.date||(he.date=new Date().toISOString()),typeof ae.amount=="string"&&(he.amount=parseFloat(ae.amount)||0),(ae.splitType==="custom"||ae.splitType==="multi_payer")&&ae.customSplit){const ge={};Object.keys(ae.customSplit).forEach(we=>{const Re=parseFloat(ae.customSplit[we]);ge[we]=isNaN(Re)?0:Re}),he.customSplit=ge}return he});D=!0,L.transactions=ie}}if(D)try{const Q=He(ye,"artifacts",ft,"public","data","ledgers",n);await Xe(Q,L),console.log("  (Data Repaired).")}catch(Q){console.error(" :",Q)}setTimeout(()=>{l.current=!1},3e3)},2e3);return()=>clearTimeout(F)},[i,n,e]),v.useEffect(()=>{if(!i||!i.subscriptions||!n||!ye)return;const $=Yc();if(i.lastSubscriptionCheck===$)return;const D=`temp_subs_lock_${n}_${$}`;if(sessionStorage.getItem(D))return;const L=setTimeout(async()=>{sessionStorage.setItem(D,"true");let H=!1,q=[],Q=[...i.subscriptions];const ie=new Date;ie.setHours(0,0,0,0),Q=Q.map(he=>{let ge=new Date(he.nextPaymentDate),we=!1,Re=0;for(;ge<=ie&&Re<12;){we=!0,H=!0;const{nextPaymentDate:K,cycle:J,payDay:G,mode:B,...oe}=he,le={...oe,id:Ho(),date:ge.toISOString(),note:`[] ${he.name}`,isSettlement:!1,amount:parseFloat(oe.amount)||0};if(q.push(le),he.cycle==="monthly"){const Ae=ge.getMonth();if(ge.setMonth(Ae+1),he.payDay){const Ie=new Date(ge.getFullYear(),ge.getMonth()+1,0).getDate(),Me=Math.min(parseInt(he.payDay),Ie);ge.setDate(Me)}}else he.cycle==="weekly"?ge.setDate(ge.getDate()+7):ge.setMonth(ge.getMonth()+1);Re++}return we?{...he,nextPaymentDate:ge.toISOString()}:he});const ae=He(ye,"artifacts",ft,"public","data","ledgers",n);H?(await Xe(ae,{...q.length>0?{transactions:Lo(...q)}:{},subscriptions:Q,lastSubscriptionCheck:$}),console.log(` : ${q.length} `)):await Xe(ae,{lastSubscriptionCheck:$})},5e3);return()=>clearTimeout(L)},[i,n]);const u=v.useCallback(async $=>{if(!ye)return null;try{const F=He(ye,"users",$),D=await iv(F);if(D.exists()){const L=D.data();if(L.ledgerCode)return L.ledgerCode}}catch(F){console.error("Check binding failed:",F)}return null},[]),c=v.useCallback(async $=>{if(!$)throw new Error("");if(!ye)throw new Error("");const F=Math.random().toString(36).substring(2,8).toUpperCase(),D=$.displayName||"Host",L={...sR,users:{[$.uid]:{name:D,avatar:"cat",role:"host"}},lastSubscriptionCheck:Yc()};return await sv(He(ye,"artifacts",ft,"public","data","ledgers",F),L),await sv(He(ye,"users",$.uid),{email:$.email,ledgerCode:F,role:"host",updatedAt:new Date().toISOString()},{merge:!0}),localStorage.setItem("sweet_ledger_code",F),r(F),F},[]),d=v.useCallback(async($,F)=>{if(!F)throw new Error("");if(!ye)throw new Error("");const D=He(ye,"artifacts",ft,"public","data","ledgers",$),L=await iv(D);if(L.exists()){const H=L.data();if(!H.users||!H.users[F.uid]){const q=F.displayName||"Guest",ie={...H.users||{},[F.uid]:{name:q,avatar:"dog",role:"guest"}};await Xe(D,{users:ie})}return await sv(He(ye,"users",F.uid),{email:F.email,ledgerCode:$,role:"guest",updatedAt:new Date().toISOString()},{merge:!0}),localStorage.setItem("sweet_ledger_code",$),r($),!0}else throw new Error("")},[]),p=v.useCallback(()=>{r(""),s(null),localStorage.removeItem("sweet_ledger_code"),Object.keys(localStorage).forEach($=>{$.startsWith("sweet_ledger_data_")&&localStorage.removeItem($)})},[]),m=v.useCallback(async()=>{if(!(!n||!e||!ye)&&window.confirm(""))try{const $=He(ye,"artifacts",ft,"public","data","ledgers",n);await Xe($,{[`users.${e.uid}`]:ju()}),p(),alert("")}catch($){console.error("Leave Ledger Error:",$),alert("")}},[n,e,p]),g=v.useCallback(async $=>{var D;if(!n||!e||!ye||!i)return;if(((D=i.users[e.uid])==null?void 0:D.role)!=="host"){alert(" (Host) ");return}if($===e.uid){alert("");return}if(window.confirm(`
`))try{const L=He(ye,"artifacts",ft,"public","data","ledgers",n);await Xe(L,{[`users.${$}`]:ju()}),alert("")}catch(L){console.error("Kick Member Error:",L),alert(" (Permission Denied?)")}},[n,e,i]),w=v.useCallback(async()=>{if(!(!e||!ye))try{if(n){const $=He(ye,"artifacts",ft,"public","data","ledgers",n),F=await iv($);if(F.exists()){const L=F.data().users||{};Object.keys(L).filter(q=>q!==e.uid).length===0?await AA($):await Xe($,{[`users.${e.uid}`]:ju()})}}await AA(He(ye,"users",e.uid)),await D8(e),p()}catch($){throw $.code==="auth/requires-recent-login"?new Error("REQ_RELOGIN"):(console.error("Delete Account Error:",$),$)}},[e,n,p]),b=v.useCallback(async $=>{if(!n||!e||!ye)throw new Error("");const{amount:F,currency:D,category:L,payer:H,splitType:q,customSplit:Q,note:ie,projectId:ae,date:he,isSubscription:ge,subCycle:we,subPayDay:Re,paymentMethod:K}=$,J=He(ye,"artifacts",ft,"public","data","ledgers",n),G=new Date(he).toISOString(),B=parseFloat(F);if(isNaN(B))throw new Error("");let oe=null,le=q;if(q==="self")le="custom",oe={[H]:B};else if(q==="partner"){le="custom";const Me=Object.keys((i==null?void 0:i.users)||{}).filter(Ct=>Ct!==H);if(Me.length===1)oe={[Me[0]]:B};else if(Me.length>1){const Ct=B/Me.length;oe={},Me.forEach(ct=>oe[ct]=Ct)}else oe={[H]:B}}else(q==="custom"||q==="multi_payer")&&Q&&(oe={},Object.keys(Q).forEach(Ie=>{const Me=parseFloat(Q[Ie]);oe[Ie]=isNaN(Me)?0:Me}));const Ae={id:Ho(),amount:B,currency:D,category:L,payer:H||e.uid,splitType:le,customSplit:oe,note:ie||L.name,projectId:ae,paymentMethod:K||null};if(ge){let Ie=new Date(G);if(we==="monthly"){if(Ie.setMonth(Ie.getMonth()+1),Re){const Me=new Date(Ie.getFullYear(),Ie.getMonth()+1,0).getDate(),Ct=Math.min(parseInt(Re),Me);Ie.setDate(Ct)}}else we==="weekly"&&Ie.setDate(Ie.getDate()+7);await Xe(J,{subscriptions:Lo({...Ae,name:ie||L.name,cycle:we,payDay:parseInt(Re)||1,mode:"infinite",nextPaymentDate:Ie.toISOString()}),transactions:Lo({...Ae,date:G,isSettlement:!1})})}else await Xe(J,{transactions:Lo({...Ae,date:G,isSettlement:!1})})},[n,e,i]),x=v.useCallback(async $=>{if(!n||!i||!ye)return;let F={...$};const D=parseFloat(F.amount);if(F.amount=D,F.splitType==="self")F.splitType="custom",F.customSplit={[F.payer]:D};else if(F.splitType==="partner"){F.splitType="custom";const Q=Object.keys(i.users||{}).filter(ie=>ie!==F.payer);if(Q.length===1)F.customSplit={[Q[0]]:D};else if(Q.length>1){const ie=D/Q.length,ae={};Q.forEach(he=>ae[he]=ie),F.customSplit=ae}else F.customSplit={[F.payer]:D}}if(F.customSplit){const q={};Object.keys(F.customSplit).forEach(Q=>{q[Q]=parseFloat(F.customSplit[Q])||0}),F.customSplit=q}const L=He(ye,"artifacts",ft,"public","data","ledgers",n),H=i.transactions.map(q=>q.id===F.id?F:q);await Xe(L,{transactions:H})},[n,i]),_=v.useCallback(async $=>{if(!n||!i||!ye)return;const F=He(ye,"artifacts",ft,"public","data","ledgers",n),D=i.transactions.filter(L=>L.id!==$);await Xe(F,{transactions:D})},[n,i]),S=v.useCallback(async $=>{if(!n||!i||!ye)return;const F=He(ye,"artifacts",ft,"public","data","ledgers",n),D=(i.subscriptions||[]).filter(L=>L.id!==$);await Xe(F,{subscriptions:D})},[n,i]),C=v.useCallback(async($,F,D,L)=>{if(!n||!ye)return;const H=He(ye,"artifacts",ft,"public","data","ledgers",n),q={id:"settlement",name:"",icon:"settlement",color:"bg-emerald-100 text-emerald-600",hex:"#059669"};await Xe(H,{transactions:Lo({id:Ho(),amount:parseFloat($),currency:"TWD",category:q,payer:F,splitType:"settlement",note:` ${D}`,projectId:L,date:new Date().toISOString(),isSettlement:!0})})},[n]);v.useCallback(async $=>{if(!n||!ye)return;const F=He(ye,"artifacts",ft,"public","data","ledgers",n);await Xe(F,{paymentMethods:$})},[n]);const k=v.useCallback(async $=>{if(!n||!i||!ye)return;const F=He(ye,"artifacts",ft,"public","data","ledgers",n);let D=[...i.projects||[]];const{type:L="public",owner:H=null}=$,q={...$,rates:$.rates||{},type:L,...L==="private"&&H?{owner:H}:{}};let Q=$.id;return Q?D=D.map(ie=>ie.id===Q?{...ie,...q}:ie):(Q=Ho(),D.push({...q,id:Q})),await Xe(F,{projects:D}),Q},[n,i]),O=v.useCallback(async $=>{if(!n||!i||!ye)return;const F=He(ye,"artifacts",ft,"public","data","ledgers",n),D=i.projects.filter(q=>q.id!==$),L=i.transactions.filter(q=>q.projectId!==$),H=(i.subscriptions||[]).filter(q=>q.projectId!==$);await Xe(F,{projects:D,transactions:L,subscriptions:H})},[n,i]),A=v.useCallback(async $=>{if(!n||!ye)return;const F=He(ye,"artifacts",ft,"public","data","ledgers",n);await Xe(F,{projects:$})},[n]),T=v.useCallback(async($,F,D)=>{if(!n||!i||!ye)return;const L=parseFloat(D);if(!L||L<=0)return;const H=He(ye,"artifacts",ft,"public","data","ledgers",n),q=i.projects.map(Q=>Q.id===$?{...Q,rates:{...Q.rates||{},[F]:L}}:Q);await Xe(H,{projects:q})},[n,i]),I=v.useCallback(async $=>{if(!n||!i||!ye)return;const F=He(ye,"artifacts",ft,"public","data","ledgers",n);let D=[...i.customCategories||tr];if($.id)D=D.map(L=>L.id===$.id?$:L);else{const L=Ho();D.push({...$,id:L}),await Xe(F,{customCategories:D,"settings.selectedCategories":Lo(L)});return}await Xe(F,{customCategories:D})},[n,i]),N=v.useCallback(async $=>{if(!n||!i||!ye)return;const F=He(ye,"artifacts",ft,"public","data","ledgers",n),D=(i.customCategories||tr).filter(L=>L.id!==$);await Xe(F,{customCategories:D})},[n,i]),P=v.useCallback(async $=>{if(!n||!ye)return;const F=He(ye,"artifacts",ft,"public","data","ledgers",n);await Xe(F,{customCategories:$})},[n]),R=v.useCallback(async($,F)=>{if(!n||!e||!ye)return;const D=He(ye,"artifacts",ft,"public","data","ledgers",n);await Xe(D,{[`users.${e.uid}.${$}`]:F})},[n,e]),j=v.useCallback(async()=>{var D;if(!n||!ye||!e||!i||!i.users)return;if(((D=i.users[e.uid])==null?void 0:D.role)!=="host"){alert(" (Host) ");return}if(!window.confirm("")||!window.confirm(""))return;const F=He(ye,"artifacts",ft,"public","data","ledgers",n);await Xe(F,{transactions:[],subscriptions:[]}),alert("")},[n,i,e]),re=v.useCallback(async()=>{if(!n||!i||!e||!ye)return;const $=Object.keys(i.users).find(H=>i.users[H].role==="host"&&H!==e.uid);if(!$)return;const F=He(ye,"artifacts",ft,"public","data","ledgers",n),D={...i.users||{}};delete D[$],D[e.uid]&&(D[e.uid]={...D[e.uid],role:"host"});const L=(i.transactions||[]).map(H=>{let q={...H};if(q.payer===$&&(q.payer=e.uid),q.customSplit){const Q={};Object.keys(q.customSplit).forEach(ie=>{const ae=ie===$?e.uid:ie;Q[ae]=q.customSplit[ie]}),q.customSplit=Q}return q});await Xe(F,{users:D,transactions:L})},[n,i,e]),ne=v.useMemo(()=>({ledgerCode:n,setLedgerCode:r,ledgerData:i,isLedgerInitializing:a,createLedger:c,joinLedger:d,disconnectLedger:p,leaveLedger:m,kickMember:g,checkUserBinding:u,addTransaction:b,updateTransaction:x,deleteTransaction:_,deleteSubscription:S,settleUp:C,saveProject:k,deleteProject:O,reorderProjects:A,updateProjectRates:T,saveCategory:I,deleteCategory:N,reorderCategories:P,updateUserSetting:R,resetAccount:j,fixIdentity:re,deleteAccount:w}),[n,r,i,a,c,d,p,m,u,b,x,_,S,C,k,O,A,T,I,N,P,R,j,re,w]);return h.jsx(cR.Provider,{value:ne,children:t})};function MH({ledgerData:t,currentProjectId:e,setCurrentProjectId:n,privacyMode:r,setPrivacyMode:i,setIsEditTxModalOpen:s,setEditingTx:a,user:o,handleSettleUp:l,handleOpenAddExpense:u,setView:c}){var N;if(!t||!o)return null;const d=(t.projects||[]).filter(P=>P.type!=="private"||P.owner===o.uid),p=((N=t.projects)==null?void 0:N.find(P=>P.id===e))||{name:"",type:"public"},m=p.type==="private",{allTxs:g,safeUsers:w}=v.useMemo(()=>{const P=t.transactions||[],R=t.users||{},j=t.customCategories||tr;return{allTxs:P.filter(ne=>ne&&ne.id&&ne.amount!==void 0).map(ne=>{var L;const $=["income","expense"].includes(ne.type)?ne.type:"expense";let F=ne.category||{name:"",icon:"help-circle"};if((L=ne.category)!=null&&L.id){const H=j.find(q=>q.id===ne.category.id);H&&(F=H)}const D=ne.date||new Date().toISOString();return{...ne,amount:parseFloat(ne.amount)||0,type:$,category:F,date:D}}),safeUsers:R}},[t.transactions,t.users,t.customCategories]),{displayTxs:b,projectAllTxs:x,groupedTransactions:_,monthlyTotal:S,settlement:C,currentProjectName:k,partnerName:O,otherUserId:A,dailyAverage:T}=v.useMemo(()=>{const P=g.filter(J=>(J.projectId||"daily")===e),R=new Date;R.setDate(R.getDate()-7),R.setHours(0,0,0,0);const j=P.filter(J=>new Date(J.date)>=R),re=new Date().toISOString().slice(0,7),ne=P.filter(J=>J.date.startsWith(re)),$={};[...j].sort((J,G)=>new Date(G.date)-new Date(J.date)).forEach(J=>{try{const G=new Date(J.date).toLocaleDateString("zh-TW");$[G]||($[G]=[]),$[G].push(J)}catch{}});const D=p.rates||{},L=ne.reduce((J,G)=>{const B=li(G.amount||0,G.currency||"TWD",D);return J+(isNaN(B)?0:B)},0),q=new Date().getDate(),Q=q>0?L/q:L;let ie=0,ae=0;P.forEach(J=>{var B,oe;if(J.isSettlement)return;const G=li(J.amount,J.currency||"TWD",D);if(!isNaN(G))if(J.splitType==="multi_payer"){let le=0;if(J.customSplit&&typeof J.customSplit=="object"){const Ie=J.customSplit[o.uid],Me=parseFloat(Ie);isNaN(Me)||(le=li(Me,J.currency||"TWD",D))}const Ae=G/2;ie+=le,ae+=Ae}else{J.payer===o.uid&&(ie+=G);let le=0;if(J.splitType==="even")le=G/2;else if(J.splitType==="custom"){if(J.customSplit&&typeof J.customSplit=="object"){const Ae=J.customSplit[o.uid],Ie=parseFloat(Ae);isNaN(Ie)||(le=li(Ie,J.currency||"TWD",D))}}else J.splitType==="host_all"?le=((B=w[o.uid])==null?void 0:B.role)==="host"?G:0:J.splitType==="guest_all"&&(le=((oe=w[o.uid])==null?void 0:oe.role)==="guest"?G:0);m&&(le=G),isNaN(le)||(ae+=le)}});const he=g.filter(J=>J.isSettlement&&(J.projectId||"daily")===e);let ge=0;he.forEach(J=>{const G=li(J.amount,J.currency||"TWD",D);isNaN(G)||(J.payer===o.uid?ge+=G:ge-=G)});const we=ie-ae+ge,Re=Object.keys(w).find(J=>J!==o.uid),K=Re&&w[Re]&&w[Re].name||"";return{displayTxs:j,projectAllTxs:P,groupedTransactions:$,monthlyTotal:isNaN(L)?0:L,settlement:isNaN(we)?0:we,currentProjectName:p.name||"",partnerName:K,otherUserId:Re,dailyAverage:Q}},[g,w,e,o,p,m]),I=P=>{var ne;if(m)return[];const R=[];if(P.isSettlement){const $=((ne=w[P.payer])==null?void 0:ne.name)||"";return R.push({label:`${$} `,color:"gray"}),R}if(P.splitType==="multi_payer")return R.push({label:"",color:"blue"}),R;const j=w[P.payer],re=(j==null?void 0:j.name)||"";if(R.push({label:re,color:"gray"}),P.splitType==="custom"&&P.customSplit){const $=parseFloat(P.customSplit[P.payer]||0),F=parseFloat(P.amount||0);Math.abs($-F)<.1?R.push({label:"",color:"gray"}):$<.1?R.push({label:"",color:"gray"}):R.push({label:"",color:"gray"})}else if(P.splitType==="even")R.push({label:"",color:"gray"});else{const $=j==null?void 0:j.role;$==="host"?P.splitType==="host_all"?R.push({label:"",color:"gray"}):P.splitType==="guest_all"&&R.push({label:"",color:"gray"}):$==="guest"&&(P.splitType==="guest_all"?R.push({label:"",color:"gray"}):P.splitType==="host_all"&&R.push({label:"",color:"gray"}))}return P.isSettled&&R.push({label:"",color:"green"}),R};return h.jsxs("div",{className:"pb-24 pt-[calc(env(safe-area-inset-top)+1rem)] px-4 relative",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("select",{value:e,onChange:P=>n(P.target.value),className:`appearance-none text-white pl-4 pr-8 py-2 rounded-full font-bold text-sm outline-none shadow-lg shadow-gray-200 transition-colors ${m?"bg-gray-800":"bg-gray-900"}`,children:d.map(P=>h.jsx("option",{value:P.id,children:P.name},P.id))}),h.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-white",children:h.jsx(zi,{size:14})})]}),h.jsxs("div",{className:"flex gap-2",children:[m&&h.jsx("div",{className:"p-2 bg-gray-100 rounded-full text-gray-400",children:h.jsx(Il,{size:16})}),h.jsx("button",{onClick:()=>i(!r),className:"p-2 bg-white rounded-full shadow-sm border border-gray-100 active:scale-95 transition-transform",children:r?h.jsx(V$,{size:16,className:"text-gray-400"}):h.jsx(F$,{size:16,className:"text-rose-500"})})]})]}),m?h.jsxs("div",{className:"rounded-3xl p-6 text-white shadow-lg shadow-gray-200 mb-8 relative overflow-hidden bg-gradient-to-br from-slate-700 to-gray-900",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-10 -mt-10"}),h.jsxs("p",{className:"text-white/60 mb-1 font-bold text-xs flex items-center gap-2 uppercase tracking-wider",children:[h.jsx(RN,{size:12})," "]}),h.jsx("div",{className:"flex justify-between items-end mb-4",children:h.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:vt(S,"TWD",r)})}),h.jsxs("div",{className:"flex gap-4 border-t border-white/10 pt-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-white/40 text-[10px] font-bold uppercase",children:""}),h.jsx("p",{className:"text-sm font-medium",children:vt(S,"TWD",r)})]}),h.jsx("div",{className:"w-[1px] h-8 bg-white/10"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white/40 text-[10px] font-bold uppercase",children:""}),h.jsx("p",{className:"text-sm font-medium",children:vt(T,"TWD",r)})]})]})]}):h.jsxs("div",{className:`rounded-3xl p-6 text-white shadow-lg shadow-rose-200 mb-8 relative overflow-hidden transition-colors ${C>=0?"bg-gradient-to-br from-emerald-500 to-teal-600":"bg-gradient-to-br from-rose-500 to-pink-600"}`,children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-10 -mt-10"}),h.jsxs("p",{className:"text-white/80 mb-1 font-medium text-sm flex items-center gap-2",children:[h.jsx(UV,{size:14}),"  (",k,")"]}),h.jsx("div",{className:"flex justify-between items-end mb-2",children:h.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:C>=0?`${O}  ${vt(Math.abs(C),"TWD",r)}`:` ${O} ${vt(Math.abs(C),"TWD",r)}`})}),h.jsxs("p",{className:"text-white/70 text-xs font-medium",children:[": ",vt(S,"TWD",r)]}),Math.abs(C)>0&&h.jsxs("button",{onClick:()=>l(Math.abs(C),C<0?O:"",C<0?o.uid:A),className:"bg-white/20 hover:bg-white/30 text-white text-xs font-bold py-2 px-4 rounded-lg flex items-center gap-2 backdrop-blur-sm transition-colors mt-4",children:[h.jsx(no,{size:14})," "]})]}),h.jsxs("div",{className:"space-y-6",children:[Object.entries(_).map(([P,R])=>h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3 ml-1",children:P}),h.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-50 overflow-hidden",children:R.map((j,re)=>{var q,Q,ie;const ne=Pr((q=j.category)==null?void 0:q.icon)||no,$=I(j),F=ua(j.category,"display"),D=j.currency||"TWD",L=D!=="TWD",H=kn.find(ae=>ae.code===D);return h.jsxs("div",{onClick:()=>{a(j),s(!0)},className:`flex items-center justify-between p-4 active:bg-gray-50 transition-colors ${re!==R.length-1?"border-b border-gray-50":""}`,children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[h.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg shrink-0 ${F.containerClass}`,children:h.jsx(ne,{size:20,className:F.iconClass})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-medium text-gray-800 truncate text-sm",children:j.note||((Q=j.category)==null?void 0:Q.name)}),h.jsxs("div",{className:"flex items-center flex-wrap gap-1.5 mt-1",children:[h.jsx("p",{className:"text-xs text-gray-400 mr-1 shrink-0",children:(ie=j.category)==null?void 0:ie.name}),$.map((ae,he)=>h.jsx("span",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded border ${ae.color==="green"?"bg-emerald-50 text-emerald-600 border-emerald-100":ae.color==="blue"?"bg-blue-50 text-blue-600 border-blue-100":"bg-gray-100 text-gray-500 border-gray-100"}`,children:ae.label},he))]})]})]}),h.jsxs("div",{className:"flex flex-col items-end ml-4",children:[h.jsxs("span",{className:`font-bold whitespace-nowrap flex items-center gap-1 ${j.isSettlement?"text-emerald-500":"text-gray-800"}`,children:[L&&h.jsx("span",{className:"text-[10px] grayscale opacity-80 mr-0.5",children:(H==null?void 0:H.flag)||D}),vt(j.amount||0,D,r)]}),L&&!r&&!j.isSettlement&&h.jsxs("span",{className:"text-[10px] text-gray-300 font-medium",children:[" ",vt(li(j.amount,D,p.rates),"TWD")]})]})]},j.id)})})]},P)),x.length===0?h.jsxs("div",{className:"text-center py-10 text-gray-400",children:[h.jsx("p",{children:" "}),h.jsx("p",{className:"text-sm mt-2",children:"+"})]}):b.length===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("p",{className:"text-gray-400 text-sm mb-4",children:" 7  "}),h.jsxs("button",{onClick:()=>c("stats"),className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-600 rounded-full text-xs font-bold hover:bg-gray-200 transition-colors",children:[h.jsx(GS,{size:14})," "]})]}):x.length>b.length?h.jsxs("div",{className:"text-center py-4 pb-8",children:[h.jsxs("button",{onClick:()=>c("stats"),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-gray-50 text-gray-500 rounded-full text-sm font-bold border border-gray-100 hover:bg-white hover:border-gray-200 hover:text-rose-500 hover:shadow-sm transition-all",children:[h.jsx(GS,{size:16})," "]}),h.jsx("p",{className:"text-[10px] text-gray-300 mt-2",children:" 7 "})]}):null]})]})}function DH({isOpen:t,onClose:e,onConfirm:n,initialItems:r=[],currency:i="TWD",users:s={}}){if(!t)return null;const[a,o]=v.useState([]),[l,u]=v.useState(null),[c,d]=v.useState(null);v.useEffect(()=>{const k=r.map((T,I)=>({id:Date.now()+I,name:T.name||"",price:parseFloat(T.price)||0,quantity:T.quantity||1,owner:"shared"}));o(k);const O=Object.keys(s).find(T=>s[T].role==="host"),A=Object.keys(s).find(T=>s[T].role==="guest");u(O),d(A)},[r,s]);const p=k=>{o(O=>O.map(A=>{if(A.id!==k)return A;let T="shared";return A.owner==="shared"?T="host":A.owner==="host"?T="guest":T="shared",{...A,owner:T}}))},m=(k,O,A)=>{o(T=>T.map(I=>I.id!==k?I:{...I,[O]:A}))},g=k=>{o(O=>O.filter(A=>A.id!==k))},w=()=>{o(k=>[...k,{id:Date.now(),name:"",price:0,quantity:1,owner:"shared"}])},b=()=>{let k=0,O=0,A=0;const T=[];a.forEach(N=>{const P=parseFloat(N.price);P&&(k+=P,T.push(N.name),N.owner==="host"?O+=P:N.owner==="guest"?A+=P:(O+=P/2,A+=P/2))});const I={amount:k,note:T.join(", "),splitType:"custom",customSplit:{}};l&&(I.customSplit[l]=O),c&&(I.customSplit[c]=A),n(I),e()},x=k=>{switch(k){case"host":return"bg-blue-50 border-blue-200 text-blue-700";case"guest":return"bg-pink-50 border-pink-200 text-pink-700";default:return"bg-white border-gray-100 text-gray-700"}},_=k=>k==="host"?h.jsx(Pl,{size:16,className:"text-blue-500 fill-blue-100"}):k==="guest"?h.jsx(Pl,{size:16,className:"text-pink-500 fill-pink-100"}):h.jsx(Rm,{size:16,className:"text-gray-400"}),S=k=>{var O,A;return k==="host"?((O=s[l])==null?void 0:O.name)||"Host":k==="guest"?((A=s[c])==null?void 0:A.name)||"Guest":""},C=a.reduce((k,O)=>k+(parseFloat(O.price)||0),0);return h.jsxs("div",{className:"fixed inset-0 z-[100] bg-gray-50 flex flex-col animate-in slide-in-from-bottom duration-300",children:[h.jsxs("div",{className:"bg-white px-4 py-3 border-b border-gray-100 flex justify-between items-center pt-[calc(env(safe-area-inset-top)+0.5rem)] shadow-sm shrink-0",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"font-bold text-lg text-gray-800",children:""}),h.jsx("p",{className:"text-xs text-gray-400",children:""})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-xl font-bold text-gray-900",children:vt(C,i)}),h.jsx("div",{className:"text-[10px] text-gray-400 font-medium",children:""})]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 pb-32",children:[a.map(k=>h.jsxs("div",{onClick:()=>p(k.id),className:`relative rounded-2xl border-2 p-3 transition-all active:scale-[0.98] duration-200 flex items-center justify-between shadow-sm ${x(k.owner)}`,children:[h.jsxs("div",{className:"flex-1 min-w-0 mr-4",onClick:O=>O.stopPropagation(),children:[h.jsx("input",{type:"text",value:k.name,onChange:O=>m(k.id,"name",O.target.value),className:"w-full bg-transparent font-bold text-sm mb-1 outline-none placeholder-gray-300",placeholder:""}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-xs opacity-50",children:"$"}),h.jsx("input",{type:"number",value:k.price,onChange:O=>m(k.id,"price",O.target.value),className:"w-20 bg-transparent font-bold text-lg outline-none placeholder-gray-300",placeholder:"0"})]})]}),h.jsx("div",{className:"flex flex-col items-end gap-1 pointer-events-none",children:h.jsxs("div",{className:"flex items-center gap-1.5 bg-white/50 px-2 py-1 rounded-lg backdrop-blur-sm",children:[_(k.owner),h.jsx("span",{className:"text-xs font-bold",children:S(k.owner)})]})}),h.jsx("button",{onClick:O=>{O.stopPropagation(),g(k.id)},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-100 text-red-500 rounded-full flex items-center justify-center shadow-sm opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(bo,{size:12})})]},k.id)),h.jsxs("button",{onClick:w,className:"w-full py-4 rounded-2xl border-2 border-dashed border-gray-200 text-gray-400 font-bold flex items-center justify-center gap-2 hover:bg-gray-100 hover:border-gray-300 transition-all active:scale-95",children:[h.jsx(Yl,{size:20}),""]})]}),h.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-white border-t border-gray-100 p-4 pb-[calc(env(safe-area-inset-bottom)+1rem)] flex gap-3 shadow-[0_-4px_20px_rgba(0,0,0,0.05)]",children:[h.jsx("button",{onClick:e,className:"px-6 py-4 rounded-xl bg-gray-100 text-gray-500 font-bold active:scale-95 transition-transform",children:""}),h.jsxs("button",{onClick:b,className:"flex-1 py-4 rounded-xl bg-gray-900 text-white font-bold text-lg flex items-center justify-center gap-2 shadow-lg shadow-gray-200 active:scale-95 transition-transform",children:[h.jsx(to,{size:20}),""]})]})]})}const LH=v.memo(function({onKeyPress:e,isMathPending:n}){const r=(i,s="num",a="")=>{let o=i;return i==="DEL"?o=h.jsx(qS,{size:22}):i==="DONE"&&(o=n?h.jsx(D$,{size:28}):h.jsx(P$,{size:28,strokeWidth:3})),h.jsx("button",{onClick:l=>{l.stopPropagation(),e(i)},className:`
                rounded-2xl text-xl font-bold flex items-center justify-center select-none 
                active:scale-95 transition-transform 
                ${a} 
                ${s==="num"?"bg-white text-slate-700 shadow-[0_2px_0_#e2e8f0]":""} 
                ${s==="op"?"bg-rose-50 text-rose-500":""} 
                ${s==="action"?"bg-rose-500 text-white shadow-lg shadow-rose-200":""} 
            `,style:{height:"56px"},children:o})};return h.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gray-50 rounded-t-3xl z-50 animate-slide-up shadow-[0_-10px_40px_rgba(0,0,0,0.1)] pb-[env(safe-area-inset-bottom)]",children:[h.jsx("div",{className:"flex justify-center pt-2 pb-1",children:h.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full"})}),h.jsxs("div",{className:"grid grid-cols-4 gap-3 p-4",children:[r("7")," ",r("8")," ",r("9")," ",r("+","op"),r("4")," ",r("5")," ",r("6")," ",r("-","op"),r("1")," ",r("2")," ",r("3")," ",r("","op"),r("0")," ",r(".")," ",r("DONE","action","col-span-1")," ",r("","op")]}),h.jsx("div",{className:"px-4 pb-2 flex justify-end",children:h.jsxs("button",{onClick:()=>e("DEL"),className:"flex items-center gap-2 text-gray-400 font-bold px-4 py-2 rounded-lg active:bg-gray-200 transition-colors",children:[h.jsx(qS,{size:18})," "]})})]})}),VH=v.memo(function({categories:e,selectedCategory:n,onSelect:r}){return h.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl z-50 animate-slide-up shadow-[0_-10px_40px_rgba(0,0,0,0.1)] flex flex-col max-h-[70vh]",children:[h.jsx("div",{className:"flex justify-center pt-3 pb-4 shrink-0",children:h.jsx("div",{className:"w-10 h-1 bg-gray-200 rounded-full"})}),h.jsx("div",{className:"px-6 mb-2 shrink-0",children:h.jsx("h3",{className:"text-lg font-bold text-gray-800",children:""})}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4 pt-0",children:h.jsx("div",{className:"grid grid-cols-4 gap-4 pb-[env(safe-area-inset-bottom)]",children:e.map(i=>{const s=Pr(i.icon),a=(n==null?void 0:n.id)===i.id,o=ua(i,"input");return h.jsxs("button",{onClick:()=>r(i),className:"flex flex-col items-center gap-2 group p-1",children:[h.jsx("div",{className:`
                                w-14 h-14 rounded-3xl flex items-center justify-center transition-all shrink-0 border
                                ${a?o.activeClass:o.containerClass}
                                ${a?"scale-110 shadow-lg":"group-active:scale-95"}
                            `,children:h.jsx(s,{size:24,className:a?"text-white":o.iconClass})}),h.jsx("span",{className:`text-xs font-bold ${a?"text-gray-900":"text-gray-400"}`,children:i.name})]},i.id)})})})]})});function $H({tags:t,onSelect:e}){return!t||t.length===0?null:h.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar mt-3 pb-1",children:t.map((n,r)=>h.jsxs("button",{onClick:()=>e(n),className:`
                    flex items-center gap-1 px-3 py-1.5 bg-gray-50 text-gray-500 text-xs rounded-xl border border-gray-100 
                    active:scale-95 transition-transform whitespace-nowrap font-medium 
                    hover:bg-rose-50 hover:text-rose-500 hover:border-rose-100
                `,children:[h.jsx(W9,{size:10})," ",n]},r))})}function FH(t){const[e,n]=v.useState(""),r=/[+\-]/.test(e)&&!/[+\-]$/.test(e),i=()=>{if(r){try{const a=e.replace(//g,"*").replace(//g,"/"),o=new Function("return "+a)(),l=Math.round(o*100)/100;n(l.toString())}catch(a){console.error("Calculation error",a)}return}!e||parseFloat(e)<=0||t&&t()},s=v.useCallback(a=>{if(navigator.vibrate)try{navigator.vibrate(10)}catch{}const o=["+","-","",""];if(a==="AC"){n("");return}if(a==="DEL"){n(l=>l.slice(0,-1));return}if(a==="DONE"){i();return}if(a==="."){n(l=>{const u=l.slice(-1);return!l||o.includes(u)?l+"0.":l.includes(".")&&!o.some(c=>l.lastIndexOf(c)>l.lastIndexOf("."))?l:l+a});return}n(l=>{const u=l.slice(-1);if(o.includes(a)){if(o.includes(u))return l.slice(0,-1)+a;if(!l)return l}return l+a})},[e,r]);return{localAmount:e,setLocalAmount:n,handleKeyPress:s,isMathPending:r,handleKeypadSubmit:i}}function zH({setLocalAmount:t,setNote:e,setSplitType:n,setCustomSplitHost:r,setCustomSplitGuest:i,setActiveOverlay:s,hostId:a,guestId:o}){const[l,u]=v.useState(!1),[c,d]=v.useState(!1),[p,m]=v.useState([]),g=v.useRef(null),w=v.useRef(null);return{isScanning:l,isScanModalOpen:c,setIsScanModalOpen:d,scannedItems:p,cameraInputRef:g,fileInputRef:w,handleImageUpload:async C=>{var A;const k=(A=C.target.files)==null?void 0:A[0];if(!k)return;C.target.value="",u(!0);const O=new FileReader;O.onloadend=async()=>{try{const T=O.result.split(",")[1],I=await jH(T);u(!1),I&&Array.isArray(I)?(m(I),d(!0)):alert("")}catch(T){console.error("Scanning Error",T),u(!1),alert(""+T.message)}},O.readAsDataURL(k)},handleCameraClick:()=>{var C;(C=g.current)==null||C.click()},handleAlbumClick:()=>{var C;(C=w.current)==null||C.click()},handleScanConfirm:C=>{const{amount:k,note:O,splitType:A,customSplit:T}=C;t&&t(k.toString()),e&&O&&e(O),n&&n(A),T&&(a&&T[a]&&r&&r(T[a].toString()),o&&T[o]&&i&&i(T[o].toString())),k>0&&s&&s("category")}}}function UH({ledgerData:t,user:e,currentProjectId:n,setView:r,addTransaction:i,isSubmittingTransaction:s,updateProjectRates:a}){var xs,nf,rf,ki,sf,af,Sa;if(!t)return null;const o=(xs=t.projects)==null?void 0:xs.find(te=>te.id===n),l=(o==null?void 0:o.type)==="private",[u,c]=v.useState(""),[d,p]=v.useState(Yc()),[m,g]=v.useState(tr[0]),[w,b]=v.useState("amount"),[x,_]=v.useState(()=>o!=null&&o.defaultCurrency?o.defaultCurrency:localStorage.getItem("sweet_last_currency")||"TWD"),[S,C]=v.useState("even"),[k,O]=v.useState(""),[A,T]=v.useState(""),[I,N]=v.useState(""),[P,R]=v.useState(""),[j,re]=v.useState(!1),[ne,$]=v.useState("monthly"),[F,D]=v.useState(""),[L,H]=v.useState(!1),[q,Q]=v.useState(""),[ie,ae]=v.useState(!1),[he,ge]=v.useState(!1),[we,Re]=v.useState(!1),[K,J]=v.useState(!1),[G,B]=v.useState(""),oe=v.useRef(null),le=v.useRef(null),Ae=v.useMemo(()=>t.customCategories||tr,[t.customCategories]),Me=(((nf=t.users)==null?void 0:nf[e==null?void 0:e.uid])||{}).favoriteCurrencies||qw,Ct=v.useMemo(()=>{var De;const te=((De=t.settings)==null?void 0:De.selectedCategories)||sR.settings.selectedCategories;return Ae.filter(Ce=>te.includes(Ce.id))},[Ae,(rf=t.settings)==null?void 0:rf.selectedCategories]),ct=t.users||{},Xt=Object.keys(ct).find(te=>ct[te].role==="host"),Jt=Object.keys(ct).find(te=>ct[te].role==="guest"),Hn=Xt&&((ki=ct[Xt])==null?void 0:ki.name)||"",ln=Jt&&((sf=ct[Jt])==null?void 0:sf.name)||"",U=((af=ct[k])==null?void 0:af.role)==="host",{localAmount:fe,setLocalAmount:Ee,handleKeyPress:Ve,isMathPending:dt}=FH(()=>b("category")),{isScanning:vr,isScanModalOpen:Co,setIsScanModalOpen:hu,scannedItems:Ii,cameraInputRef:ko,fileInputRef:No,handleImageUpload:ys,handleCameraClick:pu,handleAlbumClick:mu,handleScanConfirm:wa}=zH({setLocalAmount:Ee,setNote:c,setSplitType:C,setCustomSplitHost:N,setCustomSplitGuest:R,setActiveOverlay:b,hostId:Xt,guestId:Jt}),Oo=v.useMemo(()=>{if(!t.transactions||!m)return[];const De=t.transactions.slice(-50).reverse().filter(Ce=>Ce.category.id===m.id&&Ce.note).map(Ce=>Ce.note);return[...new Set(De)].slice(0,5)},[t.transactions,m]);v.useEffect(()=>{localStorage.setItem("sweet_last_currency",x)},[x]),v.useEffect(()=>{!k&&e&&O(e.uid)},[e,k]),v.useEffect(()=>{l?(C("self"),e&&O(e.uid)):S==="self"&&C("even")},[l,e]);const gu=te=>{g(te),b("none"),setTimeout(()=>{var De;(De=oe.current)==null||De.focus()},100)},Pi=async()=>{if(!q)return;H(!1),ae(!0);let te=` JSON 
${new Date().toLocaleString("zh-TW")}
         ID: ${Ae.map(Ce=>Ce.id).join(", ")}
1. (amount) 2.  ID(categoryId) 3. (note) 4. (currency,  TWD)
         JSON`;l&&(te+=`
[] AA`),q&&(te+=`
: "${q}"`);const De=await uR(te,null);if(ae(!1),Q(""),!De){alert("AI ");return}try{const Ce=De.replace(/```json/g,"").replace(/```/g,"").trim(),Be=JSON.parse(Ce);if(Be.amount&&Ee(Be.amount.toString()),Be.note&&c(Be.note),Be.currency&&_(Be.currency),Be.categoryId){const Dn=Ae.find(Lr=>Lr.id===Be.categoryId);Dn&&g(Dn)}}catch(Ce){console.error("AI Parse Error",Ce),alert("AI ")}},ba=()=>{var te;if(he)(te=le.current)==null||te.stop(),ge(!1);else{if(!window.webkitSpeechRecognition&&!window.SpeechRecognition){alert("");return}const De=window.SpeechRecognition||window.webkitSpeechRecognition,Ce=new De;Ce.lang="zh-TW",Ce.continuous=!0,Ce.interimResults=!0,Ce.onresult=Be=>{let Dn="";for(let Lr=Be.resultIndex;Lr<Be.results.length;++Lr)Be.results[Lr].isFinal&&(Dn+=Be.results[Lr][0].transcript);Dn&&Q(Lr=>Lr+Dn)},Ce.onerror=Be=>{console.error("Speech error",Be.error),ge(!1)},le.current=Ce,Ce.start(),ge(!0)}},_a=async()=>{if(!fe||parseFloat(fe)<=0)return;const te=parseFloat(fe);let De=null;if(S==="custom"||S==="multi_payer"){const Ce=parseFloat(I)||0,Be=parseFloat(P)||0;if(Math.abs(Ce+Be-te)>.1){alert(` (${Ce+Be})  (${te})`);return}De={},Xt&&(De[Xt]=Ce),Jt&&(De[Jt]=Be)}r("dashboard");try{await i({amount:te,currency:x,category:m,payer:k||e.uid,splitType:S,customSplit:De,note:u||m.name,projectId:n,date:d,isSubscription:j,subCycle:ne,subPayDay:F,paymentMethod:A})}catch(Ce){console.error("Add Tx Error:",Ce)}},be=()=>{var te;b("amount"),(te=oe.current)==null||te.blur()},We=()=>{var te;b("category"),(te=oe.current)==null||te.blur()},jt=()=>{b("none")},Kn=(te,De)=>{const Ce=parseFloat(fe)||0,Be=parseFloat(De)||0;if(te==="host"){N(De);const Dn=Ce-Be;R(Dn>=0?Dn.toString():"0")}else{R(De);const Dn=Ce-Be;N(Dn>=0?Dn.toString():"0")}},Ci=ua(m,"input"),Ea=Pr((m==null?void 0:m.icon)||"food"),St=te=>{var Ce;const De=(Ce=ct[k])==null?void 0:Ce.role;return te==="host"?De==="host"?` (${Hn})`:De==="guest"?` (${Hn})`:`${Hn} `:De==="guest"?` (${ln})`:De==="host"?` (${ln})`:`${ln} `},tf=G?kn.filter(te=>te.code.includes(G.toUpperCase())||te.name.includes(G)):kn,vs=async te=>{if(_(te),J(!1),B(""),te==="TWD")return;if(!((o==null?void 0:o.rates)||{})[te]){Re(!0);const Ce=await Yw(te);Ce&&a&&await a(n,te,Ce),Re(!1)}};return h.jsxs("div",{className:"fixed inset-0 z-[50] flex flex-col h-[100dvh] bg-gray-50 overflow-hidden",children:[h.jsx("input",{type:"file",ref:ko,accept:"image/*",capture:"environment",className:"hidden",onChange:ys}),h.jsx("input",{type:"file",ref:No,accept:"image/*",className:"hidden",onChange:ys}),h.jsx(DH,{isOpen:Co,onClose:()=>hu(!1),onConfirm:wa,initialItems:Ii,currency:x,users:ct}),h.jsxs("div",{className:"bg-white px-4 pb-3 pt-[calc(env(safe-area-inset-top)+0.5rem)] z-20 shrink-0 shadow-sm border-b border-gray-100 relative",children:[h.jsxs("div",{className:"flex justify-between items-center mb-3",children:[h.jsx("button",{onClick:()=>r("dashboard"),className:"p-2 -ml-2 text-slate-400 hover:bg-slate-100 rounded-full transition-colors",children:h.jsx(hi,{size:24})}),h.jsxs("div",{className:`font-bold text-sm px-3 py-1 rounded-full border flex items-center gap-2 ${l?"bg-gray-800 text-white border-gray-700":"text-slate-700 bg-gray-100 border-gray-200"}`,children:[l&&h.jsx(Il,{size:12}),(o==null?void 0:o.name)||""]}),h.jsxs("div",{className:"flex gap-1 -mr-2",children:[h.jsx("button",{onClick:mu,disabled:vr,className:`p-2 rounded-full ${vr?"opacity-30":"text-slate-400 hover:bg-slate-50"}`,children:h.jsx(r9,{size:20})}),h.jsx("button",{onClick:pu,disabled:vr,className:`p-2 rounded-full ${vr?"bg-blue-100 text-blue-600 animate-pulse":"text-blue-500 hover:bg-blue-50"}`,children:vr?h.jsx(uc,{className:"animate-spin",size:20}):h.jsx(i$,{size:20})}),h.jsx("button",{onClick:()=>H(!0),className:`p-2 rounded-full ${ie?"bg-purple-100 text-purple-600":"text-purple-400 hover:bg-purple-50"}`,children:ie?h.jsx(uc,{className:"animate-spin",size:20}):h.jsx(ew,{size:20})})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:()=>J(!0),className:"flex items-center gap-1.5 bg-gray-100 rounded-lg px-3 py-1.5 border border-gray-200 active:bg-gray-200 transition-colors",children:[h.jsx("span",{className:"text-sm font-bold text-gray-800",children:x}),we?h.jsx(uc,{className:"animate-spin w-3 h-3 text-rose-500 ml-1"}):h.jsx(zi,{size:14,className:"text-gray-400"})]}),h.jsxs("div",{className:"flex-1 bg-gray-100 border border-gray-200 rounded-lg flex items-center px-3 py-1.5 text-slate-600 relative",children:[h.jsx(jm,{size:14,className:"mr-2 opacity-50"}),h.jsx("input",{type:"date",value:d,onChange:te=>p(te.target.value),className:"bg-transparent text-xs font-bold w-full outline-none z-10 text-gray-700"})]})]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto overscroll-contain pb-32",children:[h.jsxs("div",{className:"px-4 py-6 bg-white mb-3 shadow-sm border-b border-gray-100",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsxs("button",{onClick:be,className:`text-5xl font-bold tracking-tight flex items-center transition-all ${fe?"text-gray-900":"text-gray-300"} ${w==="amount"?"scale-105":""}`,children:[h.jsx("span",{className:"text-2xl mr-2 text-gray-300 font-medium",children:((Sa=kn.find(te=>te.code===x))==null?void 0:Sa.symbol)||"$"}),fe||"0",w==="amount"&&h.jsx("div",{className:"w-[3px] h-10 bg-rose-500 animate-cursor-blink ml-1 rounded-full"})]})}),h.jsxs("div",{className:"flex gap-3 mb-4",children:[h.jsxs("button",{onClick:We,className:`flex-none w-[35%] flex items-center gap-2 p-3 rounded-2xl border transition-all ${w==="category"?"bg-rose-50 border-rose-200 ring-2 ring-rose-100":"bg-gray-50 border-gray-100"}`,children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shadow-sm shrink-0 transition-colors ${m?Ci.activeClass:"bg-white text-rose-500"}`,children:h.jsx(Ea,{size:18})}),h.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[h.jsx("div",{className:"text-[10px] text-gray-400",children:""}),h.jsx("div",{className:"font-bold text-gray-700 text-sm truncate",children:m==null?void 0:m.name})]}),h.jsx(zi,{size:14,className:"text-gray-400 shrink-0"})]}),h.jsx("div",{className:"flex-1 bg-gray-50 rounded-2xl border border-gray-100 flex items-center px-4 focus-within:border-rose-200 focus-within:ring-2 focus-within:ring-rose-50 transition-all",children:h.jsx("input",{ref:oe,type:"text",value:u,onChange:te=>c(te.target.value),onFocus:jt,placeholder:"...",className:"w-full bg-transparent outline-none text-sm text-gray-700 placeholder-gray-400 font-medium"})})]}),h.jsx($H,{tags:Oo,onSelect:c})]}),h.jsx("div",{className:"px-4",children:h.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-gray-100 space-y-5",children:[l?h.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-xl",children:[h.jsxs("div",{className:"flex items-center gap-3 text-gray-500",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-500",children:h.jsx(Il,{size:16})}),h.jsx("span",{className:"text-sm font-bold",children:""})]}),h.jsx("span",{className:"text-xs font-bold text-gray-400 bg-white px-2 py-1 rounded border border-gray-100",children:""})]}):h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 flex items-center justify-center text-slate-500",children:h.jsx(Rm,{size:16})}),h.jsx("span",{className:"text-sm font-bold",children:""})]}),h.jsxs("div",{className:"relative w-40",children:[h.jsxs("select",{value:S,onChange:te=>C(te.target.value),className:"w-full appearance-none bg-gray-50 text-xs font-bold text-gray-700 py-2 pl-3 pr-8 rounded-xl outline-none border border-gray-100 focus:border-blue-200 text-right",children:[h.jsx("option",{value:"even",children:""}),h.jsx("option",{value:"multi_payer",children:""}),h.jsx("option",{value:"self",children:St(U?"host":"guest")}),h.jsx("option",{value:"partner",children:St(U?"guest":"host")})]}),h.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:h.jsx(zi,{size:14})})]})]}),S==="multi_payer"&&!l&&h.jsxs("div",{className:"bg-rose-50 p-3 rounded-xl border border-rose-100 animate-fade-in",children:[h.jsxs("div",{className:"flex items-center justify-center gap-1 mb-2",children:[h.jsx(TN,{size:12,className:"text-rose-500"}),h.jsx("p",{className:"text-[10px] text-rose-500 font-bold text-center",children:""})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-xs font-bold text-gray-400 max-w-[4rem] truncate",children:Hn}),h.jsx("input",{type:"number",value:I,onChange:te=>Kn("host",te.target.value),onFocus:jt,className:"w-full py-2 pl-16 pr-2 bg-white rounded-lg text-sm text-right font-bold outline-none border border-gray-200 focus:border-blue-300"})]}),h.jsxs("div",{className:"relative flex-1",children:[h.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-xs font-bold text-gray-400 max-w-[4rem] truncate",children:ln}),h.jsx("input",{type:"number",value:P,onChange:te=>Kn("guest",te.target.value),onFocus:jt,disabled:!Jt,placeholder:Jt?"":"N/A",className:"w-full py-2 pl-16 pr-2 bg-white rounded-lg text-sm text-right font-bold outline-none border border-gray-200 focus:border-blue-300 disabled:bg-gray-100"})]})]})]}),S!=="multi_payer"&&!l&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h-[1px] bg-gray-50 w-full"}),h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{className:"flex items-center gap-2 text-gray-500 flex-1 min-w-0",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 flex items-center justify-center text-slate-500 shrink-0",children:h.jsx(Pl,{size:16})}),h.jsx("span",{className:"text-sm font-bold shrink-0",children:""}),h.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar py-1 ml-auto",children:Object.keys(t.users||{}).map(te=>h.jsx("button",{onClick:()=>O(te),className:`px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all border ${k===te?"bg-gray-900 text-white border-gray-900 shadow-sm":"bg-white text-gray-400 border-gray-200"}`,children:t.users[te].name},te))})]})})]}),S!=="multi_payer"&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h-[1px] bg-gray-50 w-full"}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 flex items-center justify-center text-slate-500",children:h.jsx(ip,{size:16})}),h.jsx("span",{className:"text-sm font-bold",children:""})]}),h.jsxs("div",{className:"relative w-40",children:[h.jsxs("select",{value:A,onChange:te=>T(te.target.value),className:`w-full appearance-none bg-gray-50 text-xs font-bold py-2 pl-3 pr-8 rounded-xl outline-none border border-gray-100 focus:border-blue-200 text-right ${A?"text-gray-700":"text-gray-400"}`,children:[h.jsx("option",{value:"",children:""}),(t.paymentMethods||[]).map(te=>h.jsx("option",{value:te.id,children:te.name},te.id))]}),h.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:h.jsx(zi,{size:14})})]})]})]}),h.jsxs("div",{children:[h.jsxs("button",{onClick:()=>re(!j),className:`w-full flex items-center justify-between p-3 rounded-xl border transition-all ${j?"bg-rose-50 border-rose-200":"bg-white border-gray-100"}`,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 flex items-center justify-center text-slate-500 shrink-0",children:h.jsx(ON,{size:16})}),h.jsx("span",{className:`text-sm font-bold ${j?"text-rose-600":"text-gray-500"}`,children:" (/)"})]}),h.jsx("div",{className:`w-4 h-4 rounded-full border ${j?"bg-rose-500 border-rose-500":"bg-transparent border-gray-300"}`})]}),j&&h.jsxs("div",{className:"flex items-center gap-2 mt-3 pl-2 animate-fade-in justify-end",children:[h.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),h.jsxs("select",{value:ne,onChange:te=>$(te.target.value),className:"bg-gray-100 text-gray-700 text-xs py-1 px-2 rounded-lg outline-none font-bold",children:[h.jsx("option",{value:"monthly",children:""}),h.jsx("option",{value:"weekly",children:""})]}),h.jsx("input",{type:"number",placeholder:"",value:F,onChange:te=>D(te.target.value),onFocus:jt,className:"w-12 bg-gray-100 text-gray-700 p-1 rounded-lg text-xs text-center font-bold outline-none"}),h.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""})]})]})]})})]}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-white border-t border-gray-100 pb-[calc(env(safe-area-inset-bottom)+1rem)] z-30",children:h.jsxs("button",{onClick:_a,disabled:!fe||parseFloat(fe)<=0,className:"w-full bg-gray-900 text-white text-lg font-bold py-4 rounded-2xl shadow-lg shadow-gray-200 active:scale-95 transition-transform flex items-center justify-center gap-2 disabled:opacity-50 disabled:shadow-none",children:[h.jsx(to,{size:24}),w==="category"?"":""]})}),w==="amount"&&h.jsx(LH,{onKeyPress:Ve,isMathPending:dt}),w==="category"&&h.jsx(VH,{categories:Ct,selectedCategory:m,onSelect:gu}),L&&h.jsxs("div",{className:"absolute inset-0 z-[60] bg-white/95 backdrop-blur-sm flex flex-col px-6 pb-6 pt-[calc(env(safe-area-inset-top)+3rem)] animate-fade-in",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"AI "}),h.jsx("button",{onClick:()=>{H(!1)},className:"p-2 bg-gray-100 rounded-full",children:h.jsx(hi,{size:20})})]}),h.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[h.jsx("textarea",{value:q,onChange:te=>Q(te.target.value),placeholder:" 250...",className:"w-full h-40 p-4 bg-gray-50 rounded-2xl text-lg outline-none resize-none border border-gray-200 focus:border-purple-500 transition-colors"}),h.jsx("div",{className:"flex justify-center gap-4 mt-auto mb-8",children:h.jsx("button",{onClick:ba,className:`p-6 rounded-full transition-all ${he?"bg-red-50 text-red-500 scale-110 shadow-red-200":"bg-purple-50 text-purple-600 shadow-purple-200"} shadow-lg`,children:he?h.jsx(_$,{size:32}):h.jsx(p9,{size:32})})}),h.jsx("button",{onClick:Pi,disabled:!q,className:"w-full bg-gray-900 text-white py-4 rounded-xl font-bold text-lg mb-4",children:""})]})]}),K&&h.jsxs("div",{className:"absolute inset-0 z-[70] flex flex-col justify-end",children:[h.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>J(!1)}),h.jsxs("div",{className:"bg-white rounded-t-3xl p-6 relative z-10 max-h-[80vh] flex flex-col animate-slide-up",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800",children:""}),h.jsx("button",{onClick:()=>J(!1),className:"p-2 bg-gray-50 rounded-full",children:h.jsx(hi,{size:20})})]}),h.jsxs("div",{className:"relative mb-4",children:[h.jsx(jN,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:" (: USD)",value:G,onChange:te=>B(te.target.value),className:"w-full bg-gray-50 pl-10 pr-4 py-3 rounded-xl font-bold text-sm outline-none border border-transparent focus:bg-white focus:border-rose-200 transition-all"})]}),h.jsxs("div",{className:"overflow-y-auto space-y-6",children:[!G&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-2",children:""}),h.jsx("div",{className:"grid grid-cols-3 gap-3",children:["TWD",...Me.filter(te=>te!=="TWD")].map(te=>{const De=kn.find(Ce=>Ce.code===te);return De?h.jsxs("button",{onClick:()=>vs(te),className:`flex flex-col items-center justify-center gap-1 p-4 rounded-2xl border transition-all ${x===te?"bg-rose-50 border-rose-500 text-rose-600 ring-1 ring-rose-500":"bg-white border-gray-100 hover:border-gray-300"}`,children:[h.jsx("span",{className:"text-2xl",children:De.flag}),h.jsx("span",{className:"font-bold text-sm",children:te})]},te):null})})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-2",children:""}),h.jsx("div",{className:"space-y-2",children:tf.map(te=>h.jsxs("button",{onClick:()=>vs(te.code),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-xl transition-colors text-left group",children:[h.jsx("span",{className:"text-2xl w-8 text-center",children:te.flag}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-bold text-gray-800",children:te.code}),h.jsx("div",{className:"text-xs text-gray-400",children:te.name})]}),x===te.code&&h.jsx(AN,{size:18,className:"text-rose-500"})]},te.code))})]})]})]})]})]})}function fR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=fR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=fR(t))&&(r&&(r+=" "),r+=e);return r}var BH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Qw(t){if(typeof t!="string")return!1;var e=BH;return e.includes(t)}var WH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HH=new Set(WH);function hR(t){return typeof t!="string"?!1:HH.has(t)}function pR(t){return typeof t=="string"&&t.startsWith("data-")}function Ei(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(hR(n)||pR(n))&&(e[n]=t[n]);return e}function Qc(t){if(t==null)return null;if(v.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ei(e)}return typeof t=="object"&&!Array.isArray(t)?Ei(t):null}function pr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(hR(n)||pR(n)||Qw(n))&&(e[n]=t[n]);return e}var KH=["children","width","height","viewBox","className","style","title","desc"];function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(null,arguments)}function qH(t,e){if(t==null)return{};var n,r,i=GH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function GH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mR=v.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:u}=t,c=qH(t,KH),d=s||{width:r,height:i,x:0,y:0},p=Ye("recharts-surface",a);return v.createElement("svg",ix({},pr(c),{className:p,width:r,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),v.createElement("title",null,l),v.createElement("desc",null,u),n)}),YH=["children","className"];function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sx.apply(null,arguments)}function QH(t,e){if(t==null)return{};var n,r,i=XH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function XH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rn=v.forwardRef((t,e)=>{var{children:n,className:r}=t,i=QH(t,YH),s=Ye("recharts-layer",r);return v.createElement("g",sx({className:s},pr(i),{ref:e}),n)}),JH=v.createContext(null);function tt(t){return function(){return t}}const gR=Math.cos,Ip=Math.sin,ni=Math.sqrt,Pp=Math.PI,ng=2*Pp,ax=Math.PI,ox=2*ax,Na=1e-6,ZH=ox-Na;function yR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function eK(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return yR;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class tK{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?yR:eK(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,u=i-n,c=a-e,d=o-n,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Na)if(!(Math.abs(d*l-u*c)>Na)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,g=i-o,w=l*l+u*u,b=m*m+g*g,x=Math.sqrt(w),_=Math.sqrt(p),S=s*Math.tan((ax-Math.acos((w+p-b)/(2*x*_)))/2),C=S/_,k=S/x;Math.abs(C-1)>Na&&this._append`L${e+C*c},${n+C*d}`,this._append`A${s},${s},0,0,${+(d*m>c*g)},${this._x1=e+k*l},${this._y1=n+k*u}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,c=n+l,d=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Na||Math.abs(this._y1-c)>Na)&&this._append`L${u},${c}`,r&&(p<0&&(p=p%ox+ox),p>ZH?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:p>Na&&this._append`A${r},${r},0,${+(p>=ax)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Xw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new tK(e)}function Jw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vR(t){this._context=t}vR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function rg(t){return new vR(t)}function xR(t){return t[0]}function wR(t){return t[1]}function bR(t,e){var n=tt(!0),r=null,i=rg,s=null,a=Xw(o);t=typeof t=="function"?t:t===void 0?xR:tt(t),e=typeof e=="function"?e:e===void 0?wR:tt(e);function o(l){var u,c=(l=Jw(l)).length,d,p=!1,m;for(r==null&&(s=i(m=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(d,u,l),+e(d,u,l));if(m)return s=null,m+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:tt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:tt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:tt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function Bf(t,e,n){var r=null,i=tt(!0),s=null,a=rg,o=null,l=Xw(u);t=typeof t=="function"?t:t===void 0?xR:tt(+t),e=typeof e=="function"?e:tt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?wR:tt(+n);function u(d){var p,m,g,w=(d=Jw(d)).length,b,x=!1,_,S=new Array(w),C=new Array(w);for(s==null&&(o=a(_=l())),p=0;p<=w;++p){if(!(p<w&&i(b=d[p],p,d))===x)if(x=!x)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=p-1;g>=m;--g)o.point(S[g],C[g]);o.lineEnd(),o.areaEnd()}x&&(S[p]=+t(b,p,d),C[p]=+e(b,p,d),o.point(r?+r(b,p,d):S[p],n?+n(b,p,d):C[p]))}if(_)return o=null,_+""||null}function c(){return bR().defined(i).curve(a).context(s)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:tt(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:tt(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:tt(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:tt(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:tt(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:tt(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:tt(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),u):a},u.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),u):s},u}class _R{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function nK(t){return new _R(t,!0)}function rK(t){return new _R(t,!1)}const Zw={draw(t,e){const n=ni(e/Pp);t.moveTo(n,0),t.arc(0,0,n,0,ng)}},iK={draw(t,e){const n=ni(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ER=ni(1/3),sK=ER*2,aK={draw(t,e){const n=ni(e/sK),r=n*ER;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},oK={draw(t,e){const n=ni(e),r=-n/2;t.rect(r,r,n,n)}},lK=.8908130915292852,SR=Ip(Pp/10)/Ip(7*Pp/10),uK=Ip(ng/10)*SR,cK=-gR(ng/10)*SR,dK={draw(t,e){const n=ni(e*lK),r=uK*n,i=cK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=ng*s/5,o=gR(a),l=Ip(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},ov=ni(3),fK={draw(t,e){const n=-ni(e/(ov*3));t.moveTo(0,n*2),t.lineTo(-ov*n,-n),t.lineTo(ov*n,-n),t.closePath()}},xr=-.5,wr=ni(3)/2,lx=1/ni(12),hK=(lx/2+1)*3,pK={draw(t,e){const n=ni(e/hK),r=n/2,i=n*lx,s=r,a=n*lx+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(xr*r-wr*i,wr*r+xr*i),t.lineTo(xr*s-wr*a,wr*s+xr*a),t.lineTo(xr*o-wr*l,wr*o+xr*l),t.lineTo(xr*r+wr*i,xr*i-wr*r),t.lineTo(xr*s+wr*a,xr*a-wr*s),t.lineTo(xr*o+wr*l,xr*l-wr*o),t.closePath()}};function mK(t,e){let n=null,r=Xw(i);t=typeof t=="function"?t:tt(t||Zw),e=typeof e=="function"?e:tt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:tt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:tt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Cp(){}function kp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function TR(t){this._context=t}TR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gK(t){return new TR(t)}function AR(t){this._context=t}AR.prototype={areaStart:Cp,areaEnd:Cp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yK(t){return new AR(t)}function IR(t){this._context=t}IR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vK(t){return new IR(t)}function PR(t){this._context=t}PR.prototype={areaStart:Cp,areaEnd:Cp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function xK(t){return new PR(t)}function MA(t){return t<0?-1:1}function DA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(MA(s)+MA(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function LA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function lv(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function Np(t){this._context=t}Np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lv(this,this._t0,LA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lv(this,LA(this,n=DA(this,t,e)),n);break;default:lv(this,this._t0,n=DA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function CR(t){this._context=new kR(t)}(CR.prototype=Object.create(Np.prototype)).point=function(t,e){Np.prototype.point.call(this,e,t)};function kR(t){this._context=t}kR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function wK(t){return new Np(t)}function bK(t){return new CR(t)}function NR(t){this._context=t}NR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=VA(t),i=VA(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function VA(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function _K(t){return new NR(t)}function ig(t,e){this._context=t,this._t=e}ig.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function EK(t){return new ig(t,.5)}function SK(t){return new ig(t,0)}function TK(t){return new ig(t,1)}function uo(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ux(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function AK(t,e){return t[e]}function IK(t){const e=[];return e.key=t,e}function PK(){var t=tt([]),e=ux,n=uo,r=AK;function i(s){var a=Array.from(t.apply(this,arguments),IK),o,l=a.length,u=-1,c;for(const d of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+r(d,a[o].key,u,s)]).data=d;for(o=0,c=Jw(e(a));o<l;++o)a[c[o]].index=o;return n(a,c),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:tt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:tt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?ux:typeof s=="function"?s:tt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??uo,i):n},i}function CK(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}uo(t,e)}}function kK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}uo(t,e)}}function NK(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,u=0;o<a;++o){for(var c=t[e[o]],d=c[r][1]||0,p=c[r-1][1]||0,m=(d-p)/2,g=0;g<o;++g){var w=t[e[g]],b=w[r][1]||0,x=w[r-1][1]||0;m+=b-x}l+=d,u+=m*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,uo(t,e)}}var sg={},OR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(OR);var eb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(eb);var ag={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(ag);var og={},jR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(jR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jR,n=ag;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const d=i[o];u?d==="\\"&&o+1<a?(o++,l+=i[o]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,s.push(l),l=""):l+=d:d==="["?(c=!0,l&&(s.push(l),l="")):d==="."?l&&(s.push(l),l=""):l+=d,o++}return l&&s.push(l),s}t.toPath=r})(og);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OR,n=eb,r=ag,i=og;function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?n.isDeepKey(l)?s(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function a(o,l,u){if(l.length===0)return u;let c=o;for(let d=0;d<l.length;d++){if(c==null||e.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}t.get=s})(sg);var OK=sg.get;const co=us(OK);var jK=4;function Vs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jK,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function At(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,a)=>{var o=n[a-1];return typeof o=="string"?i+o+s:o!==void 0?i+Vs(o)+s:i+s},"")}var mn=t=>t===0?0:t>0?1:-1,Nr=t=>typeof t=="number"&&t!=+t,ns=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ve=t=>(typeof t=="number"||t instanceof Number)&&!Nr(t),Or=t=>ve(t)||typeof t=="string",RK=0,Xc=t=>{var e=++RK;return"".concat(t||"").concat(e)},Nn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(e)&&typeof e!="string")return r;var s;if(ns(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Nr(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},RR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Ut(t,e,n){return ve(t)&&ve(e)?Vs(t+n*(e-t)):e}function MK(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):co(r,e))===n)}var an=t=>t===null||typeof t>"u",Nd=t=>an(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function DK(t){return t!=null}function Od(){}var LK=["type","size","sizeType"];function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cx.apply(null,arguments)}function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){VK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VK(t,e,n){return(e=$K(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $K(t){var e=FK(t,"string");return typeof e=="symbol"?e:e+""}function FK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zK(t,e){if(t==null)return{};var n,r,i=UK(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function UK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var MR={symbolCircle:Zw,symbolCross:iK,symbolDiamond:aK,symbolSquare:oK,symbolStar:dK,symbolTriangle:fK,symbolWye:pK},BK=Math.PI/180,WK=t=>{var e="symbol".concat(Nd(t));return MR[e]||Zw},HK=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*BK;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},KK=(t,e)=>{MR["symbol".concat(Nd(t))]=e},DR=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=zK(t,LK),s=FA(FA({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var p=WK(a),m=mK().type(p).size(HK(n,r,a)),g=m();if(g!==null)return g},{className:l,cx:u,cy:c}=s,d=pr(s);return ve(u)&&ve(c)&&ve(n)?v.createElement("path",cx({},d,{className:Ye("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};DR.registerSymbol=KK;var LR=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,qK=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Qw(i)&&(r[i]=s=>n[i](n,s))}),r},GK=(t,e,n)=>r=>(t(e,n,r),null),lg=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];Qw(i)&&typeof s=="function"&&(r||(r={}),r[i]=GK(s,e,n))}),r};function zA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zA(Object(n),!0).forEach(function(r){QK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QK(t,e,n){return(e=XK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XK(t){var e=JK(t,"string");return typeof e=="symbol"?e:e+""}function JK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mn(t,e){var n=YK({},t),r=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return s}var VR={},$R={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],o=r(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})($R);var tb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(tb);var FR={},ug={},zR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(zR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zR;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(ug);var UR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(UR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ug,n=UR;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(FR);var BR={},WR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sg;function n(r){return function(i){return e.get(i,r)}}t.property=n})(WR);var HR={},nb={},KR={},rb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(rb);var ib={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(ib);var sb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(sb);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rb,n=ib,r=sb;function i(c,d,p){return typeof p!="function"?i(c,d,()=>{}):s(c,d,function m(g,w,b,x,_,S){const C=p(g,w,b,x,_,S);return C!==void 0?!!C:s(g,w,m,S)},new Map)}function s(c,d,p,m){if(d===c)return!0;switch(typeof d){case"object":return a(c,d,p,m);case"function":return Object.keys(d).length>0?s(c,{...d},p,m):r.eq(c,d);default:return e.isObject(c)?typeof d=="string"?d==="":!0:r.eq(c,d)}}function a(c,d,p,m){if(d==null)return!0;if(Array.isArray(d))return l(c,d,p,m);if(d instanceof Map)return o(c,d,p,m);if(d instanceof Set)return u(c,d,p,m);const g=Object.keys(d);if(c==null||n.isPrimitive(c))return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(d))return m.get(d)===c;m==null||m.set(d,c);try{for(let w=0;w<g.length;w++){const b=g[w];if(!n.isPrimitive(c)&&!(b in c)||d[b]===void 0&&c[b]!==void 0||d[b]===null&&c[b]!==null||!p(c[b],d[b],b,c,d,m))return!1}return!0}finally{m==null||m.delete(d)}}function o(c,d,p,m){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,w]of d.entries()){const b=c.get(g);if(p(b,w,g,c,d,m)===!1)return!1}return!0}function l(c,d,p,m){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let w=0;w<d.length;w++){const b=d[w];let x=!1;for(let _=0;_<c.length;_++){if(g.has(_))continue;const S=c[_];let C=!1;if(p(S,b,w,c,d,m)&&(C=!0),C){g.add(_),x=!0;break}}if(!x)return!1}return!0}function u(c,d,p,m){return d.size===0?!0:c instanceof Set?l([...c],[...d],p,m):!1}t.isMatchWith=i,t.isSetMatch=u})(KR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KR;function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(nb);var qR={},ab={},GR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(GR);var ob={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(ob);var lb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",p="[object ArrayBuffer]",m="[object Object]",g="[object Error]",w="[object DataView]",b="[object Uint8Array]",x="[object Uint8ClampedArray]",_="[object Uint16Array]",S="[object Uint32Array]",C="[object BigUint64Array]",k="[object Int8Array]",O="[object Int16Array]",A="[object Int32Array]",T="[object BigInt64Array]",I="[object Float32Array]",N="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=p,t.arrayTag=c,t.bigInt64ArrayTag=T,t.bigUint64ArrayTag=C,t.booleanTag=i,t.dataViewTag=w,t.dateTag=o,t.errorTag=g,t.float32ArrayTag=I,t.float64ArrayTag=N,t.functionTag=d,t.int16ArrayTag=O,t.int32ArrayTag=A,t.int8ArrayTag=k,t.mapTag=l,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=_,t.uint32ArrayTag=S,t.uint8ArrayTag=b,t.uint8ClampedArrayTag=x})(lb);var YR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(YR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GR,n=ob,r=lb,i=ib,s=YR;function a(c,d){return o(c,void 0,c,new Map,d)}function o(c,d,p,m=new Map,g=void 0){const w=g==null?void 0:g(c,d,p,m);if(w!==void 0)return w;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const b=new Array(c.length);m.set(c,b);for(let x=0;x<c.length;x++)b[x]=o(c[x],x,p,m,g);return Object.hasOwn(c,"index")&&(b.index=c.index),Object.hasOwn(c,"input")&&(b.input=c.input),b}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const b=new RegExp(c.source,c.flags);return b.lastIndex=c.lastIndex,b}if(c instanceof Map){const b=new Map;m.set(c,b);for(const[x,_]of c)b.set(x,o(_,x,p,m,g));return b}if(c instanceof Set){const b=new Set;m.set(c,b);for(const x of c)b.add(o(x,void 0,p,m,g));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(s.isTypedArray(c)){const b=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,b);for(let x=0;x<c.length;x++)b[x]=o(c[x],x,p,m,g);return b}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const b=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,b),l(b,c,p,m,g),b}if(typeof File<"u"&&c instanceof File){const b=new File([c],c.name,{type:c.type});return m.set(c,b),l(b,c,p,m,g),b}if(typeof Blob<"u"&&c instanceof Blob){const b=new Blob([c],{type:c.type});return m.set(c,b),l(b,c,p,m,g),b}if(c instanceof Error){const b=new c.constructor;return m.set(c,b),b.message=c.message,b.name=c.name,b.stack=c.stack,b.cause=c.cause,l(b,c,p,m,g),b}if(c instanceof Boolean){const b=new Boolean(c.valueOf());return m.set(c,b),l(b,c,p,m,g),b}if(c instanceof Number){const b=new Number(c.valueOf());return m.set(c,b),l(b,c,p,m,g),b}if(c instanceof String){const b=new String(c.valueOf());return m.set(c,b),l(b,c,p,m,g),b}if(typeof c=="object"&&u(c)){const b=Object.create(Object.getPrototypeOf(c));return m.set(c,b),l(b,c,p,m,g),b}return c}function l(c,d,p=c,m,g){const w=[...Object.keys(d),...e.getSymbols(d)];for(let b=0;b<w.length;b++){const x=w[b],_=Object.getOwnPropertyDescriptor(c,x);(_==null||_.writable)&&(c[x]=o(d[x],x,p,m,g))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=l})(ab);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ab;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(qR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nb,n=qR;function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(HR);var QR={},XR={},JR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ab,n=lb;function r(i,s){return e.cloneDeepWith(i,(a,o,l,u)=>{const c=s==null?void 0:s(a,o,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(d,i),d}case n.argumentsTag:{const d={};return e.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}t.cloneDeepWith=r})(JR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JR;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(XR);var ZR={},ub={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(ub);var eM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ob;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(eM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eb,n=ub,r=eM,i=og;function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}t.has=s})(ZR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nb,n=ag,r=XR,i=sg,s=ZR;function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?s.has(u,o):l===void 0?c===void 0:e.isMatch(c,l)}}t.matchesProperty=a})(QR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tb,n=WR,r=HR,i=QR;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(BR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$R,n=tb,r=FR,i=BR;function s(a,o=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(VR);var ZK=VR.uniqBy;const UA=us(ZK);function eq(t,e,n){return e===!0?UA(t,n):typeof e=="function"?UA(t,e):t}var tM={exports:{}},nM={},rM={exports:{}},iM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=v;function tq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nq=typeof Object.is=="function"?Object.is:tq,rq=Ll.useState,iq=Ll.useEffect,sq=Ll.useLayoutEffect,aq=Ll.useDebugValue;function oq(t,e){var n=e(),r=rq({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return sq(function(){i.value=n,i.getSnapshot=e,uv(i)&&s({inst:i})},[t,n,e]),iq(function(){return uv(i)&&s({inst:i}),t(function(){uv(i)&&s({inst:i})})},[t]),aq(n),n}function uv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nq(t,n)}catch{return!0}}function lq(t,e){return e()}var uq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lq:oq;iM.useSyncExternalStore=Ll.useSyncExternalStore!==void 0?Ll.useSyncExternalStore:uq;rM.exports=iM;var cq=rM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg=v,dq=cq;function fq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hq=typeof Object.is=="function"?Object.is:fq,pq=dq.useSyncExternalStore,mq=cg.useRef,gq=cg.useEffect,yq=cg.useMemo,vq=cg.useDebugValue;nM.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=mq(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=yq(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return d=g}return d=m}if(g=d,hq(c,m))return g;var w=r(m);return i!==void 0&&i(g,w)?(c=m,g):(c=m,d=w)}var u=!1,c,d,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,i]);var o=pq(t,s[0],s[1]);return gq(function(){a.hasValue=!0,a.value=o},[o]),vq(o),o};tM.exports=nM;var xq=tM.exports,cb=v.createContext(null),wq=t=>t,ut=()=>{var t=v.useContext(cb);return t?t.store.dispatch:wq},Ch=()=>{},bq=()=>Ch,_q=(t,e)=>t===e;function pe(t){var e=v.useContext(cb);return xq.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:bq,e?e.store.getState:Ch,e?e.store.getState:Ch,e?t:Ch,_q)}function Eq(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Sq(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Tq(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var BA=t=>Array.isArray(t)?t:[t];function Aq(t){const e=Array.isArray(t[0])?t[0]:t;return Tq(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Iq(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Pq=class{constructor(t){this.value=t}deref(){return this.value}},Cq=typeof WeakRef<"u"?WeakRef:Pq,kq=0,WA=1;function Wf(){return{s:kq,v:void 0,o:null,p:null}}function sM(t,e={}){let n=Wf();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var d;let o=n;const{length:l}=arguments;for(let p=0,m=l;p<m;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let w=o.o;w===null&&(o.o=w=new WeakMap);const b=w.get(g);b===void 0?(o=Wf(),w.set(g,o)):o=b}else{let w=o.p;w===null&&(o.p=w=new Map);const b=w.get(g);b===void 0?(o=Wf(),w.set(g,o)):o=b}}const u=o;let c;if(o.s===WA)c=o.v;else if(c=t.apply(null,arguments),s++,r){const p=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;p!=null&&r(p,c)&&(c=p,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Cq(c):c}return u.s=WA,u.v=c,c}return a.clearCache=()=>{n=Wf(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Nq(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Eq(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:p=[],argsMemoize:m=sM,argsMemoizeOptions:g=[]}=c,w=BA(p),b=BA(g),x=Aq(i),_=d(function(){return s++,u.apply(null,arguments)},...w),S=m(function(){a++;const k=Iq(x,arguments);return o=_.apply(null,k),o},...b);return Object.assign(S,{resultFunc:u,memoizedResultFunc:_,dependencies:x,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var z=Nq(sM),Oq=Object.assign((t,e=z)=>{Sq(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,o,l)=>(a[n[l]]=o,a),{}))},{withTypes:()=>Oq}),aM={},oM={},lM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),o=e(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=n})(lM);var uM={},db={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(db);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=db,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(uM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lM,n=uM,r=og;function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,g)=>{let w=m;for(let b=0;b<g.length&&w!=null;++b)w=w[g[b]];return w},c=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,d=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return s.map(m=>({original:m,criteria:d.map(g=>c(g,m))})).slice().sort((m,g)=>{for(let w=0;w<d.length;w++){const b=e.compareValues(m.criteria[w],g.criteria[w],o[w]);if(b!==0)return b}return 0}).map(m=>m.original)}t.orderBy=i})(oM);var cM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<s?a(c,l+1):i.push(c)}};return a(n,0),i}t.flatten=e})(cM);var fb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ub,n=ug,r=rb,i=sb;function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}t.isIterateeCall=s})(fb);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oM,n=cM,r=fb;function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(aM);var jq=aM.sortBy;const dg=us(jq);var dM=t=>t.legend.settings,Rq=t=>t.legend.size,Mq=t=>t.legend.payload;z([Mq,dM],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?dg(r,n):r});var Hf=1;function Dq(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Hf||Math.abs(a.left-e.left)>Hf||Math.abs(a.top-e.top)>Hf||Math.abs(a.width-e.width)>Hf)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function cn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Lq=typeof Symbol=="function"&&Symbol.observable||"@@observable",HA=Lq,cv=()=>Math.random().toString(36).substring(7).split("").join("."),Vq={INIT:`@@redux/INIT${cv()}`,REPLACE:`@@redux/REPLACE${cv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cv()}`},Op=Vq;function hb(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function fM(t,e,n){if(typeof t!="function")throw new Error(cn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(cn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(cn(1));return n(fM)(t,e)}let r=t,i=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((b,x)=>{a.set(x,b)}))}function c(){if(l)throw new Error(cn(3));return i}function d(b){if(typeof b!="function")throw new Error(cn(4));if(l)throw new Error(cn(5));let x=!0;u();const _=o++;return a.set(_,b),function(){if(x){if(l)throw new Error(cn(6));x=!1,u(),a.delete(_),s=null}}}function p(b){if(!hb(b))throw new Error(cn(7));if(typeof b.type>"u")throw new Error(cn(8));if(typeof b.type!="string")throw new Error(cn(17));if(l)throw new Error(cn(9));try{l=!0,i=r(i,b)}finally{l=!1}return(s=a).forEach(_=>{_()}),b}function m(b){if(typeof b!="function")throw new Error(cn(10));r=b,p({type:Op.REPLACE})}function g(){const b=d;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(cn(11));function _(){const C=x;C.next&&C.next(c())}return _(),{unsubscribe:b(_)}},[HA](){return this}}}return p({type:Op.INIT}),{dispatch:p,subscribe:d,getState:c,replaceReducer:m,[HA]:g}}function $q(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Op.INIT})>"u")throw new Error(cn(12));if(typeof n(void 0,{type:Op.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cn(13))})}function hM(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{$q(n)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],p=n[d],m=a[d],g=p(m,o);if(typeof g>"u")throw o&&o.type,new Error(cn(14));u[d]=g,l=l||g!==m}return l=l||r.length!==Object.keys(a).length,l?u:a}}function jp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Fq(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(cn(15))};const a={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},o=t.map(l=>l(a));return s=jp(...o)(i.dispatch),{...i,dispatch:s}}}function pM(t){return hb(t)&&"type"in t&&typeof t.type=="string"}var mM=Symbol.for("immer-nothing"),KA=Symbol.for("immer-draftable"),Un=Symbol.for("immer-state");function Wr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var cr=Object,Vl=cr.getPrototypeOf,Rp="constructor",fg="prototype",dx="configurable",Mp="enumerable",kh="writable",Jc="value",rs=t=>!!t&&!!t[Un];function ti(t){var e;return t?gM(t)||hg(t)||!!t[KA]||!!((e=t[Rp])!=null&&e[KA])||pg(t)||mg(t):!1}var zq=cr[fg][Rp].toString(),qA=new WeakMap;function gM(t){if(!t||!pb(t))return!1;const e=Vl(t);if(e===null||e===cr[fg])return!0;const n=cr.hasOwnProperty.call(e,Rp)&&e[Rp];if(n===Object)return!0;if(!Ko(n))return!1;let r=qA.get(n);return r===void 0&&(r=Function.toString.call(n),qA.set(n,r)),r===zq}function jd(t,e,n=!0){Rd(t)===0?(n?Reflect.ownKeys(t):cr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Rd(t){const e=t[Un];return e?e.type_:hg(t)?1:pg(t)?2:mg(t)?3:0}var GA=(t,e,n=Rd(t))=>n===2?t.has(e):cr[fg].hasOwnProperty.call(t,e),fx=(t,e,n=Rd(t))=>n===2?t.get(e):t[e],Dp=(t,e,n,r=Rd(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Uq(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var hg=Array.isArray,pg=t=>t instanceof Map,mg=t=>t instanceof Set,pb=t=>typeof t=="object",Ko=t=>typeof t=="function",dv=t=>typeof t=="boolean";function Bq(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Mi=t=>t.copy_||t.base_,mb=t=>t.modified_?t.copy_:t.base_;function hx(t,e){if(pg(t))return new Map(t);if(mg(t))return new Set(t);if(hg(t))return Array[fg].slice.call(t);const n=gM(t);if(e===!0||e==="class_only"&&!n){const r=cr.getOwnPropertyDescriptors(t);delete r[Un];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o[kh]===!1&&(o[kh]=!0,o[dx]=!0),(o.get||o.set)&&(r[a]={[dx]:!0,[kh]:!0,[Mp]:o[Mp],[Jc]:t[a]})}return cr.create(Vl(t),r)}else{const r=Vl(t);if(r!==null&&n)return{...t};const i=cr.create(r);return cr.assign(i,t)}}function gb(t,e=!1){return gg(t)||rs(t)||!ti(t)||(Rd(t)>1&&cr.defineProperties(t,{set:Kf,add:Kf,clear:Kf,delete:Kf}),cr.freeze(t),e&&jd(t,(n,r)=>{gb(r,!0)},!1)),t}function Wq(){Wr(2)}var Kf={[Jc]:Wq};function gg(t){return t===null||!pb(t)?!0:cr.isFrozen(t)}var Lp="MapSet",px="Patches",YA="ArrayMethods",yM={};function fo(t){const e=yM[t];return e||Wr(0,t),e}var QA=t=>!!yM[t],Zc,vM=()=>Zc,Hq=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:QA(Lp)?fo(Lp):void 0,arrayMethodsPlugin_:QA(YA)?fo(YA):void 0});function XA(t,e){e&&(t.patchPlugin_=fo(px),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mx(t){gx(t),t.drafts_.forEach(Kq),t.drafts_=null}function gx(t){t===Zc&&(Zc=t.parent_)}var JA=t=>Zc=Hq(Zc,t);function Kq(t){const e=t[Un];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ZA(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Un].modified_&&(mx(e),Wr(4)),ti(t)&&(t=eI(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Un].base_,t,e)}else t=eI(e,n);return qq(e,t,!0),mx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==mM?t:void 0}function eI(t,e){if(gg(e))return e;const n=e[Un];if(!n)return yb(e,t.handledSet_,t);if(!yg(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);bM(n,t)}return n.copy_}function qq(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&gb(e,n)}function xM(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var yg=(t,e)=>t.scope_===e,Gq=[];function wM(t,e,n,r){const i=Mi(t),s=t.type_;if(r!==void 0&&fx(i,r,s)===e){Dp(i,r,n,s);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;jd(i,(l,u)=>{if(rs(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const a=t.draftLocations_.get(e)??Gq;for(const o of a)Dp(i,o,n,s)}function Yq(t,e,n){t.callbacks_.push(function(i){var o;const s=e;if(!s||!yg(s,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(s);const a=mb(s);wM(t,s.draft_??s,a,n),bM(s,i)})}function bM(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(t);s&&i.generatePatches_(t,s,e)}xM(t)}}function Qq(t,e,n){const{scope_:r}=t;if(rs(n)){const i=n[Un];yg(i,r)&&i.callbacks_.push(function(){Nh(t);const a=mb(i);wM(t,n,a,e)})}else ti(n)&&t.callbacks_.push(function(){const s=Mi(t);fx(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&yb(fx(t.copy_,e,t.type_),r.handledSet_,r)})}function yb(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||rs(t)||e.has(t)||!ti(t)||gg(t)||(e.add(t),jd(t,(r,i)=>{if(rs(i)){const s=i[Un];if(yg(s,n)){const a=mb(s);Dp(t,r,a,t.type_),xM(s)}}else ti(i)&&yb(i,e,n)})),t}function Xq(t,e){const n=hg(t),r={type_:n?1:0,scope_:e?e.scope_:vM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=vb;n&&(i=[r],s=ed);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,[o,r]}var vb={get(t,e){if(e===Un)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Mi(t);if(!GA(i,e,t.type_))return Jq(t,i,e);const s=i[e];if(t.finalized_||!ti(s)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&Bq(e))return s;if(s===fv(t.base_,e)){Nh(t);const a=t.type_===1?+e:e,o=vx(t.scope_,s,t,a);return t.copy_[a]=o}return s},has(t,e){return e in Mi(t)},ownKeys(t){return Reflect.ownKeys(Mi(t))},set(t,e,n){const r=_M(Mi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=fv(Mi(t),e),s=i==null?void 0:i[Un];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Uq(n,i)&&(n!==void 0||GA(t.base_,e,t.type_)))return!0;Nh(t),yx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Qq(t,e,n)),!0},deleteProperty(t,e){return Nh(t),fv(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),yx(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Mi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[kh]:!0,[dx]:t.type_!==1||e!=="length",[Mp]:r[Mp],[Jc]:n[e]}},defineProperty(){Wr(11)},getPrototypeOf(t){return Vl(t.base_)},setPrototypeOf(){Wr(12)}},ed={};jd(vb,(t,e)=>{ed[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});ed.deleteProperty=function(t,e){return ed.set.call(this,t,e,void 0)};ed.set=function(t,e,n){return vb.set.call(this,t[0],e,n,t[0])};function fv(t,e){const n=t[Un];return(n?Mi(n):t)[e]}function Jq(t,e,n){var i;const r=_M(e,n);return r?Jc in r?r[Jc]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function _M(t,e){if(!(e in t))return;let n=Vl(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Vl(n)}}function yx(t){t.modified_||(t.modified_=!0,t.parent_&&yx(t.parent_))}function Nh(t){t.copy_||(t.assigned_=new Map,t.copy_=hx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Zq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ko(n)&&!Ko(r)){const a=r;r=n;const o=this;return function(u=a,...c){return o.produce(u,d=>r.call(this,d,...c))}}Ko(r)||Wr(6),i!==void 0&&!Ko(i)&&Wr(7);let s;if(ti(n)){const a=JA(this),o=vx(a,n,void 0);let l=!0;try{s=r(o),l=!1}finally{l?mx(a):gx(a)}return XA(a,i),ZA(s,a)}else if(!n||!pb(n)){if(s=r(n),s===void 0&&(s=n),s===mM&&(s=void 0),this.autoFreeze_&&gb(s,!0),i){const a=[],o=[];fo(px).generateReplacementPatches_(n,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else Wr(1,n)},this.produceWithPatches=(n,r)=>{if(Ko(n))return(o,...l)=>this.produceWithPatches(o,u=>n(u,...l));let i,s;return[this.produce(n,r,(o,l)=>{i=o,s=l}),i,s]},dv(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),dv(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),dv(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ti(e)||Wr(8),rs(e)&&(e=Zr(e));const n=JA(this),r=vx(n,e,void 0);return r[Un].isManual_=!0,gx(n),r}finishDraft(e,n){const r=e&&e[Un];(!r||!r.isManual_)&&Wr(9);const{scope_:i}=r;return XA(i,n),ZA(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=fo(px).applyPatches_;return rs(e)?i(e,n):this.produce(e,s=>i(s,n))}};function vx(t,e,n,r){const[i,s]=pg(e)?fo(Lp).proxyMap_(e,n):mg(e)?fo(Lp).proxySet_(e,n):Xq(e,n);return((n==null?void 0:n.scope_)??vM()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?Yq(n,s,r):s.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),i}function Zr(t){return rs(t)||Wr(10,t),EM(t)}function EM(t){if(!ti(t)||gg(t))return t;const e=t[Un];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=hx(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=hx(t,!0);return jd(n,(i,s)=>{Dp(n,i,EM(s))},r),e&&(e.finalized_=!1),n}var eG=new Zq,SM=eG.produce;function TM(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var tG=TM(),nG=TM,rG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jp:jp.apply(null,arguments)};function jr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(fr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>pM(r)&&r.type===t,n}var AM=class Xu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Xu.prototype)}static get[Symbol.species](){return Xu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Xu(...e[0].concat(this)):new Xu(...e.concat(this))}};function tI(t){return ti(t)?SM(t,()=>{}):t}function qf(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function iG(t){return typeof t=="boolean"}var sG=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new AM;return n&&(iG(n)?a.push(tG):a.push(nG(n.extraArgument))),a},IM="RTK_autoBatch",ht=()=>t=>({payload:t,meta:{[IM]:!0}}),nI=t=>e=>{setTimeout(e,t)},PM=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nI(10):t.type==="callback"?t.queueNotification:nI(t.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),p=r.subscribe(d);return o.add(c),()=>{p(),o.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[IM]),s=!i,s&&(a||(a=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},aG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new AM(t);return r&&i.push(PM(typeof r=="object"?r:void 0)),i};function oG(t){const e=sG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(hb(n))o=hM(n);else throw new Error(fr(1));let l;typeof r=="function"?l=r(e):l=e();let u=jp;i&&(u=rG({trace:!1,...typeof i=="object"&&i}));const c=Fq(...l),d=aG(c);let p=typeof a=="function"?a(d):d();const m=u(...p);return fM(o,s,m)}function CM(t){const e={},n=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(fr(28));if(o in e)throw new Error(fr(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function lG(t){return typeof t=="function"}function uG(t,e){let[n,r,i]=CM(e),s;if(lG(t))s=()=>tI(t());else{const o=tI(t);s=()=>o}function a(o=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(rs(c)){const m=d(c,l);return m===void 0?c:m}else{if(ti(c))return SM(c,p=>d(p,l));{const p=d(c,l);if(p===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return c},o)}return a.getInitialState=s,a}var cG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dG=(t=21)=>{let e="",n=t;for(;n--;)e+=cG[Math.random()*64|0];return e},fG=Symbol.for("rtk-slice-createasyncthunk");function hG(t,e){return`${t}/${e}`}function pG({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[fG];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(fr(11));const o=(typeof i.reducers=="function"?i.reducers(gG()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(C,k){const O=typeof C=="string"?C:C.type;if(!O)throw new Error(fr(12));if(O in u.sliceCaseReducersByType)throw new Error(fr(13));return u.sliceCaseReducersByType[O]=k,c},addMatcher(C,k){return u.sliceMatchers.push({matcher:C,reducer:k}),c},exposeAction(C,k){return u.actionCreators[C]=k,c},exposeCaseReducer(C,k){return u.sliceCaseReducersByName[C]=k,c}};l.forEach(C=>{const k=o[C],O={reducerName:C,type:hG(s,C),createNotation:typeof i.reducers=="function"};vG(k)?wG(O,k,c,e):yG(O,k,c)});function d(){const[C={},k=[],O=void 0]=typeof i.extraReducers=="function"?CM(i.extraReducers):[i.extraReducers],A={...C,...u.sliceCaseReducersByType};return uG(i.initialState,T=>{for(let I in A)T.addCase(I,A[I]);for(let I of u.sliceMatchers)T.addMatcher(I.matcher,I.reducer);for(let I of k)T.addMatcher(I.matcher,I.reducer);O&&T.addDefaultCase(O)})}const p=C=>C,m=new Map,g=new WeakMap;let w;function b(C,k){return w||(w=d()),w(C,k)}function x(){return w||(w=d()),w.getInitialState()}function _(C,k=!1){function O(T){let I=T[C];return typeof I>"u"&&k&&(I=qf(g,O,x)),I}function A(T=p){const I=qf(m,k,()=>new WeakMap);return qf(I,T,()=>{const N={};for(const[P,R]of Object.entries(i.selectors??{}))N[P]=mG(R,T,()=>qf(g,T,x),k);return N})}return{reducerPath:C,getSelectors:A,get selectors(){return A(O)},selectSlice:O}}const S={name:s,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,..._(a),injectInto(C,{reducerPath:k,...O}={}){const A=k??a;return C.inject({reducerPath:A,reducer:b},O),{...S,..._(A,!0)}}};return S}}function mG(t,e,n,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=n()),t(o,...a)}return i.unwrapped=t,i}var nr=pG();function gG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function yG({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!xG(r))throw new Error(fr(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?jr(t,a):jr(t))}function vG(t){return t._reducerDefinitionType==="asyncThunk"}function xG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function wG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(fr(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:c}=n,d=i(t,s,c);r.exposeAction(e,d),a&&r.addCase(d.fulfilled,a),o&&r.addCase(d.pending,o),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:a||Gf,pending:o||Gf,rejected:l||Gf,settled:u||Gf})}function Gf(){}var bG="task",kM="listener",NM="completed",xb="cancelled",_G=`task-${xb}`,EG=`task-${NM}`,xx=`${kM}-${xb}`,SG=`${kM}-${NM}`,vg=class{constructor(t){wy(this,"name","TaskAbortError");wy(this,"message");this.code=t,this.message=`${bG} ${xb} (reason: ${t})`}},wb=(t,e)=>{if(typeof t!="function")throw new TypeError(fr(32))},Vp=()=>{},OM=(t,e=Vp)=>(t.catch(e),t),jM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ka=t=>{if(t.aborted)throw new vg(t.reason)};function RM(t,e){let n=Vp;return new Promise((r,i)=>{const s=()=>i(new vg(t.reason));if(t.aborted){s();return}n=jM(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Vp})}var TG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof vg?"cancelled":"rejected",error:n}}finally{e==null||e()}},$p=t=>e=>OM(RM(t,e).then(n=>(Ka(t),n))),MM=t=>{const e=$p(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:vl}=Object,rI={},xg="listenerMiddleware",AG=(t,e)=>{const n=r=>jM(t,()=>r.abort(t.reason));return(r,i)=>{wb(r);const s=new AbortController;n(s);const a=TG(async()=>{Ka(t),Ka(s.signal);const o=await r({pause:$p(s.signal),delay:MM(s.signal),signal:s.signal});return Ka(s.signal),o},()=>s.abort(EG));return i!=null&&i.autoJoin&&e.push(a.catch(Vp)),{result:$p(t)(a),cancel(){s.abort(_G)}}}},IG=(t,e)=>{const n=async(r,i)=>{Ka(e);let s=()=>{};const o=[new Promise((l,u)=>{let c=t({predicate:r,effect:(d,p)=>{p.unsubscribe(),l([d,p.getState(),p.getOriginalState()])}});s=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await RM(e,Promise.race(o));return Ka(e),l}finally{s()}};return(r,i)=>OM(n(r,i))},DM=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=jr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(fr(21));return wb(s),{predicate:i,type:e,effect:s}},LM=vl(t=>{const{type:e,predicate:n,effect:r}=DM(t);return{id:dG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fr(22))}}},{withTypes:()=>LM}),iI=(t,e)=>{const{type:n,effect:r,predicate:i}=DM(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},wx=t=>{t.pending.forEach(e=>{e.abort(xx)})},PG=(t,e)=>()=>{for(const n of e.keys())wx(n);t.clear()},sI=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},VM=vl(jr(`${xg}/add`),{withTypes:()=>VM}),CG=jr(`${xg}/removeAll`),$M=vl(jr(`${xg}/remove`),{withTypes:()=>$M}),kG=(...t)=>{console.error(`${xg}/error`,...t)},Md=(t={})=>{const e=new Map,n=new Map,r=m=>{const g=n.get(m)??0;n.set(m,g+1)},i=m=>{const g=n.get(m)??1;g===1?n.delete(m):n.set(m,g-1)},{extra:s,onError:a=kG}=t;wb(a);const o=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&wx(m)}),l=m=>{const g=iI(e,m)??LM(m);return o(g)};vl(l,{withTypes:()=>l});const u=m=>{const g=iI(e,m);return g&&(g.unsubscribe(),m.cancelActive&&wx(g)),!!g};vl(u,{withTypes:()=>u});const c=async(m,g,w,b)=>{const x=new AbortController,_=IG(l,x.signal),S=[];try{m.pending.add(x),r(m),await Promise.resolve(m.effect(g,vl({},w,{getOriginalState:b,condition:(C,k)=>_(C,k).then(Boolean),take:_,delay:MM(x.signal),pause:$p(x.signal),extra:s,signal:x.signal,fork:AG(x.signal,S),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((C,k,O)=>{C!==x&&(C.abort(xx),O.delete(C))})},cancel:()=>{x.abort(xx),m.pending.delete(x)},throwIfCancelled:()=>{Ka(x.signal)}})))}catch(C){C instanceof vg||sI(a,C,{raisedBy:"effect"})}finally{await Promise.all(S),x.abort(SG),i(m),m.pending.delete(x)}},d=PG(e,n);return{middleware:m=>g=>w=>{if(!pM(w))return g(w);if(VM.match(w))return l(w.payload);if(CG.match(w)){d();return}if($M.match(w))return u(w.payload);let b=m.getState();const x=()=>{if(b===rI)throw new Error(fr(23));return b};let _;try{if(_=g(w),e.size>0){const S=m.getState(),C=Array.from(e.values());for(const k of C){let O=!1;try{O=k.predicate(w,S,b)}catch(A){O=!1,sI(a,A,{raisedBy:"predicate"})}O&&c(k,w,m,x)}}}finally{b=rI}return _},startListening:l,stopListening:u,clearListeners:d}};function fr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var NG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},FM=nr({name:"chartLayout",initialState:NG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:OG,setLayout:jG,setChartSize:RG,setScale:MG}=FM.actions,DG=FM.reducer;function zM(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Je(t){return Number.isFinite(t)}function ca(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){LG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LG(t,e,n){return(e=VG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VG(t){var e=$G(t,"string");return typeof e=="symbol"?e:e+""}function $G(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lt(t,e,n){return an(t)||an(e)?n:Or(e)?co(t,e,n):typeof e=="function"?e(t):n}var FG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&ve(t[s]))return sl(sl({},t),{},{[s]:t[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&ve(t[a]))return sl(sl({},t),{},{[a]:t[a]+(i||0)})}return t},So=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",oI=1e-4,zG=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-oI,s=Math.max(r[0],r[1])+oI,a=t(e[0]),o=t(e[n-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[n-1]])}},UG=(t,e)=>{if(!e||e.length!==2||!ve(e[0])||!ve(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ve(t[0])||t[0]<n)&&(i[0]=n),(!ve(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},BG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0,o=0;o<n;++o){var l=t[o],u=l==null?void 0:l[i];if(u!=null){var c=u[1],d=u[0],p=Nr(c)?d:c;p>=0?(u[0]=s,u[1]=s+p,s=c):(u[0]=a,u[1]=a+p,a=c)}}}},WG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0;a<n;++a){var o=t[a],l=o==null?void 0:o[i];if(l!=null){var u=Nr(l[1])?l[0]:l[1];u>=0?(l[0]=s,l[1]=s+u,s=l[1]):(l[0]=0,l[1]=0)}}}},HG={sign:BG,expand:CK,none:uo,silhouette:kK,wiggle:NK,positive:WG},KG=(t,e,n)=>{var r,i=(r=HG[n])!==null&&r!==void 0?r:uo,s=PK().keys(e).value((o,l)=>Number(lt(o,l,0))).order(ux).offset(i),a=s(t);return a.forEach((o,l)=>{o.forEach((u,c)=>{var d=lt(t[c],e[l],0);Array.isArray(d)&&d.length===2&&ve(d[0])&&ve(d[1])&&(u[0]=d[0],u[1]=d[1])})}),a};function qG(t){return t==null?void 0:String(t)}var lI=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var o=lt(s,e.dataKey,e.scale.domain()[a]);return an(o)?null:e.scale(o)-i/2+r},GG=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},YG=t=>{var e=t.flat(2).filter(ve);return[Math.min(...e),Math.max(...e)]},QG=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],XG=(t,e,n)=>{if(t!=null)return QG(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:a}=s,o=a.reduce((l,u)=>{var c=zM(u,e,n),d=YG(c);return!Je(d[0])||!Je(d[1])?l:[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},uI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fp=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=dg(e,c=>c.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],u=i[a-1];s=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),s)}return s===1/0?0:s}return n?void 0:0};function dI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return sl(sl({},e),{},{dataKey:n,payload:r,value:i,name:s})}function wg(t,e){if(t)return String(t);if(typeof e=="string")return e}var JG=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},ZG=(t,e)=>e==="centric"?t.angle:t.radius,fs=t=>t.layout.width,hs=t=>t.layout.height,eY=t=>t.layout.scale,UM=t=>t.layout.margin,bg=z(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),_g=z(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),BM="data-recharts-item-index",WM="data-recharts-item-id",Dd=60;function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){tY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tY(t,e,n){return(e=nY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nY(t){var e=rY(t,"string");return typeof e=="symbol"?e:e+""}function rY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iY=t=>t.brush.height;function sY(t){var e=_g(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Dd;return n+i}return n},0)}function aY(t){var e=_g(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Dd;return n+i}return n},0)}function oY(t){var e=bg(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function lY(t){var e=bg(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var qt=z([fs,hs,UM,iY,sY,aY,oY,lY,dM,Rq],(t,e,n,r,i,s,a,o,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+s},d={top:(n.top||0)+a,bottom:(n.bottom||0)+o},p=Yf(Yf({},d),c),m=p.bottom;p.bottom+=r,p=FG(p,l,u);var g=t-p.left-p.right,w=e-p.top-p.bottom;return Yf(Yf({brushBottom:m},p),{},{width:Math.max(g,0),height:Math.max(w,0)})}),uY=z(qt,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),bb=z(fs,hs,(t,e)=>({x:0,y:0,width:t,height:e})),cY=v.createContext(null),rr=()=>v.useContext(cY)!=null,Eg=t=>t.brush,Sg=z([Eg,qt,UM],(t,e,n)=>({height:t.height,x:ve(t.x)?t.x:e.left,y:ve(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ve(t.width)?t.width:e.width})),HM={},KM={},qM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),c=()=>{o!==null&&(n.apply(a,o),a=void 0,o=null)},d=()=>{u&&c(),w()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,d()},r)},g=()=>{p!==null&&(clearTimeout(p),p=null)},w=()=>{g(),a=void 0,o=null},b=()=>{c()},x=function(..._){if(i!=null&&i.aborted)return;a=this,o=_;const S=p==null;m(),l&&S&&c()};return x.schedule=m,x.cancel=w,x.flush=b,i==null||i.addEventListener("abort",w,{once:!0}),x}t.debounce=e})(qM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qM;function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let c,d=null;const p=e.debounce(function(...w){c=r.apply(this,w),d=null},i,{edges:u}),m=function(...w){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=r.apply(this,w),d=Date.now(),p.cancel(),p.schedule(),c):(p.apply(this,w),c)},g=()=>(p.flush(),c);return m.cancel=p.cancel,m.flush=g,m}t.debounce=n})(KM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KM;function n(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:o})}t.throttle=n})(HM);var dY=HM.throttle;const fY=us(dY);var hI=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},GM=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=n,o=ns(r)?t:Number(r),l=ns(i)?e:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},hY={width:0,height:0,overflow:"visible"},pY={width:0,overflowX:"visible"},mY={height:0,overflowY:"visible"},gY={},yY=t=>{var{width:e,height:n}=t,r=ns(e),i=ns(n);return r&&i?hY:r?pY:i?mY:gY};function vY(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bx.apply(null,arguments)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){xY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xY(t,e,n){return(e=wY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wY(t){var e=bY(t,"string");return typeof e=="symbol"?e:e+""}function bY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YM=v.createContext({width:-1,height:-1});function _Y(t){return ca(t.width)&&ca(t.height)}function QM(t){var{children:e,width:n,height:r}=t,i=v.useMemo(()=>({width:n,height:r}),[n,r]);return _Y(i)?v.createElement(YM.Provider,{value:i},e):null}var _b=()=>v.useContext(YM),EY=v.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:c=0,id:d,className:p,onResize:m,style:g={}}=t,w=v.useRef(null),b=v.useRef();b.current=m,v.useImperativeHandle(e,()=>w.current);var[x,_]=v.useState({containerWidth:r.width,containerHeight:r.height}),S=v.useCallback((T,I)=>{_(N=>{var P=Math.round(T),R=Math.round(I);return N.containerWidth===P&&N.containerHeight===R?N:{containerWidth:P,containerHeight:R}})},[]);v.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Od;var T=R=>{var j,{width:re,height:ne}=R[0].contentRect;S(re,ne),(j=b.current)===null||j===void 0||j.call(b,re,ne)};c>0&&(T=fY(T,c,{trailing:!0,leading:!1}));var I=new ResizeObserver(T),{width:N,height:P}=w.current.getBoundingClientRect();return S(N,P),I.observe(w.current),()=>{I.disconnect()}},[S,c]);var{containerWidth:C,containerHeight:k}=x;hI(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:A}=GM(C,k,{width:i,height:s,aspect:n,maxHeight:l});return hI(O!=null&&O>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,A,i,s,a,o,n),v.createElement("div",{id:d?"".concat(d):void 0,className:Ye("recharts-responsive-container",p),style:mI(mI({},g),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:w},v.createElement("div",{style:yY({width:i,height:s})},v.createElement(QM,{width:O,height:A},u)))}),Eb=v.forwardRef((t,e)=>{var n=_b();if(ca(n.width)&&ca(n.height))return t.children;var{width:r,height:i}=vY({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=GM(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ve(s)&&ve(a)?v.createElement(QM,{width:s,height:a},t.children):v.createElement(EY,bx({},t,{width:r,height:i,ref:e}))});function XM(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Ld=()=>{var t,e=rr(),n=pe(uY),r=pe(Sg),i=(t=pe(Eg))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},SY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},TY=()=>{var t;return(t=pe(qt))!==null&&t!==void 0?t:SY},AY=()=>pe(fs),IY=()=>pe(hs),Ue=t=>t.layout.layoutType,Vd=()=>pe(Ue),PY=()=>{var t=Vd();return t!==void 0},Tg=t=>{var e=ut(),n=rr(),{width:r,height:i}=t,s=_b(),a=r,o=i;return s&&(a=s.width>0?s.width:r,o=s.height>0?s.height:i),v.useEffect(()=>{!n&&ca(a)&&ca(o)&&e(RG({width:a,height:o}))},[e,n,a,o]),null},JM=Symbol.for("immer-nothing"),gI=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function Hr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var td=Object.getPrototypeOf;function $l(t){return!!t&&!!t[mr]}function ho(t){var e;return t?ZM(t)||Array.isArray(t)||!!t[gI]||!!((e=t.constructor)!=null&&e[gI])||$d(t)||Ig(t):!1}var CY=Object.prototype.constructor.toString(),yI=new WeakMap;function ZM(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=yI.get(n);return r===void 0&&(r=Function.toString.call(n),yI.set(n,r)),r===CY}function zp(t,e,n=!0){Ag(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Ag(t){const e=t[mr];return e?e.type_:Array.isArray(t)?1:$d(t)?2:Ig(t)?3:0}function _x(t,e){return Ag(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function e4(t,e,n){const r=Ag(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function kY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function $d(t){return t instanceof Map}function Ig(t){return t instanceof Set}function Oa(t){return t.copy_||t.base_}function Ex(t,e){if($d(t))return new Map(t);if(Ig(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=ZM(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[mr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(td(t),r)}else{const r=td(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Sb(t,e=!1){return Pg(t)||$l(t)||!ho(t)||(Ag(t)>1&&Object.defineProperties(t,{set:Qf,add:Qf,clear:Qf,delete:Qf}),Object.freeze(t),e&&Object.values(t).forEach(n=>Sb(n,!0))),t}function NY(){Hr(2)}var Qf={value:NY};function Pg(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var OY={};function po(t){const e=OY[t];return e||Hr(0,t),e}var nd;function t4(){return nd}function jY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vI(t,e){e&&(po("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Sx(t){Tx(t),t.drafts_.forEach(RY),t.drafts_=null}function Tx(t){t===nd&&(nd=t.parent_)}function xI(t){return nd=jY(nd,t)}function RY(t){const e=t[mr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function wI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[mr].modified_&&(Sx(e),Hr(4)),ho(t)&&(t=Up(e,t),e.parent_||Bp(e,t)),e.patches_&&po("Patches").generateReplacementPatches_(n[mr].base_,t,e.patches_,e.inversePatches_)):t=Up(e,n,[]),Sx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==JM?t:void 0}function Up(t,e,n){if(Pg(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[mr];if(!i)return zp(e,(s,a)=>bI(t,i,e,s,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Bp(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),zp(a,(l,u)=>bI(t,i,s,l,u,n,o),r),Bp(t,s,!1),n&&t.patches_&&po("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function bI(t,e,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=Pg(i);if(!(o&&!a)){if($l(i)){const l=s&&e&&e.type_!==3&&!_x(e.assigned_,r)?s.concat(r):void 0,u=Up(t,i,l);if(e4(n,r,u),$l(u))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(ho(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;Up(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&($d(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Bp(t,i)}}}function Bp(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Sb(e,n)}function MY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:t4(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Tb;n&&(i=[r],s=rd);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var Tb={get(t,e){if(e===mr)return t;const n=Oa(t);if(!_x(n,e))return DY(t,n,e);const r=n[e];return t.finalized_||!ho(r)?r:r===hv(t.base_,e)?(pv(t),t.copy_[e]=Ix(r,t)):r},has(t,e){return e in Oa(t)},ownKeys(t){return Reflect.ownKeys(Oa(t))},set(t,e,n){const r=n4(Oa(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=hv(Oa(t),e),s=i==null?void 0:i[mr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(kY(n,i)&&(n!==void 0||_x(t.base_,e)))return!0;pv(t),Ax(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return hv(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,pv(t),Ax(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Oa(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Hr(11)},getPrototypeOf(t){return td(t.base_)},setPrototypeOf(){Hr(12)}},rd={};zp(Tb,(t,e)=>{rd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});rd.deleteProperty=function(t,e){return rd.set.call(this,t,e,void 0)};rd.set=function(t,e,n){return Tb.set.call(this,t[0],e,n,t[0])};function hv(t,e){const n=t[mr];return(n?Oa(n):t)[e]}function DY(t,e,n){var i;const r=n4(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function n4(t,e){if(!(e in t))return;let n=td(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=td(n)}}function Ax(t){t.modified_||(t.modified_=!0,t.parent_&&Ax(t.parent_))}function pv(t){t.copy_||(t.copy_=Ex(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var LY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(l=s,...u){return a.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Hr(6),r!==void 0&&typeof r!="function"&&Hr(7);let i;if(ho(e)){const s=xI(this),a=Ix(e,void 0);let o=!0;try{i=n(a),o=!1}finally{o?Sx(s):Tx(s)}return vI(s,r),wI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===JM&&(i=void 0),this.autoFreeze_&&Sb(i,!0),r){const s=[],a=[];po("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Hr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,i;return[this.produce(e,n,(a,o)=>{r=a,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ho(t)||Hr(8),$l(t)&&(t=VY(t));const e=xI(this),n=Ix(t,void 0);return n[mr].isManual_=!0,Tx(e),n}finishDraft(t,e){const n=t&&t[mr];(!n||!n.isManual_)&&Hr(9);const{scope_:r}=n;return vI(r,e),wI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=po("Patches").applyPatches_;return $l(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Ix(t,e){const n=$d(t)?po("MapSet").proxyMap_(t,e):Ig(t)?po("MapSet").proxySet_(t,e):MY(t,e);return(e?e.scope_:t4()).drafts_.push(n),n}function VY(t){return $l(t)||Hr(10,t),r4(t)}function r4(t){if(!ho(t)||Pg(t))return t;const e=t[mr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Ex(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Ex(t,!0);return zp(n,(i,s)=>{e4(n,i,r4(s))},r),e&&(e.finalized_=!1),n}var $Y=new LY;$Y.produce;var FY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},i4=nr({name:"legend",initialState:FY,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:ht()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zr(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:ht()},removeLegendPayload:{reducer(t,e){var n=Zr(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:ht()}}}),{setLegendSize:sce,setLegendSettings:ace,addLegendPayload:s4,replaceLegendPayload:a4,removeLegendPayload:o4}=i4.actions,zY=i4.reducer;function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Px.apply(null,arguments)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){UY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UY(t,e,n){return(e=BY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BY(t){var e=WY(t,"string");return typeof e=="symbol"?e:e+""}function WY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HY(t){return Array.isArray(t)&&Or(t[0])&&Or(t[1])?t.join(" ~ "):t}var KY=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:p=!1}=t,m=()=>{if(s&&s.length){var k={padding:0,margin:0},O=(o?dg(s,o):s).map((A,T)=>{if(A.type==="none")return null;var I=A.formatter||a||HY,{value:N,name:P}=A,R=N,j=P;if(I){var re=I(N,P,A,T,s);if(Array.isArray(re))[R,j]=re;else if(re!=null)R=re;else return null}var ne=mv({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:ne},Or(j)?v.createElement("span",{className:"recharts-tooltip-item-name"},j):null,Or(j)?v.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,v.createElement("span",{className:"recharts-tooltip-item-value"},R),v.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:k},O)}return null},g=mv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=mv({margin:0},i),b=!an(c),x=b?c:"",_=Ye("recharts-default-tooltip",l),S=Ye("recharts-tooltip-label",u);b&&d&&s!==void 0&&s!==null&&(x=d(c,s));var C=p?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Px({className:_,style:g},C),v.createElement("p",{className:S,style:w},v.isValidElement(x)?x:"".concat(x)),m())},Mu="recharts-tooltip-wrapper",qY={visibility:"hidden"};function GY(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ye(Mu,{["".concat(Mu,"-right")]:ve(n)&&e&&ve(e.x)&&n>=e.x,["".concat(Mu,"-left")]:ve(n)&&e&&ve(e.x)&&n<e.x,["".concat(Mu,"-bottom")]:ve(r)&&e&&ve(e.y)&&r>=e.y,["".concat(Mu,"-top")]:ve(r)&&e&&ve(e.y)&&r<e.y})}function EI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=t;if(s&&ve(s[r]))return s[r];var c=n[r]-o-(i>0?i:0),d=n[r]+i;if(e[r])return a[r]?c:d;var p=l[r];if(p==null)return 0;if(a[r]){var m=c,g=p;return m<g?Math.max(d,p):Math.max(c,p)}if(u==null)return 0;var w=d+o,b=p+u;return w>b?Math.max(c,p):Math.max(d,p)}function YY(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function QY(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=t,u,c,d;return a.height>0&&a.width>0&&n?(c=EI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=EI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=YY({translateX:c,translateY:d,useTranslate3d:o})):u=qY,{cssProperties:u,cssClasses:GY({translateX:c,translateY:d,coordinate:n})}}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){Cx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cx(t,e,n){return(e=XY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XY(t){var e=JY(t,"string");return typeof e=="symbol"?e:e+""}function JY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ZY extends v.PureComponent{constructor(){super(...arguments),Cx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Cx(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:p,viewBox:m,wrapperStyle:g,lastBoundingBox:w,innerRef:b,hasPortalFromProps:x}=this.props,{cssClasses:_,cssProperties:S}=QY({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:w.height,width:w.width},useTranslate3d:p,viewBox:m}),C=x?{}:Xf(Xf({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=Xf(Xf({},C),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},g);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:k,ref:b},s)}}var l4=()=>{var t;return(t=pe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kx.apply(null,arguments)}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){eQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eQ(t,e,n){return(e=tQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tQ(t){var e=nQ(t,"string");return typeof e=="symbol"?e:e+""}function nQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var II={curveBasisClosed:yK,curveBasisOpen:vK,curveBasis:gK,curveBumpX:nK,curveBumpY:rK,curveLinearClosed:xK,curveLinear:rg,curveMonotoneX:wK,curveMonotoneY:bK,curveNatural:_K,curveStep:EK,curveStepAfter:TK,curveStepBefore:SK},Wp=t=>Je(t.x)&&Je(t.y),PI=t=>t.base!=null&&Wp(t.base)&&Wp(t),Du=t=>t.x,Lu=t=>t.y,rQ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Nd(t));return(n==="curveMonotone"||n==="curveBump")&&e?II["".concat(n).concat(e==="vertical"?"Y":"X")]:II[n]||rg},iQ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=rQ(e,i),o=s?n.filter(Wp):n,l;if(Array.isArray(r)){var u=n.map((m,g)=>AI(AI({},m),{},{base:r[g]}));i==="vertical"?l=Bf().y(Lu).x1(Du).x0(m=>m.base.x):l=Bf().x(Du).y1(Lu).y0(m=>m.base.y);var c=l.defined(PI).curve(a),d=s?u.filter(PI):u;return c(d)}i==="vertical"&&ve(r)?l=Bf().y(Lu).x1(Du).x0(r):ve(r)?l=Bf().x(Du).y1(Lu).y0(r):l=bR().x(Du).y(Lu);var p=l.defined(Wp).curve(a);return p(o)},Ab=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Vd();if((!n||!n.length)&&!r)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},o=n&&n.length?iQ(a):r;return v.createElement("path",kx({},Ei(t),qK(t),{className:Ye("recharts-curve",e),d:o===null?void 0:o,ref:i}))},sQ=["x","y","top","left","width","height","className"];function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nx.apply(null,arguments)}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){oQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oQ(t,e,n){return(e=lQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lQ(t){var e=uQ(t,"string");return typeof e=="symbol"?e:e+""}function uQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cQ(t,e){if(t==null)return{};var n,r,i=dQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fQ=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),hQ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=t,l=cQ(t,sQ),u=aQ({x:e,y:n,top:r,left:i,width:s,height:a},l);return!ve(e)||!ve(n)||!ve(s)||!ve(a)||!ve(r)||!ve(i)?null:v.createElement("path",Nx({},pr(u),{className:Ye("recharts-cross",o),d:fQ(e,n,s,a,r,i)}))};function pQ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){mQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mQ(t,e,n){return(e=gQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gQ(t){var e=yQ(t,"string");return typeof e=="symbol"?e:e+""}function yQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vQ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),u4=(t,e,n)=>t.map(r=>"".concat(vQ(r)," ").concat(e,"ms ").concat(n)).join(","),xQ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),id=(t,e)=>Object.keys(e).reduce((n,r)=>NI(NI({},n),{},{[r]:t(r,e[r])}),{});function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return(e=bQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bQ(t){var e=_Q(t,"string");return typeof e=="symbol"?e:e+""}function _Q(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hp=(t,e,n)=>t+(e-t)*n,Ox=t=>{var{from:e,to:n}=t;return e!==n},c4=(t,e,n)=>{var r=id((i,s)=>{if(Ox(s)){var[a,o]=t(s.from,s.to,s.velocity);return Bt(Bt({},s),{},{from:a,velocity:o})}return s},e);return n<1?id((i,s)=>Ox(s)&&r[i]!=null?Bt(Bt({},s),{},{velocity:Hp(s.velocity,r[i].velocity,n),from:Hp(s.from,r[i].from,n)}):s,e):c4(t,r,n-1)};function EQ(t,e,n,r,i,s){var a,o=r.reduce((p,m)=>Bt(Bt({},p),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),l=()=>id((p,m)=>m.from,o),u=()=>!Object.values(o).filter(Ox).length,c=null,d=p=>{a||(a=p);var m=p-a,g=m/n.dt;o=c4(n,o,g),i(Bt(Bt(Bt({},t),e),l())),a=p,u()||(c=s.setTimeout(d))};return()=>(c=s.setTimeout(d),()=>{var p;(p=c)===null||p===void 0||p()})}function SQ(t,e,n,r,i,s,a){var o=null,l=i.reduce((d,p)=>{var m=t[p],g=e[p];return m==null||g==null?d:Bt(Bt({},d),{},{[p]:[m,g]})},{}),u,c=d=>{u||(u=d);var p=(d-u)/r,m=id((w,b)=>Hp(...b,n(p)),l);if(s(Bt(Bt(Bt({},t),e),m)),p<1)o=a.setTimeout(c);else{var g=id((w,b)=>Hp(...b,n(1)),l);s(Bt(Bt(Bt({},t),e),g))}};return()=>(o=a.setTimeout(c),()=>{var d;(d=o)===null||d===void 0||d()})}const TQ=(t,e,n,r,i,s)=>{var a=xQ(t,e);return n==null?()=>(i(Bt(Bt({},t),e)),()=>{}):n.isStepper===!0?EQ(t,e,n,a,i,s):SQ(t,e,n,r,a,i,s)};var Kp=1e-4,d4=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],f4=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),jI=(t,e)=>n=>{var r=d4(t,e);return f4(r,n)},AQ=(t,e)=>n=>{var r=d4(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return f4(i,n)},IQ=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},PQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=IQ(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},CQ=(t,e,n,r)=>{var i=jI(t,n),s=jI(e,r),a=AQ(t,n),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,p=0;p<8;++p){var m=i(d)-c,g=a(d);if(Math.abs(m-c)<Kp||g<Kp)return s(d);d=o(d-m/g)}return s(d)};return l.isStepper=!1,l},RI=function(){return CQ(...PQ(...arguments))},kQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,o,l)=>{var u=-(a-o)*n,c=l*r,d=l+(u-c)*i/1e3,p=l*i/1e3+a;return Math.abs(p-o)<Kp&&Math.abs(d)<Kp?[o,0]:[p,d]};return s.isStepper=!0,s.dt=i,s},NQ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RI(t);case"spring":return kQ();default:if(t.split("(")[0]==="cubic-bezier")return RI(t)}return typeof t=="function"?t:null};function OQ(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){i=t.setTimeout(s.bind(null,u),l);return}s(l),i=t.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class jQ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function RQ(){return OQ(new jQ)}var MQ=v.createContext(RQ);function DQ(t,e){var n=v.useContext(MQ);return v.useMemo(()=>e??n(t),[t,e,n])}var LQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Cg={isSsr:LQ()},VQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},MI={t:0},gv={t:1};function kg(t){var e=Mn(t,VQ),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,c=n==="auto"?!Cg.isSsr:n,d=DQ(e.animationId,e.animationManager),[p,m]=v.useState(c?MI:gv),g=v.useRef(null);return v.useEffect(()=>{c||m(gv)},[c]),v.useEffect(()=>{if(!c||!r)return Od;var w=TQ(MI,gv,NQ(s),i,m,d.getTimeoutController()),b=()=>{g.current=w()};return d.start([l,a,b,i,o]),()=>{d.stop(),g.current&&g.current(),o()}},[c,r,i,s,a,l,o,d]),u(p.t)}function Ng(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Xc(e)),r=v.useRef(t);return r.current!==t&&(n.current=Xc(e),r.current=t),n.current}var $Q=["radius"],FQ=["radius"],DI,LI,VI,$I,FI,zI,UI,BI,WI,HI;function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){zQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zQ(t,e,n){return(e=UQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UQ(t){var e=BQ(t,"string");return typeof e=="symbol"?e:e+""}function BQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qp(){return qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qp.apply(null,arguments)}function GI(t,e){if(t==null)return{};var n,r,i=WQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function si(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var YI=(t,e,n,r,i)=>{var s=Vs(n),a=Vs(r),o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,u=s>=0?1:-1,c=a>=0&&s>=0||a<0&&s<0?1:0,d;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],m=0,g=4;m<g;m++)p[m]=i[m]>o?o:i[m];d=At(DI||(DI=si(["M",",",""])),t,e+l*p[0]),p[0]>0&&(d+=At(LI||(LI=si(["A ",",",",0,0,",",",",",""])),p[0],p[0],c,t+u*p[0],e)),d+=At(VI||(VI=si(["L ",",",""])),t+n-u*p[1],e),p[1]>0&&(d+=At($I||($I=si(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],c,t+n,e+l*p[1])),d+=At(FI||(FI=si(["L ",",",""])),t+n,e+r-l*p[2]),p[2]>0&&(d+=At(zI||(zI=si(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],c,t+n-u*p[2],e+r)),d+=At(UI||(UI=si(["L ",",",""])),t+u*p[3],e+r),p[3]>0&&(d+=At(BI||(BI=si(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],c,t,e+r-l*p[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);d=At(WI||(WI=si(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*w,w,w,c,t+u*w,e,t+n-u*w,e,w,w,c,t+n,e+l*w,t+n,e+r-l*w,w,w,c,t+n-u*w,e+r,t+u*w,e+r,w,w,c,t,e+r-l*w)}else d=At(HI||(HI=si(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return d},QI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},h4=t=>{var e=Mn(t,QI),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var F=n.current.getTotalLength();F&&i(F)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:c}=e,{animationEasing:d,animationDuration:p,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:w}=e,b=v.useRef(o),x=v.useRef(l),_=v.useRef(s),S=v.useRef(a),C=v.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),k=Ng(C,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var O=Ye("recharts-rectangle",c);if(!w){var A=pr(e),{radius:T}=A,I=GI(A,$Q);return v.createElement("path",qp({},I,{x:Vs(s),y:Vs(a),width:Vs(o),height:Vs(l),radius:typeof u=="number"?u:void 0,className:O,d:YI(s,a,o,l,u)}))}var N=b.current,P=x.current,R=_.current,j=S.current,re="0px ".concat(r===-1?1:r,"px"),ne="".concat(r,"px 0px"),$=u4(["strokeDasharray"],p,typeof d=="string"?d:QI.animationEasing);return v.createElement(kg,{animationId:k,key:k,canBegin:r>0,duration:p,easing:d,isActive:w,begin:m},F=>{var D=Ut(N,o,F),L=Ut(P,l,F),H=Ut(R,s,F),q=Ut(j,a,F);n.current&&(b.current=D,x.current=L,_.current=H,S.current=q);var Q;g?F>0?Q={transition:$,strokeDasharray:ne}:Q={strokeDasharray:re}:Q={strokeDasharray:ne};var ie=pr(e),{radius:ae}=ie,he=GI(ie,FQ);return v.createElement("path",qp({},he,{radius:typeof u=="number"?u:void 0,className:O,d:YI(H,q,D,L,u),ref:n,style:qI(qI({},Q),e.style)}))})};function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return(e=KQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KQ(t){var e=qQ(t,"string");return typeof e=="symbol"?e:e+""}function qQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gp=Math.PI/180,GQ=t=>t*180/Math.PI,$t=(t,e,n,r)=>({x:t+Math.cos(-Gp*r)*n,y:e+Math.sin(-Gp*r)*n}),p4=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},YQ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},QQ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=YQ({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(n-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:GQ(l),angleInRadian:l}},XQ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},JQ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},ZQ=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=QQ({x:n,y:r},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:u}=XQ(e),c=s,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?JI(JI({},e),{},{radius:i,angle:JQ(c,e)}):null};function m4(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=$t(e,n,r,i),o=$t(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var ZI,e2,t2,n2,r2,i2,s2;function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(null,arguments)}function $a(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var eX=(t,e)=>{var n=mn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Jf=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=t,u=o*(a?1:-1)+r,c=Math.asin(o/u)/Gp,d=l?i:i+s*c,p=$t(e,n,u,d),m=$t(e,n,r,d),g=l?i-s*c:i,w=$t(e,n,u*Math.cos(c*Gp),g);return{center:p,circleTangency:m,lineTangency:w,theta:c}},g4=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,o=eX(s,a),l=s+o,u=$t(e,n,i,s),c=$t(e,n,i,l),d=At(ZI||(ZI=$a(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(s>l),c.x,c.y);if(r>0){var p=$t(e,n,r,s),m=$t(e,n,r,l);d+=At(e2||(e2=$a(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(s<=l),p.x,p.y)}else d+=At(t2||(t2=$a(["L ",","," Z"])),e,n);return d},tX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=t,c=mn(u-l),{circleTangency:d,lineTangency:p,theta:m}=Jf({cx:e,cy:n,radius:i,angle:l,sign:c,cornerRadius:s,cornerIsExternal:o}),{circleTangency:g,lineTangency:w,theta:b}=Jf({cx:e,cy:n,radius:i,angle:u,sign:-c,cornerRadius:s,cornerIsExternal:o}),x=o?Math.abs(l-u):Math.abs(l-u)-m-b;if(x<0)return a?At(n2||(n2=$a(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,s,s,s*2,s,s,-s*2):g4({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var _=At(r2||(r2=$a(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,s,s,+(c<0),d.x,d.y,i,i,+(x>180),+(c<0),g.x,g.y,s,s,+(c<0),w.x,w.y);if(r>0){var{circleTangency:S,lineTangency:C,theta:k}=Jf({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:O,lineTangency:A,theta:T}=Jf({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),I=o?Math.abs(l-u):Math.abs(l-u)-k-T;if(I<0&&s===0)return"".concat(_,"L").concat(e,",").concat(n,"Z");_+=At(i2||(i2=$a(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,s,s,+(c<0),O.x,O.y,r,r,+(I>180),+(c>0),S.x,S.y,s,s,+(c<0),C.x,C.y)}else _+=At(s2||(s2=$a(["L",",","Z"])),e,n);return _},nX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},y4=t=>{var e=Mn(t,nX),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=e;if(s<i||u===c)return null;var p=Ye("recharts-sector",d),m=s-i,g=Nn(a,m,0,!0),w;return g>0&&Math.abs(u-c)<360?w=tX({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):w=g4({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:c}),v.createElement("path",jx({},pr(e),{className:p,d:w}))};function rX(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(LR(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:o}=e,l=$t(r,i,s,o),u=$t(r,i,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return m4(e)}}var v4={},x4={},w4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=db;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(w4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w4;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(x4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fb,n=x4;function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=a;return l}t.range=r})(v4);var iX=v4.range;const b4=us(iX);function Js(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ib(t){let e,n,r;t.length!==2?(e=Js,n=(o,l)=>Js(t(o),l),r=(o,l)=>t(o)-l):(e=t===Js||t===sX?t:aX,n=t,r=t);function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(o[d],l)<0?u=d+1:c=d}while(u<c)}return u}function s(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(o[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(o,l,u=0,c=o.length){const d=i(o,l,u,c-1);return d>u&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function aX(){return 0}function _4(t){return t===null?NaN:+t}function*oX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const lX=Ib(Js),Fd=lX.right;Ib(_4).center;class a2 extends Map{constructor(e,n=dX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(o2(this,e))}has(e){return super.has(o2(this,e))}set(e,n){return super.set(uX(this,e),n)}delete(e){return super.delete(cX(this,e))}}function o2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function uX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function cX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function dX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function fX(t=Js){if(t===Js)return E4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function E4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const hX=Math.sqrt(50),pX=Math.sqrt(10),mX=Math.sqrt(2);function Yp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=hX?10:s>=pX?5:s>=mX?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?Yp(t,e,n*2):[o,l,u]}function Rx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Yp(e,t,n):Yp(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function Mx(t,e,n){return e=+e,t=+t,n=+n,Yp(t,e,n)[2]}function Dx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Mx(e,t,n):Mx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function l2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function u2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function S4(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?E4:fX(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*d/l+p)),g=Math.min(r,Math.floor(e+(l-u)*d/l+p));S4(t,e,m,g,i)}const s=t[e];let a=n,o=r;for(Vu(t,n,e),i(t[r],s)>0&&Vu(t,n,r);a<o;){for(Vu(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Vu(t,n,o):(++o,Vu(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Vu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function gX(t,e,n){if(t=Float64Array.from(oX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return u2(t);if(e>=1)return l2(t);var r,i=(r-1)*e,s=Math.floor(i),a=l2(S4(t,s).subarray(0,s+1)),o=u2(t.subarray(s+1));return a+(o-a)*(i-s)}}function yX(t,e,n=_4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function vX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Mr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ps(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Lx=Symbol("implicit");function Pb(){var t=new a2,e=[],n=[],r=Lx;function i(s){let a=t.get(s);if(a===void 0){if(r!==Lx)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new a2;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Pb(e,n).unknown(r)},Mr.apply(i,arguments),i}function Cb(){var t=Pb().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var p=e().length,m=i<r,g=m?i:r,w=m?r:i;s=(w-g)/Math.max(1,p-l+u*2),o&&(s=Math.floor(s)),g+=(w-g-s*(p-l))*c,a=s*(1-l),o&&(g=Math.round(g),a=Math.round(a));var b=vX(p).map(function(x){return g+s*x});return n(m?b.reverse():b)}return t.domain=function(p){return arguments.length?(e(p),d()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(p){return arguments.length?(o=!!p,d()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},t.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),d()):c},t.copy=function(){return Cb(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Mr.apply(d(),arguments)}function T4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return T4(e())},t}function xX(){return T4(Cb.apply(null,arguments).paddingInner(1))}function kb(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function A4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function zd(){}var sd=.7,Qp=1/sd,xl="\\s*([+-]?\\d+)\\s*",ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wX=/^#([0-9a-f]{3,8})$/,bX=new RegExp(`^rgb\\(${xl},${xl},${xl}\\)$`),_X=new RegExp(`^rgb\\(${xi},${xi},${xi}\\)$`),EX=new RegExp(`^rgba\\(${xl},${xl},${xl},${ad}\\)$`),SX=new RegExp(`^rgba\\(${xi},${xi},${xi},${ad}\\)$`),TX=new RegExp(`^hsl\\(${ad},${xi},${xi}\\)$`),AX=new RegExp(`^hsla\\(${ad},${xi},${xi},${ad}\\)$`),c2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kb(zd,od,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:d2,formatHex:d2,formatHex8:IX,formatHsl:PX,formatRgb:f2,toString:f2});function d2(){return this.rgb().formatHex()}function IX(){return this.rgb().formatHex8()}function PX(){return I4(this).formatHsl()}function f2(){return this.rgb().formatRgb()}function od(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?h2(e):n===3?new Xn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bX.exec(t))?new Xn(e[1],e[2],e[3],1):(e=_X.exec(t))?new Xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=EX.exec(t))?Zf(e[1],e[2],e[3],e[4]):(e=SX.exec(t))?Zf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=TX.exec(t))?g2(e[1],e[2]/100,e[3]/100,1):(e=AX.exec(t))?g2(e[1],e[2]/100,e[3]/100,e[4]):c2.hasOwnProperty(t)?h2(c2[t]):t==="transparent"?new Xn(NaN,NaN,NaN,0):null}function h2(t){return new Xn(t>>16&255,t>>8&255,t&255,1)}function Zf(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xn(t,e,n,r)}function CX(t){return t instanceof zd||(t=od(t)),t?(t=t.rgb(),new Xn(t.r,t.g,t.b,t.opacity)):new Xn}function Vx(t,e,n,r){return arguments.length===1?CX(t):new Xn(t,e,n,r??1)}function Xn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}kb(Xn,Vx,A4(zd,{brighter(t){return t=t==null?Qp:Math.pow(Qp,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?sd:Math.pow(sd,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xn(qa(this.r),qa(this.g),qa(this.b),Xp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p2,formatHex:p2,formatHex8:kX,formatRgb:m2,toString:m2}));function p2(){return`#${Fa(this.r)}${Fa(this.g)}${Fa(this.b)}`}function kX(){return`#${Fa(this.r)}${Fa(this.g)}${Fa(this.b)}${Fa((isNaN(this.opacity)?1:this.opacity)*255)}`}function m2(){const t=Xp(this.opacity);return`${t===1?"rgb(":"rgba("}${qa(this.r)}, ${qa(this.g)}, ${qa(this.b)}${t===1?")":`, ${t})`}`}function Xp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fa(t){return t=qa(t),(t<16?"0":"")+t.toString(16)}function g2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Kr(t,e,n,r)}function I4(t){if(t instanceof Kr)return new Kr(t.h,t.s,t.l,t.opacity);if(t instanceof zd||(t=od(t)),!t)return new Kr;if(t instanceof Kr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Kr(a,o,l,t.opacity)}function NX(t,e,n,r){return arguments.length===1?I4(t):new Kr(t,e,n,r??1)}function Kr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}kb(Kr,NX,A4(zd,{brighter(t){return t=t==null?Qp:Math.pow(Qp,t),new Kr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?sd:Math.pow(sd,t),new Kr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xn(yv(t>=240?t-240:t+120,i,r),yv(t,i,r),yv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Kr(y2(this.h),eh(this.s),eh(this.l),Xp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xp(this.opacity);return`${t===1?"hsl(":"hsla("}${y2(this.h)}, ${eh(this.s)*100}%, ${eh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function y2(t){return t=(t||0)%360,t<0?t+360:t}function eh(t){return Math.max(0,Math.min(1,t||0))}function yv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Nb=t=>()=>t;function OX(t,e){return function(n){return t+n*e}}function jX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function RX(t){return(t=+t)==1?P4:function(e,n){return n-e?jX(e,n,t):Nb(isNaN(e)?n:e)}}function P4(t,e){var n=e-t;return n?OX(t,n):Nb(isNaN(t)?e:t)}const v2=function t(e){var n=RX(e);function r(i,s){var a=n((i=Vx(i)).r,(s=Vx(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),u=P4(i.opacity,s.opacity);return function(c){return i.r=a(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function MX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function DX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function LX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=ru(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function VX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Jp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function $X(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ru(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var $x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vv=new RegExp($x.source,"g");function FX(t){return function(){return t}}function zX(t){return function(e){return t(e)+""}}function UX(t,e){var n=$x.lastIndex=vv.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=$x.exec(t))&&(i=vv.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Jp(r,i)})),n=vv.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?zX(l[0].x):FX(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)o[(d=l[c]).i]=d.x(u);return o.join("")})}function ru(t,e){var n=typeof e,r;return e==null||n==="boolean"?Nb(e):(n==="number"?Jp:n==="string"?(r=od(e))?(e=r,v2):UX:e instanceof od?v2:e instanceof Date?VX:DX(e)?MX:Array.isArray(e)?LX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$X:Jp)(t,e)}function Ob(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function BX(t,e){e===void 0&&(e=t,t=ru);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function WX(t){return function(){return t}}function Zp(t){return+t}var x2=[0,1];function Fn(t){return t}function Fx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:WX(isNaN(e)?NaN:.5)}function HX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function KX(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=Fx(i,r),s=n(a,s)):(r=Fx(r,i),s=n(s,a)),function(o){return s(r(o))}}function qX(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Fx(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=Fd(t,o,1,r)-1;return s[l](i[l](o))}}function Ud(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Og(){var t=x2,e=x2,n=ru,r,i,s,a=Fn,o,l,u;function c(){var p=Math.min(t.length,e.length);return a!==Fn&&(a=HX(t[0],t[p-1])),o=p>2?qX:KX,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?s:(l||(l=o(t.map(r),e,n)))(r(a(p)))}return d.invert=function(p){return a(i((u||(u=o(e,t.map(r),Jp)))(p)))},d.domain=function(p){return arguments.length?(t=Array.from(p,Zp),c()):t.slice()},d.range=function(p){return arguments.length?(e=Array.from(p),c()):e.slice()},d.rangeRound=function(p){return e=Array.from(p),n=Ob,c()},d.clamp=function(p){return arguments.length?(a=p?!0:Fn,c()):a!==Fn},d.interpolate=function(p){return arguments.length?(n=p,c()):n},d.unknown=function(p){return arguments.length?(s=p,d):s},function(p,m){return r=p,i=m,c()}}function jb(){return Og()(Fn,Fn)}function GX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function em(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Fl(t){return t=em(Math.abs(t)),t?t[1]:NaN}function YX(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function QX(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var XX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ld(t){if(!(e=XX.exec(t)))throw new Error("invalid format: "+t);var e;return new Rb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ld.prototype=Rb.prototype;function Rb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Rb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JX(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var C4;function ZX(t,e){var n=em(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(C4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+em(t,Math.max(0,e+s-1))[0]}function w2(t,e){var n=em(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const b2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:GX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>w2(t*100,e),r:w2,s:ZX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _2(t){return t}var E2=Array.prototype.map,S2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eJ(t){var e=t.grouping===void 0||t.thousands===void 0?_2:YX(E2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?_2:QX(E2.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=ld(d);var p=d.fill,m=d.align,g=d.sign,w=d.symbol,b=d.zero,x=d.width,_=d.comma,S=d.precision,C=d.trim,k=d.type;k==="n"?(_=!0,k="g"):b2[k]||(S===void 0&&(S=12),C=!0,k="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var O=w==="$"?n:w==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",A=w==="$"?r:/[%p]/.test(k)?a:"",T=b2[k],I=/[defgprs%]/.test(k);S=S===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function N(P){var R=O,j=A,re,ne,$;if(k==="c")j=T(P)+j,P="";else{P=+P;var F=P<0||1/P<0;if(P=isNaN(P)?l:T(Math.abs(P),S),C&&(P=JX(P)),F&&+P==0&&g!=="+"&&(F=!1),R=(F?g==="("?g:o:g==="-"||g==="("?"":g)+R,j=(k==="s"?S2[8+C4/3]:"")+j+(F&&g==="("?")":""),I){for(re=-1,ne=P.length;++re<ne;)if($=P.charCodeAt(re),48>$||$>57){j=($===46?i+P.slice(re+1):P.slice(re))+j,P=P.slice(0,re);break}}}_&&!b&&(P=e(P,1/0));var D=R.length+P.length+j.length,L=D<x?new Array(x-D+1).join(p):"";switch(_&&b&&(P=e(L+P,L.length?x-j.length:1/0),L=""),m){case"<":P=R+P+j+L;break;case"=":P=R+L+P+j;break;case"^":P=L.slice(0,D=L.length>>1)+R+P+j+L.slice(D);break;default:P=L+R+P+j;break}return s(P)}return N.toString=function(){return d+""},N}function c(d,p){var m=u((d=ld(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Fl(p)/3)))*3,w=Math.pow(10,-g),b=S2[8+g/3];return function(x){return m(w*x)+b}}return{format:u,formatPrefix:c}}var th,Mb,k4;tJ({thousands:",",grouping:[3],currency:["$",""]});function tJ(t){return th=eJ(t),Mb=th.format,k4=th.formatPrefix,th}function nJ(t){return Math.max(0,-Fl(Math.abs(t)))}function rJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fl(e)/3)))*3-Fl(Math.abs(t)))}function iJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fl(e)-Fl(t))+1}function N4(t,e,n,r){var i=Dx(t,e,n),s;switch(r=ld(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=rJ(i,a))&&(r.precision=s),k4(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=iJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=nJ(i))&&(r.precision=s-(r.type==="%")*2);break}}return Mb(r)}function va(t){var e=t.domain;return t.ticks=function(n){var r=e();return Rx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return N4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,u,c=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);c-- >0;){if(u=Mx(a,o,n),u===l)return r[i]=a,r[s]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function O4(){var t=jb();return t.copy=function(){return Ud(t,O4())},Mr.apply(t,arguments),va(t)}function j4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Zp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return j4(t).unknown(e)},t=arguments.length?Array.from(t,Zp):[0,1],va(n)}function R4(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function T2(t){return Math.log(t)}function A2(t){return Math.exp(t)}function sJ(t){return-Math.log(-t)}function aJ(t){return-Math.exp(-t)}function oJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function lJ(t){return t===10?oJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function uJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function I2(t){return(e,n)=>-t(-e,n)}function Db(t){const e=t(T2,A2),n=e.domain;let r=10,i,s;function a(){return i=uJ(r),s=lJ(r),n()[0]<0?(i=I2(i),s=I2(s),t(sJ,aJ)):t(T2,A2),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let p=i(u),m=i(c),g,w;const b=o==null?10:+o;let x=[];if(!(r%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(g=1;g<r;++g)if(w=p<0?g/s(-p):g*s(p),!(w<u)){if(w>c)break;x.push(w)}}else for(;p<=m;++p)for(g=r-1;g>=1;--g)if(w=p>0?g/s(-p):g*s(p),!(w<u)){if(w>c)break;x.push(w)}x.length*2<b&&(x=Rx(u,c,b))}else x=Rx(p,m,Math.min(m-p,b)).map(s);return d?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ld(l)).precision==null&&(l.trim=!0),l=Mb(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return c=>{let d=c/s(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(R4(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function M4(){const t=Db(Og()).domain([1,10]);return t.copy=()=>Ud(t,M4()).base(t.base()),Mr.apply(t,arguments),t}function P2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function C2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Lb(t){var e=1,n=t(P2(e),C2(e));return n.constant=function(r){return arguments.length?t(P2(e=+r),C2(e)):e},va(n)}function D4(){var t=Lb(Og());return t.copy=function(){return Ud(t,D4()).constant(t.constant())},Mr.apply(t,arguments)}function k2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function dJ(t){return t<0?-t*t:t*t}function Vb(t){var e=t(Fn,Fn),n=1;function r(){return n===1?t(Fn,Fn):n===.5?t(cJ,dJ):t(k2(n),k2(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},va(e)}function $b(){var t=Vb(Og());return t.copy=function(){return Ud(t,$b()).exponent(t.exponent())},Mr.apply(t,arguments),t}function fJ(){return $b.apply(null,arguments).exponent(.5)}function N2(t){return Math.sign(t)*t*t}function hJ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function L4(){var t=jb(),e=[0,1],n=!1,r;function i(s){var a=hJ(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(N2(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Zp)).map(N2)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return L4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Mr.apply(i,arguments),va(i)}function V4(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=yX(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Fd(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Js),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return V4().domain(t).range(e).unknown(r)},Mr.apply(s,arguments)}function $4(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Fd(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return $4().domain([t,e]).range(i).unknown(s)},Mr.apply(va(a),arguments)}function F4(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Fd(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return F4().domain(t).range(e).unknown(n)},Mr.apply(i,arguments)}const xv=new Date,wv=new Date;function Gt(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return l},i.filter=s=>Gt(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(xv.setTime(+s),wv.setTime(+a),t(xv),t(wv),Math.floor(n(xv,wv))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const tm=Gt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);tm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Gt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):tm);tm.range;const Wi=1e3,Ar=Wi*60,Hi=Ar*60,is=Hi*24,Fb=is*7,O2=is*30,bv=is*365,za=Gt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Wi)},(t,e)=>(e-t)/Wi,t=>t.getUTCSeconds());za.range;const zb=Gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Wi)},(t,e)=>{t.setTime(+t+e*Ar)},(t,e)=>(e-t)/Ar,t=>t.getMinutes());zb.range;const Ub=Gt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ar)},(t,e)=>(e-t)/Ar,t=>t.getUTCMinutes());Ub.range;const Bb=Gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Wi-t.getMinutes()*Ar)},(t,e)=>{t.setTime(+t+e*Hi)},(t,e)=>(e-t)/Hi,t=>t.getHours());Bb.range;const Wb=Gt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Hi)},(t,e)=>(e-t)/Hi,t=>t.getUTCHours());Wb.range;const Bd=Gt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ar)/is,t=>t.getDate()-1);Bd.range;const jg=Gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/is,t=>t.getUTCDate()-1);jg.range;const z4=Gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/is,t=>Math.floor(t/is));z4.range;function To(t){return Gt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ar)/Fb)}const Rg=To(0),nm=To(1),pJ=To(2),mJ=To(3),zl=To(4),gJ=To(5),yJ=To(6);Rg.range;nm.range;pJ.range;mJ.range;zl.range;gJ.range;yJ.range;function Ao(t){return Gt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Fb)}const Mg=Ao(0),rm=Ao(1),vJ=Ao(2),xJ=Ao(3),Ul=Ao(4),wJ=Ao(5),bJ=Ao(6);Mg.range;rm.range;vJ.range;xJ.range;Ul.range;wJ.range;bJ.range;const Hb=Gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Hb.range;const Kb=Gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Kb.range;const ss=Gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ss.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ss.range;const as=Gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());as.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});as.range;function U4(t,e,n,r,i,s){const a=[[za,1,Wi],[za,5,5*Wi],[za,15,15*Wi],[za,30,30*Wi],[s,1,Ar],[s,5,5*Ar],[s,15,15*Ar],[s,30,30*Ar],[i,1,Hi],[i,3,3*Hi],[i,6,6*Hi],[i,12,12*Hi],[r,1,is],[r,2,2*is],[n,1,Fb],[e,1,O2],[e,3,3*O2],[t,1,bv]];function o(u,c,d){const p=c<u;p&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),g=m?m.range(u,+c+1):[];return p?g.reverse():g}function l(u,c,d){const p=Math.abs(c-u)/d,m=Ib(([,,b])=>b).right(a,p);if(m===a.length)return t.every(Dx(u/bv,c/bv,d));if(m===0)return tm.every(Math.max(Dx(u,c,d),1));const[g,w]=a[p/a[m-1][2]<a[m][2]/p?m-1:m];return g.every(w)}return[o,l]}const[_J,EJ]=U4(as,Kb,Mg,z4,Wb,Ub),[SJ,TJ]=U4(ss,Hb,Rg,Bd,Bb,zb);function _v(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ev(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $u(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function AJ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,u=Fu(i),c=zu(i),d=Fu(s),p=zu(s),m=Fu(a),g=zu(a),w=Fu(o),b=zu(o),x=Fu(l),_=zu(l),S={a:F,A:D,b:L,B:H,c:null,d:V2,e:V2,f:YJ,g:sZ,G:oZ,H:KJ,I:qJ,j:GJ,L:B4,m:QJ,M:XJ,p:q,q:Q,Q:z2,s:U2,S:JJ,u:ZJ,U:eZ,V:tZ,w:nZ,W:rZ,x:null,X:null,y:iZ,Y:aZ,Z:lZ,"%":F2},C={a:ie,A:ae,b:he,B:ge,c:null,d:$2,e:$2,f:fZ,g:_Z,G:SZ,H:uZ,I:cZ,j:dZ,L:H4,m:hZ,M:pZ,p:we,q:Re,Q:z2,s:U2,S:mZ,u:gZ,U:yZ,V:vZ,w:xZ,W:wZ,x:null,X:null,y:bZ,Y:EZ,Z:TZ,"%":F2},k={a:N,A:P,b:R,B:j,c:re,d:D2,e:D2,f:UJ,g:M2,G:R2,H:L2,I:L2,j:VJ,L:zJ,m:LJ,M:$J,p:I,q:DJ,Q:WJ,s:HJ,S:FJ,u:NJ,U:OJ,V:jJ,w:kJ,W:RJ,x:ne,X:$,y:M2,Y:R2,Z:MJ,"%":BJ};S.x=O(n,S),S.X=O(r,S),S.c=O(e,S),C.x=O(n,C),C.X=O(r,C),C.c=O(e,C);function O(K,J){return function(G){var B=[],oe=-1,le=0,Ae=K.length,Ie,Me,Ct;for(G instanceof Date||(G=new Date(+G));++oe<Ae;)K.charCodeAt(oe)===37&&(B.push(K.slice(le,oe)),(Me=j2[Ie=K.charAt(++oe)])!=null?Ie=K.charAt(++oe):Me=Ie==="e"?" ":"0",(Ct=J[Ie])&&(Ie=Ct(G,Me)),B.push(Ie),le=oe+1);return B.push(K.slice(le,oe)),B.join("")}}function A(K,J){return function(G){var B=$u(1900,void 0,1),oe=T(B,K,G+="",0),le,Ae;if(oe!=G.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(J&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(le=Ev($u(B.y,0,1)),Ae=le.getUTCDay(),le=Ae>4||Ae===0?rm.ceil(le):rm(le),le=jg.offset(le,(B.V-1)*7),B.y=le.getUTCFullYear(),B.m=le.getUTCMonth(),B.d=le.getUTCDate()+(B.w+6)%7):(le=_v($u(B.y,0,1)),Ae=le.getDay(),le=Ae>4||Ae===0?nm.ceil(le):nm(le),le=Bd.offset(le,(B.V-1)*7),B.y=le.getFullYear(),B.m=le.getMonth(),B.d=le.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),Ae="Z"in B?Ev($u(B.y,0,1)).getUTCDay():_v($u(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(Ae+5)%7:B.w+B.U*7-(Ae+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,Ev(B)):_v(B)}}function T(K,J,G,B){for(var oe=0,le=J.length,Ae=G.length,Ie,Me;oe<le;){if(B>=Ae)return-1;if(Ie=J.charCodeAt(oe++),Ie===37){if(Ie=J.charAt(oe++),Me=k[Ie in j2?J.charAt(oe++):Ie],!Me||(B=Me(K,G,B))<0)return-1}else if(Ie!=G.charCodeAt(B++))return-1}return B}function I(K,J,G){var B=u.exec(J.slice(G));return B?(K.p=c.get(B[0].toLowerCase()),G+B[0].length):-1}function N(K,J,G){var B=m.exec(J.slice(G));return B?(K.w=g.get(B[0].toLowerCase()),G+B[0].length):-1}function P(K,J,G){var B=d.exec(J.slice(G));return B?(K.w=p.get(B[0].toLowerCase()),G+B[0].length):-1}function R(K,J,G){var B=x.exec(J.slice(G));return B?(K.m=_.get(B[0].toLowerCase()),G+B[0].length):-1}function j(K,J,G){var B=w.exec(J.slice(G));return B?(K.m=b.get(B[0].toLowerCase()),G+B[0].length):-1}function re(K,J,G){return T(K,e,J,G)}function ne(K,J,G){return T(K,n,J,G)}function $(K,J,G){return T(K,r,J,G)}function F(K){return a[K.getDay()]}function D(K){return s[K.getDay()]}function L(K){return l[K.getMonth()]}function H(K){return o[K.getMonth()]}function q(K){return i[+(K.getHours()>=12)]}function Q(K){return 1+~~(K.getMonth()/3)}function ie(K){return a[K.getUTCDay()]}function ae(K){return s[K.getUTCDay()]}function he(K){return l[K.getUTCMonth()]}function ge(K){return o[K.getUTCMonth()]}function we(K){return i[+(K.getUTCHours()>=12)]}function Re(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var J=O(K+="",S);return J.toString=function(){return K},J},parse:function(K){var J=A(K+="",!1);return J.toString=function(){return K},J},utcFormat:function(K){var J=O(K+="",C);return J.toString=function(){return K},J},utcParse:function(K){var J=A(K+="",!0);return J.toString=function(){return K},J}}}var j2={"-":"",_:" ",0:"0"},on=/^\s*\d+/,IJ=/^%/,PJ=/[\\^$*+?|[\]().{}]/g;function ze(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function CJ(t){return t.replace(PJ,"\\$&")}function Fu(t){return new RegExp("^(?:"+t.map(CJ).join("|")+")","i")}function zu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function kJ(t,e,n){var r=on.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function NJ(t,e,n){var r=on.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function OJ(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function jJ(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function RJ(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function R2(t,e,n){var r=on.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function M2(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function MJ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function DJ(t,e,n){var r=on.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function LJ(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function D2(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function VJ(t,e,n){var r=on.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function L2(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function $J(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function FJ(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function zJ(t,e,n){var r=on.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function UJ(t,e,n){var r=on.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function BJ(t,e,n){var r=IJ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function WJ(t,e,n){var r=on.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function HJ(t,e,n){var r=on.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function V2(t,e){return ze(t.getDate(),e,2)}function KJ(t,e){return ze(t.getHours(),e,2)}function qJ(t,e){return ze(t.getHours()%12||12,e,2)}function GJ(t,e){return ze(1+Bd.count(ss(t),t),e,3)}function B4(t,e){return ze(t.getMilliseconds(),e,3)}function YJ(t,e){return B4(t,e)+"000"}function QJ(t,e){return ze(t.getMonth()+1,e,2)}function XJ(t,e){return ze(t.getMinutes(),e,2)}function JJ(t,e){return ze(t.getSeconds(),e,2)}function ZJ(t){var e=t.getDay();return e===0?7:e}function eZ(t,e){return ze(Rg.count(ss(t)-1,t),e,2)}function W4(t){var e=t.getDay();return e>=4||e===0?zl(t):zl.ceil(t)}function tZ(t,e){return t=W4(t),ze(zl.count(ss(t),t)+(ss(t).getDay()===4),e,2)}function nZ(t){return t.getDay()}function rZ(t,e){return ze(nm.count(ss(t)-1,t),e,2)}function iZ(t,e){return ze(t.getFullYear()%100,e,2)}function sZ(t,e){return t=W4(t),ze(t.getFullYear()%100,e,2)}function aZ(t,e){return ze(t.getFullYear()%1e4,e,4)}function oZ(t,e){var n=t.getDay();return t=n>=4||n===0?zl(t):zl.ceil(t),ze(t.getFullYear()%1e4,e,4)}function lZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ze(e/60|0,"0",2)+ze(e%60,"0",2)}function $2(t,e){return ze(t.getUTCDate(),e,2)}function uZ(t,e){return ze(t.getUTCHours(),e,2)}function cZ(t,e){return ze(t.getUTCHours()%12||12,e,2)}function dZ(t,e){return ze(1+jg.count(as(t),t),e,3)}function H4(t,e){return ze(t.getUTCMilliseconds(),e,3)}function fZ(t,e){return H4(t,e)+"000"}function hZ(t,e){return ze(t.getUTCMonth()+1,e,2)}function pZ(t,e){return ze(t.getUTCMinutes(),e,2)}function mZ(t,e){return ze(t.getUTCSeconds(),e,2)}function gZ(t){var e=t.getUTCDay();return e===0?7:e}function yZ(t,e){return ze(Mg.count(as(t)-1,t),e,2)}function K4(t){var e=t.getUTCDay();return e>=4||e===0?Ul(t):Ul.ceil(t)}function vZ(t,e){return t=K4(t),ze(Ul.count(as(t),t)+(as(t).getUTCDay()===4),e,2)}function xZ(t){return t.getUTCDay()}function wZ(t,e){return ze(rm.count(as(t)-1,t),e,2)}function bZ(t,e){return ze(t.getUTCFullYear()%100,e,2)}function _Z(t,e){return t=K4(t),ze(t.getUTCFullYear()%100,e,2)}function EZ(t,e){return ze(t.getUTCFullYear()%1e4,e,4)}function SZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ul(t):Ul.ceil(t),ze(t.getUTCFullYear()%1e4,e,4)}function TZ(){return"+0000"}function F2(){return"%"}function z2(t){return+t}function U2(t){return Math.floor(+t/1e3)}var Vo,q4,G4;AZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function AZ(t){return Vo=AJ(t),q4=Vo.format,Vo.parse,G4=Vo.utcFormat,Vo.utcParse,Vo}function IZ(t){return new Date(t)}function PZ(t){return t instanceof Date?+t:+new Date(+t)}function qb(t,e,n,r,i,s,a,o,l,u){var c=jb(),d=c.invert,p=c.domain,m=u(".%L"),g=u(":%S"),w=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),_=u("%b %d"),S=u("%B"),C=u("%Y");function k(O){return(l(O)<O?m:o(O)<O?g:a(O)<O?w:s(O)<O?b:r(O)<O?i(O)<O?x:_:n(O)<O?S:C)(O)}return c.invert=function(O){return new Date(d(O))},c.domain=function(O){return arguments.length?p(Array.from(O,PZ)):p().map(IZ)},c.ticks=function(O){var A=p();return t(A[0],A[A.length-1],O??10)},c.tickFormat=function(O,A){return A==null?k:u(A)},c.nice=function(O){var A=p();return(!O||typeof O.range!="function")&&(O=e(A[0],A[A.length-1],O??10)),O?p(R4(A,O)):c},c.copy=function(){return Ud(c,qb(t,e,n,r,i,s,a,o,l,u))},c}function CZ(){return Mr.apply(qb(SJ,TJ,ss,Hb,Rg,Bd,Bb,zb,za,q4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kZ(){return Mr.apply(qb(_J,EJ,as,Kb,Mg,jg,Wb,Ub,za,G4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dg(){var t=0,e=1,n,r,i,s,a=Fn,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(s(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(p){var m,g;return arguments.length?([m,g]=p,a=d(m,g),u):[a(0),a(1)]}}return u.range=c(ru),u.rangeRound=c(Ob),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return s=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function xa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Y4(){var t=va(Dg()(Fn));return t.copy=function(){return xa(t,Y4())},ps.apply(t,arguments)}function Q4(){var t=Db(Dg()).domain([1,10]);return t.copy=function(){return xa(t,Q4()).base(t.base())},ps.apply(t,arguments)}function X4(){var t=Lb(Dg());return t.copy=function(){return xa(t,X4()).constant(t.constant())},ps.apply(t,arguments)}function Gb(){var t=Vb(Dg());return t.copy=function(){return xa(t,Gb()).exponent(t.exponent())},ps.apply(t,arguments)}function NZ(){return Gb.apply(null,arguments).exponent(.5)}function J4(){var t=[],e=Fn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Fd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Js),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>gX(t,s/r))},n.copy=function(){return J4(e).domain(t)},ps.apply(n,arguments)}function Lg(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,u=Fn,c,d=!1,p;function m(w){return isNaN(w=+w)?p:(w=.5+((w=+c(w))-s)*(r*w<r*s?o:l),u(d?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),s=c(e=+e),a=c(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,m):[t,e,n]},m.clamp=function(w){return arguments.length?(d=!!w,m):d},m.interpolator=function(w){return arguments.length?(u=w,m):u};function g(w){return function(b){var x,_,S;return arguments.length?([x,_,S]=b,u=BX(w,[x,_,S]),m):[u(0),u(.5),u(1)]}}return m.range=g(ru),m.rangeRound=g(Ob),m.unknown=function(w){return arguments.length?(p=w,m):p},function(w){return c=w,i=w(t),s=w(e),a=w(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,m}}function Z4(){var t=va(Lg()(Fn));return t.copy=function(){return xa(t,Z4())},ps.apply(t,arguments)}function eD(){var t=Db(Lg()).domain([.1,1,10]);return t.copy=function(){return xa(t,eD()).base(t.base())},ps.apply(t,arguments)}function tD(){var t=Lb(Lg());return t.copy=function(){return xa(t,tD()).constant(t.constant())},ps.apply(t,arguments)}function Yb(){var t=Vb(Lg());return t.copy=function(){return xa(t,Yb()).exponent(t.exponent())},ps.apply(t,arguments)}function OZ(){return Yb.apply(null,arguments).exponent(.5)}const Ju=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cb,scaleDiverging:Z4,scaleDivergingLog:eD,scaleDivergingPow:Yb,scaleDivergingSqrt:OZ,scaleDivergingSymlog:tD,scaleIdentity:j4,scaleImplicit:Lx,scaleLinear:O4,scaleLog:M4,scaleOrdinal:Pb,scalePoint:xX,scalePow:$b,scaleQuantile:V4,scaleQuantize:$4,scaleRadial:L4,scaleSequential:Y4,scaleSequentialLog:Q4,scaleSequentialPow:Gb,scaleSequentialQuantile:J4,scaleSequentialSqrt:NZ,scaleSequentialSymlog:X4,scaleSqrt:fJ,scaleSymlog:D4,scaleThreshold:F4,scaleTime:CZ,scaleUtc:kZ,tickFormat:N4},Symbol.toStringTag,{value:"Module"}));var ms=t=>t.chartData,Vg=z([ms],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),nD=(t,e,n,r)=>r?Vg(t):ms(t),jZ=(t,e,n)=>n?Vg(t):ms(t);function da(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Je(e)&&Je(n))return!0}return!1}function B2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function rD(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Je(n))i=n;else if(typeof n=="function")return;if(Je(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(da(a))return a}}function RZ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(da(r))return B2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(ve(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&uI.test(i)){var l=uI.exec(i);if(l==null||l[1]==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(ve(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&cI.test(s)){var c=cI.exec(s);if(c==null||c[1]==null||e==null)o=void 0;else{var d=+c[1];o=e[1]+d}}else o=e==null?void 0:e[1];var p=[a,o];if(da(p))return e==null?p:B2(p,e,n)}}}var iu=1e9,MZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xb,mt=!0,Rr="[DecimalError] ",Ga=Rr+"Invalid argument: ",Qb=Rr+"Exponent out of range: ",su=Math.floor,ja=Math.pow,DZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,or,nn=1e7,st=7,iD=9007199254740991,im=su(iD/st),de={};de.absoluteValue=de.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};de.comparedTo=de.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};de.decimalPlaces=de.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*st;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};de.dividedBy=de.div=function(t){return qi(this,new this.constructor(t))};de.dividedToIntegerBy=de.idiv=function(t){var e=this,n=e.constructor;return Ze(qi(e,new n(t),0,1),n.precision)};de.equals=de.eq=function(t){return!this.cmp(t)};de.exponent=function(){return Ft(this)};de.greaterThan=de.gt=function(t){return this.cmp(t)>0};de.greaterThanOrEqualTo=de.gte=function(t){return this.cmp(t)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(t){return this.cmp(t)<0};de.lessThanOrEqualTo=de.lte=function(t){return this.cmp(t)<1};de.logarithm=de.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(or))throw Error(Rr+"NaN");if(n.s<1)throw Error(Rr+(n.s?"NaN":"-Infinity"));return n.eq(or)?new r(0):(mt=!1,e=qi(ud(n,s),ud(t,s),s),mt=!0,Ze(e,i))};de.minus=de.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oD(e,t):sD(e,(t.s=-t.s,t))};de.modulo=de.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Rr+"NaN");return n.s?(mt=!1,e=qi(n,t,0,1).times(t),mt=!0,n.minus(e)):Ze(new r(n),i)};de.naturalExponential=de.exp=function(){return aD(this)};de.naturalLogarithm=de.ln=function(){return ud(this)};de.negated=de.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};de.plus=de.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sD(e,t):oD(e,(t.s=-t.s,t))};de.precision=de.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ga+t);if(e=Ft(i)+1,r=i.d.length-1,n=r*st+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};de.squareRoot=de.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Rr+"NaN")}for(t=Ft(o),mt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=ci(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=su((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(qi(o,s,a+2)).times(.5),ci(s.d).slice(0,a)===(e=ci(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ze(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return mt=!0,Ze(r,n)};de.times=de.mul=function(t){var e,n,r,i,s,a,o,l,u,c=this,d=c.constructor,p=c.d,m=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=p.length,u=m.length,l<u&&(s=p,p=m,m=s,a=l,l=u,u=a),s=[],a=l+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+m[r]*p[i-r-1]+e,s[i--]=o%nn|0,e=o/nn|0;s[i]=(s[i]+e)%nn|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,mt?Ze(t,d.precision):t};de.toDecimalPlaces=de.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Si(t,0,iu),e===void 0?e=r.rounding:Si(e,0,8),Ze(n,t+Ft(n)+1,e))};de.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=mo(r,!0):(Si(t,0,iu),e===void 0?e=i.rounding:Si(e,0,8),r=Ze(new i(r),t+1,e),n=mo(r,!0,t+1)),n};de.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?mo(i):(Si(t,0,iu),e===void 0?e=s.rounding:Si(e,0,8),r=Ze(new s(i),t+Ft(i)+1,e),n=mo(r.abs(),!1,t+Ft(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};de.toInteger=de.toint=function(){var t=this,e=t.constructor;return Ze(new e(t),Ft(t)+1,e.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(or);if(o=new l(o),!o.s){if(t.s<1)throw Error(Rr+"Infinity");return o}if(o.eq(or))return o;if(r=l.precision,t.eq(or))return Ze(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=c<0?-c:c)<=iD){for(i=new l(or),e=Math.ceil(r/st+4),mt=!1;n%2&&(i=i.times(o),H2(i.d,e)),n=su(n/2),n!==0;)o=o.times(o),H2(o.d,e);return mt=!0,t.s<0?new l(or).div(i):Ze(i,r)}}else if(s<0)throw Error(Rr+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,mt=!1,i=t.times(ud(o,r+u)),mt=!0,i=aD(i),i.s=s,i};de.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Ft(i),r=mo(i,n<=s.toExpNeg||n>=s.toExpPos)):(Si(t,1,iu),e===void 0?e=s.rounding:Si(e,0,8),i=Ze(new s(i),t,e),n=Ft(i),r=mo(i,t<=n||n<=s.toExpNeg,t)),r};de.toSignificantDigits=de.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Si(t,1,iu),e===void 0?e=r.rounding:Si(e,0,8)),Ze(new r(n),t,e)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ft(t),n=t.constructor;return mo(t,e<=n.toExpNeg||e>=n.toExpPos)};function sD(t,e){var n,r,i,s,a,o,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),mt?Ze(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=u.length):(r=u,i=a,o=l.length),a=Math.ceil(d/st),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,r=u,u=l,l=r),n=0;s;)n=(l[--s]=l[s]+u[s]+n)/nn|0,l[s]%=nn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,mt?Ze(e,d):e}function Si(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ga+t)}function ci(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=st-r.length,n&&(s+=Is(n)),s+=r;a=t[e],r=a+"",n=st-r.length,n&&(s+=Is(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var qi=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%nn|0,a=s/nn|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*nn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,u,c,d,p,m,g,w,b,x,_,S,C,k,O,A,T,I=r.constructor,N=r.s==i.s?1:-1,P=r.d,R=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Rr+"Division by zero");for(l=r.e-i.e,A=R.length,k=P.length,m=new I(N),g=m.d=[],u=0;R[u]==(P[u]||0);)++u;if(R[u]>(P[u]||0)&&--l,s==null?_=s=I.precision:a?_=s+(Ft(r)-Ft(i))+1:_=s,_<0)return new I(0);if(_=_/st+2|0,u=0,A==1)for(c=0,R=R[0],_++;(u<k||c)&&_--;u++)S=c*nn+(P[u]||0),g[u]=S/R|0,c=S%R|0;else{for(c=nn/(R[0]+1)|0,c>1&&(R=t(R,c),P=t(P,c),A=R.length,k=P.length),C=A,w=P.slice(0,A),b=w.length;b<A;)w[b++]=0;T=R.slice(),T.unshift(0),O=R[0],R[1]>=nn/2&&++O;do c=0,o=e(R,w,A,b),o<0?(x=w[0],A!=b&&(x=x*nn+(w[1]||0)),c=x/O|0,c>1?(c>=nn&&(c=nn-1),d=t(R,c),p=d.length,b=w.length,o=e(d,w,p,b),o==1&&(c--,n(d,A<p?T:R,p))):(c==0&&(o=c=1),d=R.slice()),p=d.length,p<b&&d.unshift(0),n(w,d,b),o==-1&&(b=w.length,o=e(R,w,A,b),o<1&&(c++,n(w,A<b?T:R,b))),b=w.length):o===0&&(c++,w=[0]),g[u++]=c,o&&w[0]?w[b++]=P[C]||0:(w=[P[C]],b=1);while((C++<k||w[0]!==void 0)&&_--)}return g[0]||g.shift(),m.e=l,Ze(m,a?s+Ft(m)+1:s)}}();function aD(t,e){var n,r,i,s,a,o,l=0,u=0,c=t.constructor,d=c.precision;if(Ft(t)>16)throw Error(Qb+Ft(t));if(!t.s)return new c(or);for(mt=!1,o=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(ja(2,u))/Math.LN10*2+5|0,o+=r,n=i=s=new c(or),c.precision=o;;){if(i=Ze(i.times(t),o),n=n.times(++l),a=s.plus(qi(i,n,o)),ci(a.d).slice(0,o)===ci(s.d).slice(0,o)){for(;u--;)s=Ze(s.times(s),o);return c.precision=d,e==null?(mt=!0,Ze(s,d)):s}s=a}}function Ft(t){for(var e=t.e*st,n=t.d[0];n>=10;n/=10)e++;return e}function Sv(t,e,n){if(e>t.LN10.sd())throw mt=!0,n&&(t.precision=n),Error(Rr+"LN10 precision limit exceeded");return Ze(new t(t.LN10),e)}function Is(t){for(var e="";t--;)e+="0";return e}function ud(t,e){var n,r,i,s,a,o,l,u,c,d=1,p=10,m=t,g=m.d,w=m.constructor,b=w.precision;if(m.s<1)throw Error(Rr+(m.s?"NaN":"-Infinity"));if(m.eq(or))return new w(0);if(e==null?(mt=!1,u=b):u=e,m.eq(10))return e==null&&(mt=!0),Sv(w,u);if(u+=p,w.precision=u,n=ci(g),r=n.charAt(0),s=Ft(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=ci(m.d),r=n.charAt(0),d++;s=Ft(m),r>1?(m=new w("0."+n),s++):m=new w(r+"."+n.slice(1))}else return l=Sv(w,u+2,b).times(s+""),m=ud(new w(r+"."+n.slice(1)),u-p).plus(l),w.precision=b,e==null?(mt=!0,Ze(m,b)):m;for(o=a=m=qi(m.minus(or),m.plus(or),u),c=Ze(m.times(m),u),i=3;;){if(a=Ze(a.times(c),u),l=o.plus(qi(a,new w(i),u)),ci(l.d).slice(0,u)===ci(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(Sv(w,u+2,b).times(s+""))),o=qi(o,new w(d),u),w.precision=b,e==null?(mt=!0,Ze(o,b)):o;o=l,i+=2}}function W2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=su(n/st),t.d=[],r=(n+1)%st,n<0&&(r+=st),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=st;r<i;)t.d.push(+e.slice(r,r+=st));e=e.slice(r),r=st-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),mt&&(t.e>im||t.e<-im))throw Error(Qb+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ze(t,e,n){var r,i,s,a,o,l,u,c,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=st,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/st),s=d.length,c>=s)return t;for(u=s=d[c],a=1;s>=10;s/=10)a++;r%=st,i=r-st+a}if(n!==void 0&&(s=ja(10,a-i-1),o=u/s%10|0,l=e<0||d[c+1]!==void 0||u%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/ja(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(s=Ft(t),d.length=1,e=e-s-1,d[0]=ja(10,(st-e%st)%st),t.e=su(-e/st)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,s=1,c--):(d.length=c+1,s=ja(10,st-r),d[c]=i>0?(u/ja(10,a-i)%ja(10,i)|0)*s:0),l)for(;;)if(c==0){(d[0]+=s)==nn&&(d[0]=1,++t.e);break}else{if(d[c]+=s,d[c]!=nn)break;d[c--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(mt&&(t.e>im||t.e<-im))throw Error(Qb+Ft(t));return t}function oD(t,e){var n,r,i,s,a,o,l,u,c,d,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),mt?Ze(e,m):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,o=d.length):(n=d,r=u,o=l.length),i=Math.max(Math.ceil(m/st),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=nn-1;--l[s],l[i]+=nn}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,mt?Ze(e,m):e):new p(0)}function mo(t,e,n){var r,i=Ft(t),s=ci(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Is(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Is(-i-1)+s,n&&(r=n-a)>0&&(s+=Is(r))):i>=a?(s+=Is(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Is(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Is(r))),t.s<0?"-"+s:s}function H2(t,e){if(t.length>e)return t.length=e,!0}function lD(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ga+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return W2(a,s.toString())}else if(typeof s!="string")throw Error(Ga+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,DZ.test(s))W2(a,s);else throw Error(Ga+s)}if(i.prototype=de,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lD,i.config=i.set=LZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function LZ(t){if(!t||typeof t!="object")throw Error(Rr+"Object expected");var e,n,r,i=["precision",1,iu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(su(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ga+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ga+n+": "+r);return this}var Xb=lD(MZ);or=new Xb(1);const qe=Xb;var VZ=t=>t,uD={},cD=t=>t===uD,K2=t=>function e(){return arguments.length===0||arguments.length===1&&cD(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},dD=(t,e)=>t===1?e:K2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==uD).length;return s>=t?e(...r):dD(t-s,K2(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=r.map(c=>cD(c)?o.shift():c);return e(...u,...o)}))}),$Z=t=>dD(t.length,t),zx=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},FZ=$Z((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),zZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return VZ;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}};function fD(t){var e;return t===0?e=1:e=Math.floor(new qe(t).abs().log(10).toNumber())+1,e}function hD(t,e,n){for(var r=new qe(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var pD=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},mD=(t,e,n)=>{if(t.lte(0))return new qe(0);var r=fD(t.toNumber()),i=new qe(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new qe(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?new qe(l.toNumber()):new qe(Math.ceil(l.toNumber()))},UZ=(t,e,n)=>{var r=new qe(1),i=new qe(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new qe(10).pow(fD(t)-1),i=new qe(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new qe(Math.floor(t)))}else t===0?i=new qe(Math.floor((e-1)/2)):n||(i=new qe(Math.floor(t)));var a=Math.floor((e-1)/2),o=zZ(FZ(l=>i.add(new qe(l-a).mul(r)).toNumber()),zx);return o(0,e)},gD=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new qe(0),tickMin:new qe(0),tickMax:new qe(0)};var a=mD(new qe(n).sub(e).div(r-1),i,s),o;e<=0&&n>=0?o=new qe(0):(o=new qe(e).add(n).div(2),o=o.sub(new qe(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new qe(n).sub(o).div(a).toNumber()),c=l+u+1;return c>r?gD(e,n,r,i,s+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:a,tickMin:o.sub(new qe(l).mul(a)),tickMax:o.add(new qe(u).mul(a))})},BZ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=pD([n,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...zx(0,i-1).map(()=>1/0)]:[...zx(0,i-1).map(()=>-1/0),l];return n>r?u.reverse():u}if(o===l)return UZ(o,i,s);var{step:c,tickMin:d,tickMax:p}=gD(o,l,a,s,0),m=hD(d,p.add(new qe(.1).mul(c)),c);return n>r?m.reverse():m},WZ=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=pD([r,i]);if(a===-1/0||o===1/0)return[r,i];if(a===o)return[a];var l=Math.max(n,2),u=mD(new qe(o).sub(a).div(l-1),s,0),c=[...hD(new qe(a),new qe(o),u),o];return s===!1&&(c=c.map(d=>Math.round(d))),r>i?c.reverse():c},yD=t=>t.rootProps.maxBarSize,HZ=t=>t.rootProps.barGap,vD=t=>t.rootProps.barCategoryGap,KZ=t=>t.rootProps.barSize,Wd=t=>t.rootProps.stackOffset,xD=t=>t.rootProps.reverseStackOrder,Jb=t=>t.options.chartName,Zb=t=>t.rootProps.syncId,wD=t=>t.rootProps.syncMethod,e_=t=>t.options.eventEmitter,gn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Li={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ar={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},$g=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},qZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Li.angleAxisId,includeHidden:!1,name:void 0,reversed:Li.reversed,scale:Li.scale,tick:Li.tick,tickCount:void 0,ticks:void 0,type:Li.type,unit:void 0},GZ={allowDataOverflow:ar.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ar.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ar.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ar.scale,tick:ar.tick,tickCount:ar.tickCount,ticks:void 0,type:ar.type,unit:void 0},YZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Li.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Li.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Li.scale,tick:Li.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},QZ={allowDataOverflow:ar.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ar.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ar.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ar.scale,tick:ar.tick,tickCount:ar.tickCount,ticks:void 0,type:"category",unit:void 0},t_=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?YZ:qZ,n_=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?QZ:GZ,Fg=t=>t.polarOptions,r_=z([fs,hs,qt],p4),bD=z([Fg,r_],(t,e)=>{if(t!=null)return Nn(t.innerRadius,e,0)}),_D=z([Fg,r_],(t,e)=>{if(t!=null)return Nn(t.outerRadius,e,e*.8)}),XZ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},ED=z([Fg],XZ);z([t_,ED],$g);var SD=z([r_,bD,_D],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});z([n_,SD],$g);var TD=z([Ue,Fg,bD,_D,fs,hs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:Nn(a,i,i/2),cy:Nn(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),gt=(t,e)=>e,Hd=(t,e,n)=>n;function i_(t){return t==null?void 0:t.id}function AD(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=i_(o);u.forEach((d,p)=>{var m=s==null||i?p:String(lt(d,s,null)),g=lt(d,o.dataKey,0),w;a.has(m)?w=a.get(m):w={},Object.assign(w,{[c]:g}),a.set(m,w)})}}),Array.from(a.values())}function zg(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Ug=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Bg(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function JZ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Yt=t=>{var e=Ue(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},au=t=>t.tooltip.settings.axisId;function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){ZZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZZ(t,e,n){return(e=eee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eee(t){var e=tee(t,"string");return typeof e=="symbol"?e:e+""}function tee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ux=[0,"auto"],Zt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ID=(t,e)=>t.cartesianAxis.xAxis[e],Ti=(t,e)=>{var n=ID(t,e);return n??Zt},en={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ux,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Dd},PD=(t,e)=>t.cartesianAxis.yAxis[e],Ai=(t,e)=>{var n=PD(t,e);return n??en},nee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},s_=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??nee},Et=(t,e,n)=>{switch(e){case"xAxis":return Ti(t,n);case"yAxis":return Ai(t,n);case"zAxis":return s_(t,n);case"angleAxis":return t_(t,n);case"radiusAxis":return n_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ree=(t,e,n)=>{switch(e){case"xAxis":return Ti(t,n);case"yAxis":return Ai(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Kd=(t,e,n)=>{switch(e){case"xAxis":return Ti(t,n);case"yAxis":return Ai(t,n);case"angleAxis":return t_(t,n);case"radiusAxis":return n_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},CD=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function a_(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var o_=t=>t.graphicalItems.cartesianItems,iee=z([gt,Hd],a_),l_=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),qd=z([o_,Et,iee],l_,{memoizeOptions:{resultEqualityCheck:Bg}}),kD=z([qd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(zg)),ND=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),see=z([qd],ND),u_=t=>t.map(e=>e.data).filter(Boolean).flat(1),aee=z([qd],u_,{memoizeOptions:{resultEqualityCheck:Bg}}),c_=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},d_=z([aee,nD],c_),f_=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:lt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:lt(i,r)}))):t.map(r=>({value:r})),Wg=z([d_,Et,qd],f_);function OD(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Oh(t){if(Or(t)||t instanceof Date){var e=Number(t);if(Je(e))return e}}function G2(t){if(Array.isArray(t)){var e=[Oh(t[0]),Oh(t[1])];return da(e)?e:void 0}var n=Oh(t);if(n!=null)return[n,n]}function os(t){return t.map(Oh).filter(DK)}function oee(t,e,n){return!n||typeof e!="number"||Nr(e)?[]:n.length?os(n.flatMap(r=>{var i=lt(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Je(s)||!Je(a)))return[e-s,e+a]})):[]}var Qt=t=>{var e=Yt(t),n=au(t);return Kd(t,e,n)},Gd=z([Qt],t=>t==null?void 0:t.dataKey),lee=z([kD,nD,Qt],AD),jD=(t,e,n,r)=>{var i={},s=e.reduce((a,o)=>{if(o.stackId==null)return a;var l=a[o.stackId];return l==null&&(l=[]),l.push(o),a[o.stackId]=l,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,u=r?[...l].reverse():l,c=u.map(i_);return[o,{stackedData:KG(t,c,n),graphicalItems:u}]}))},Bx=z([lee,kD,Wd,xD],jD),RD=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var a=XG(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},uee=z([Et],t=>t.allowDataOverflow),h_=t=>{var e;if(t==null||!("domain"in t))return Ux;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=os(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Ux},p_=z([Et],h_),m_=z([p_,uee],rD),cee=z([Bx,ms,gt,m_],RD,{memoizeOptions:{resultEqualityCheck:Ug}}),Hg=t=>t.errorBars,dee=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>OD(n,r)),am=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},g_=(t,e,n,r,i)=>{var s,a;if(n.length>0&&t.forEach(o=>{n.forEach(l=>{var u,c,d=(u=r[l.id])===null||u===void 0?void 0:u.filter(x=>OD(i,x)),p=lt(o,(c=e.dataKey)!==null&&c!==void 0?c:l.dataKey),m=oee(o,p,d);if(m.length>=2){var g=Math.min(...m),w=Math.max(...m);(s==null||g<s)&&(s=g),(a==null||w>a)&&(a=w)}var b=G2(p);b!=null&&(s=s==null?b[0]:Math.min(s,b[0]),a=a==null?b[1]:Math.max(a,b[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var l=G2(lt(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),Je(s)&&Je(a))return[s,a]},fee=z([d_,Et,see,Hg,gt],g_,{memoizeOptions:{resultEqualityCheck:Ug}});function hee(t){var{value:e}=t;if(Or(e)||e instanceof Date)return e}var pee=(t,e,n)=>{var r=t.map(hee).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&RR(r))?b4(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},MD=t=>t.referenceElements.dots,ou=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),mee=z([MD,gt,Hd],ou),DD=t=>t.referenceElements.areas,gee=z([DD,gt,Hd],ou),LD=t=>t.referenceElements.lines,yee=z([LD,gt,Hd],ou),VD=(t,e)=>{if(t!=null){var n=os(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},vee=z(mee,gt,VD),$D=(t,e)=>{if(t!=null){var n=os(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},xee=z([gee,gt],$D);function wee(t){var e;if(t.x!=null)return os([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:os(n)}function bee(t){var e;if(t.y!=null)return os([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:os(n)}var FD=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?wee(r):bee(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},_ee=z([yee,gt],FD),Eee=z(vee,_ee,xee,(t,e,n)=>am(t,n,e)),y_=(t,e,n,r,i,s,a,o)=>{if(n!=null)return n;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?am(r,s,i):am(s,i);return RZ(e,u,t.allowDataOverflow)},See=z([Et,p_,m_,cee,fee,Eee,Ue,gt],y_,{memoizeOptions:{resultEqualityCheck:Ug}}),Tee=[0,1],v_=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:o,type:l}=t,u=So(e,s);if(u&&o==null){var c;return b4(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?pee(r,t,u):i==="expand"?Tee:a}},x_=z([Et,Ue,d_,Wg,Wd,gt,See],v_),zD=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Nd(s));return o in Ju?o:"point"}}},lu=z([Et,Ue,CD,Jb,gt],zD);function Aee(t){if(t!=null){if(t in Ju)return Ju[t]();var e="scale".concat(Nd(t));if(e in Ju)return Ju[e]()}}function w_(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Aee(e);if(i!=null){var s=i.domain(n).range(r);return zG(s),s}}}var b_=(t,e,n)=>{var r=h_(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&da(t))return BZ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&da(t))return WZ(t,e.tickCount,e.allowDecimals)}},__=z([x_,Kd,lu],b_),E_=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&da(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],o=n[n.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},Iee=z([Et,x_,__,gt],E_),Pee=z(Wg,Et,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(os(t.map(d=>d.value))).sort((d,p)=>d-p),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],u=r[o+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/a}}),UD=z(Pee,Ue,vD,qt,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Je(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Nn(n,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),Cee=(t,e,n)=>{var r=Ti(t,e);return r==null||typeof r.padding!="string"?0:UD(t,"xAxis",e,n,r.padding)},kee=(t,e,n)=>{var r=Ai(t,e);return r==null||typeof r.padding!="string"?0:UD(t,"yAxis",e,n,r.padding)},Nee=z(Ti,Cee,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Oee=z(Ai,kee,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),jee=z([qt,Nee,Sg,Eg,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Ree=z([qt,Ue,Oee,Sg,Eg,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Yd=(t,e,n,r)=>{var i;switch(e){case"xAxis":return jee(t,n,r);case"yAxis":return Ree(t,n,r);case"zAxis":return(i=s_(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return ED(t);case"radiusAxis":return SD(t,n);default:return}},BD=z([Et,Yd],$g),Bl=z([Et,lu,Iee,BD],w_);z([qd,Hg,gt],dee);function WD(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Kg=(t,e)=>e,qg=(t,e,n)=>n,Mee=z(bg,Kg,qg,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(WD)),Dee=z(_g,Kg,qg,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(WD)),HD=(t,e)=>({width:t.width,height:e.height}),Lee=(t,e)=>{var n=typeof e.width=="number"?e.width:Dd;return{width:n,height:t.height}},KD=z(qt,Ti,HD),Vee=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},$ee=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Fee=z(hs,qt,Mee,Kg,qg,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=HD(e,o);a==null&&(a=Vee(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),zee=z(fs,qt,Dee,Kg,qg,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=Lee(e,o);a==null&&(a=$ee(e,r,t));var u=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),Uee=(t,e)=>{var n=Ti(t,e);if(n!=null)return Fee(t,n.orientation,n.mirror)},Bee=z([qt,Ti,Uee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Wee=(t,e)=>{var n=Ai(t,e);if(n!=null)return zee(t,n.orientation,n.mirror)},Hee=z([qt,Ai,Wee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),qD=z(qt,Ai,(t,e)=>{var n=typeof e.width=="number"?e.width:Dd;return{width:n,height:t.height}}),Y2=(t,e,n)=>{switch(e){case"xAxis":return KD(t,n).width;case"yAxis":return qD(t,n).height;default:return}},GD=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,o=So(t,r),l=e.map(u=>u.value);if(a&&o&&s==="category"&&i&&RR(l))return l}},S_=z([Ue,Wg,Et,gt],GD),YD=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=So(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},T_=z([Ue,Wg,Kd,gt],YD);z([Ue,ree,lu,Bl,S_,T_,Yd,__,gt],(t,e,n,r,i,s,a,o,l)=>{if(e!=null){var u=So(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:o,range:a,realScaleType:n,scale:r}}});var Kee=(t,e,n,r,i,s,a,o,l)=>{if(!(e==null||r==null)){var u=So(t,l),{type:c,ticks:d,tickCount:p}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/m:0;g=l==="angleAxis"&&s!=null&&s.length>=2?mn(s[0]-s[1])*2*g:g;var w=d||i;if(w){var b=w.map((x,_)=>{var S=a?a.indexOf(x):x;return{index:_,coordinate:r(S)+g,value:x,offset:g}});return b.filter(x=>Je(x.coordinate))}return u&&o?o.map((x,_)=>({coordinate:r(x)+g,value:x,index:_,offset:g})).filter(x=>Je(x.coordinate)):r.ticks?r.ticks(p).map(x=>({coordinate:r(x)+g,value:x,offset:g})):r.domain().map((x,_)=>({coordinate:r(x)+g,value:a?a[x]:x,index:_,offset:g}))}},QD=z([Ue,Kd,lu,Bl,__,Yd,S_,T_,gt],Kee),qee=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=So(t,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?mn(r[0]-r[1])*2*u:u,o&&s?s.map((c,d)=>({coordinate:n(c)+u,value:c,index:d,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,d)=>({coordinate:n(c)+u,value:i?i[c]:c,index:d,offset:u}))}},Wl=z([Ue,Kd,Bl,Yd,S_,T_,gt],qee),Hl=z(Et,Bl,(t,e)=>{if(!(t==null||e==null))return sm(sm({},t),{},{scale:e})}),Gee=z([Et,lu,x_,BD],w_);z((t,e,n)=>s_(t,n),Gee,(t,e)=>{if(!(t==null||e==null))return sm(sm({},t),{},{scale:e})});var Yee=z([Ue,bg,_g],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),XD=t=>t.options.defaultTooltipEventType,JD=t=>t.options.validateTooltipEventTypes;function ZD(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function A_(t,e){var n=XD(t),r=JD(t);return ZD(e,n,r)}function Qee(t){return pe(e=>A_(e,t))}var e3=(t,e)=>{var n,r=Number(e);if(!(Nr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Xee=t=>t.tooltip.settings,Rs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Jee={itemInteraction:{click:Rs,hover:Rs},axisInteraction:{click:Rs,hover:Rs},keyboardInteraction:Rs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},t3=nr({name:"tooltip",initialState:Jee,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:ht()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zr(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:ht()},removeTooltipEntrySettings:{reducer(t,e){var n=Zr(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:ht()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Zee,replaceTooltipEntrySettings:ete,removeTooltipEntrySettings:tte,setTooltipSettingsState:nte,setActiveMouseOverItemIndex:n3,mouseLeaveItem:rte,mouseLeaveChart:r3,setActiveClickItemIndex:ite,setMouseOverAxisIndex:i3,setMouseClickAxisIndex:ste,setSyncInteraction:Wx,setKeyboardInteraction:Hx}=t3.actions,ate=t3.reducer;function Q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(n),!0).forEach(function(r){ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ote(t,e,n){return(e=lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cte(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function dte(t){return t.index!=null}var s3=(t,e,n,r)=>{if(e==null)return Rs;var i=cte(t,e,n);if(i==null)return Rs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(dte(i)){if(s)return nh(nh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return nh(nh({},Rs),{},{coordinate:i.coordinate})};function fte(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function hte(t,e){var n=fte(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function pte(t,e,n){if(n==null||e==null)return!0;var r=lt(t,e);return r==null||!da(n)?!0:hte(r,n)}var I_=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var s=Number(i);if(!Je(s))return i;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),u=e[l];return u==null||pte(u,n,r)?String(l):null},a3=(t,e,n,r,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var c=i==null?void 0:i[Number(s)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:c.coordinate}}}},o3=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Qd=t=>t.options.tooltipPayloadSearcher,uu=t=>t.tooltip;function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(n),!0).forEach(function(r){mte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mte(t,e,n){return(e=gte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gte(t){var e=yte(t,"string");return typeof e=="symbol"?e:e+""}function yte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vte(t,e){return t??e}var l3=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,d=[];return t.reduce((p,m)=>{var g,{dataDefinedOnItem:w,settings:b}=m,x=vte(w,o),_=Array.isArray(x)?zM(x,u,c):x,S=(g=b==null?void 0:b.dataKey)!==null&&g!==void 0?g:r,C=b==null?void 0:b.nameKey,k;if(r&&Array.isArray(_)&&!Array.isArray(_[0])&&a==="axis"?k=MK(_,r,i):k=s(_,e,l,C),Array.isArray(k))k.forEach(A=>{var T=J2(J2({},b),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});p.push(dI({tooltipEntrySettings:T,dataKey:A.dataKey,payload:A.payload,value:lt(A.payload,A.dataKey),name:A.name}))});else{var O;p.push(dI({tooltipEntrySettings:b,dataKey:S,payload:k,value:lt(k,S),name:(O=lt(k,C))!==null&&O!==void 0?O:b==null?void 0:b.name}))}return p},d)}},P_=z([Qt,Ue,CD,Jb,Yt],zD),xte=z([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),wte=z([Yt,au],a_),cu=z([xte,Qt,wte],l_,{memoizeOptions:{resultEqualityCheck:Bg}}),bte=z([cu],t=>t.filter(zg)),_te=z([cu],u_,{memoizeOptions:{resultEqualityCheck:Bg}}),du=z([_te,ms],c_),Ete=z([bte,ms,Qt],AD),C_=z([du,Qt,cu],f_),u3=z([Qt],h_),Ste=z([Qt],t=>t.allowDataOverflow),c3=z([u3,Ste],rD),Tte=z([cu],t=>t.filter(zg)),Ate=z([Ete,Tte,Wd,xD],jD),Ite=z([Ate,ms,Yt,c3],RD),Pte=z([cu],ND),Cte=z([du,Qt,Pte,Hg,Yt],g_,{memoizeOptions:{resultEqualityCheck:Ug}}),kte=z([MD,Yt,au],ou),Nte=z([kte,Yt],VD),Ote=z([DD,Yt,au],ou),jte=z([Ote,Yt],$D),Rte=z([LD,Yt,au],ou),Mte=z([Rte,Yt],FD),Dte=z([Nte,Mte,jte],am),Lte=z([Qt,u3,c3,Ite,Cte,Dte,Ue,Yt],y_),Xd=z([Qt,Ue,du,C_,Wd,Yt,Lte],v_),Vte=z([Xd,Qt,P_],b_),$te=z([Qt,Xd,Vte,Yt],E_),d3=t=>{var e=Yt(t),n=au(t),r=!1;return Yd(t,e,n,r)},f3=z([Qt,d3],$g),h3=z([Qt,P_,$te,f3],w_),Fte=z([Ue,C_,Qt,Yt],GD),zte=z([Ue,C_,Qt,Yt],YD),Ute=(t,e,n,r,i,s,a,o)=>{if(e){var{type:l}=e,u=So(t,o);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?mn(i[0]-i[1])*2*d:d,u&&a?a.map((p,m)=>({coordinate:r(p)+d,value:p,index:m,offset:d})):r.domain().map((p,m)=>({coordinate:r(p)+d,value:s?s[p]:p,index:m,offset:d}))}}},gs=z([Ue,Qt,P_,h3,d3,Fte,zte,Yt],Ute),k_=z([XD,JD,Xee],(t,e,n)=>ZD(n.shared,t,e)),p3=t=>t.tooltip.settings.trigger,N_=t=>t.tooltip.settings.defaultIndex,Jd=z([uu,k_,p3,N_],s3),go=z([Jd,du,Gd,Xd],I_),m3=z([gs,go],e3),O_=z([Jd],t=>{if(t)return t.dataKey}),Bte=z([Jd],t=>{if(t)return t.graphicalItemId}),g3=z([uu,k_,p3,N_],o3),Wte=z([fs,hs,Ue,qt,gs,N_,g3,Qd],a3),Hte=z([Jd,Wte],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Kte=z([Jd],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),qte=z([g3,go,ms,Gd,m3,Qd,k_],l3);z([qte],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){Gte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gte(t,e,n){return(e=Yte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yte(t){var e=Qte(t,"string");return typeof e=="symbol"?e:e+""}function Qte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xte=()=>pe(Qt),Jte=()=>{var t=Xte(),e=pe(gs),n=pe(h3);return Fp(!t||!n?void 0:eP(eP({},t),{},{scale:n}),e)};function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){Zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zte(t,e,n){return(e=ene(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ene(t){var e=tne(t,"string");return typeof e=="symbol"?e:e+""}function tne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nne=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},rne=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=r;return $o($o($o({},r),$t(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return $o($o($o({},r),$t(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function ine(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var y3=(t,e,n,r,i)=>{var s,a=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<a;o++){var l,u,c,d,p,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(u=n[a-1])===null||u===void 0?void 0:u.coordinate,g=(c=n[o])===null||c===void 0?void 0:c.coordinate,w=o>=a-1?(d=n[0])===null||d===void 0?void 0:d.coordinate:(p=n[o+1])===null||p===void 0?void 0:p.coordinate,b=void 0;if(!(m==null||g==null||w==null))if(mn(g-m)!==mn(w-g)){var x=[];if(mn(w-g)===mn(i[1]-i[0])){b=w;var _=g+i[1]-i[0];x[0]=Math.min(_,(_+m)/2),x[1]=Math.max(_,(_+m)/2)}else{b=m;var S=w+i[1]-i[0];x[0]=Math.min(g,(S+g)/2),x[1]=Math.max(g,(S+g)/2)}var C=[Math.min(g,(b+g)/2),Math.max(g,(b+g)/2)];if(t>C[0]&&t<=C[1]||t>=x[0]&&t<=x[1]){var k;return(k=n[o])===null||k===void 0?void 0:k.index}}else{var O=Math.min(m,w),A=Math.max(m,w);if(t>(O+g)/2&&t<=(A+g)/2){var T;return(T=n[o])===null||T===void 0?void 0:T.index}}}else if(e)for(var I=0;I<a;I++){var N=e[I];if(N!=null){var P=e[I+1],R=e[I-1];if(I===0&&P!=null&&t<=(N.coordinate+P.coordinate)/2||I===a-1&&R!=null&&t>(N.coordinate+R.coordinate)/2||I>0&&I<a-1&&R!=null&&P!=null&&t>(N.coordinate+R.coordinate)/2&&t<=(N.coordinate+P.coordinate)/2)return N.index}}return-1},sne=()=>pe(Jb),j_=(t,e)=>e,v3=(t,e,n)=>n,R_=(t,e,n,r)=>r,ane=z(gs,t=>dg(t,e=>e.coordinate)),M_=z([uu,j_,v3,R_],s3),D_=z([M_,du,Gd,Xd],I_),one=(t,e,n)=>{if(e!=null){var r=uu(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},x3=z([uu,j_,v3,R_],o3),om=z([fs,hs,Ue,qt,gs,R_,x3,Qd],a3),lne=z([M_,om],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),w3=z([gs,D_],e3),une=z([x3,D_,ms,Gd,w3,Qd,j_],l3),cne=z([M_,D_],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),dne=(t,e,n,r,i,s,a)=>{if(!(!t||!n||!r||!i)&&ine(t,a)){var o=JG(t,e),l=y3(o,s,i,n,r),u=nne(e,i,l,t);return{activeIndex:String(l),activeCoordinate:u}}},fne=(t,e,n,r,i,s,a)=>{if(!(!t||!r||!i||!s||!n)){var o=ZQ(t,n);if(o){var l=ZG(o,e),u=y3(l,a,s,r,i),c=rne(e,s,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},hne=(t,e,n,r,i,s,a,o)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?dne(t,e,r,i,s,a,o):fne(t,e,n,r,i,s,a)},pne=z(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),mne=z(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(gn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:JZ}});function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gne(t,e,n){return(e=yne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yne(t){var e=vne(t,"string");return typeof e=="symbol"?e:e+""}function vne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xne={},wne={zIndexMap:Object.values(gn).reduce((t,e)=>rP(rP({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),xne)},bne=new Set(Object.values(gn));function _ne(t){return bne.has(t)}var b3=nr({name:"zIndex",initialState:wne,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ht()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!_ne(n)&&delete t.zIndexMap[n])},prepare:ht()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:ht()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:ht()}}}),{registerZIndexPortal:Ene,unregisterZIndexPortal:Sne,registerZIndexPortalElement:Tne,unregisterZIndexPortalElement:Ane}=b3.actions,Ine=b3.reducer;function ri(t){var{zIndex:e,children:n}=t,r=PY(),i=r&&e!==void 0&&e!==0,s=rr(),a=ut();v.useLayoutEffect(()=>i?(a(Ene({zIndex:e})),()=>{a(Sne({zIndex:e}))}):Od,[a,e,i]);var o=pe(l=>pne(l,e,s));return i?o?J1.createPortal(n,o):null:n}function Kx(){return Kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kx.apply(null,arguments)}function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){Pne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pne(t,e,n){return(e=Cne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=kne(t,"string");return typeof e=="symbol"?e:e+""}function kne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nne(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return v.isValidElement(e)?v.cloneElement(e,r):v.createElement(n,r)}function One(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:c}=t,d=n,p=r,m=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var g,w,b;if(c==="ScatterChart")g=d,w=hQ,b=gn.cursorLine;else if(c==="BarChart")g=pQ(o,d,s,a),w=h4,b=gn.cursorRectangle;else if(o==="radial"&&LR(d)){var{cx:x,cy:_,radius:S,startAngle:C,endAngle:k}=m4(d);g={cx:x,cy:_,startAngle:C,endAngle:k,innerRadius:S,outerRadius:S},w=y4,b=gn.cursorLine}else g={points:rX(o,d,s)},w=Ab,b=gn.cursorLine;var O=typeof l=="object"&&"className"in l?l.className:void 0,A=rh(rh(rh(rh({stroke:"#ccc",pointerEvents:"none"},s),g),Qc(l)),{},{payload:p,payloadIndex:m,className:Ye("recharts-tooltip-cursor",O)});return v.createElement(ri,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:b},v.createElement(Nne,{cursor:l,cursorComp:w,cursorProps:A}))}function jne(t){var e=Jte(),n=TY(),r=Vd(),i=sne();return e==null||n==null||r==null||i==null?null:v.createElement(One,Kx({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var _3=v.createContext(null),Rne=()=>v.useContext(_3),E3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,d,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,p),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,g=new Array(m);p<m;p++)g[p]=d[p].fn;return g},o.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,p,m,g){var w=n?n+u:u;if(!this._events[w])return!1;var b=this._events[w],x=arguments.length,_,S;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,d),!0;case 4:return b.fn.call(b.context,c,d,p),!0;case 5:return b.fn.call(b.context,c,d,p,m),!0;case 6:return b.fn.call(b.context,c,d,p,m,g),!0}for(S=1,_=new Array(x-1);S<x;S++)_[S-1]=arguments[S];b.fn.apply(b.context,_)}else{var C=b.length,k;for(S=0;S<C;S++)switch(b[S].once&&this.removeListener(u,b[S].fn,void 0,!0),x){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,c);break;case 3:b[S].fn.call(b[S].context,c,d);break;case 4:b[S].fn.call(b[S].context,c,d,p);break;default:if(!_)for(k=1,_=new Array(x-1);k<x;k++)_[k-1]=arguments[k];b[S].fn.apply(b[S].context,_)}}return!0},o.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,p){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!d||g.context===d)&&a(this,m);else{for(var w=0,b=[],x=g.length;w<x;w++)(g[w].fn!==c||p&&!g[w].once||d&&g[w].context!==d)&&b.push(g[w]);b.length?this._events[m]=b.length===1?b[0]:b:a(this,m)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(E3);var Mne=E3.exports;const Dne=us(Mne);var cd=new Dne,qx="recharts.syncEvent.tooltip",sP="recharts.syncEvent.brush";function S3(t,e){if(e){var n=Number.parseInt(e,10);if(!Nr(n))return t==null?void 0:t[n]}}var Lne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},T3=nr({name:"options",initialState:Lne,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Vne=T3.reducer,{createEventEmitter:$ne}=T3.actions;function Fne(t){return t.tooltip.syncInteraction}var zne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},A3=nr({name:"chartData",initialState:zne,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:aP,setDataStartEndIndexes:Une,setComputedData:oce}=A3.actions,Bne=A3.reducer,Wne=["x","y"];function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){Hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hne(t,e,n){return(e=Kne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kne(t){var e=qne(t,"string");return typeof e=="symbol"?e:e+""}function qne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gne(t,e){if(t==null)return{};var n,r,i=Yne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qne(){var t=pe(Zb),e=pe(e_),n=ut(),r=pe(wD),i=pe(gs),s=Vd(),a=Ld(),o=pe(l=>l.rootProps.className);v.useEffect(()=>{if(t==null)return Od;var l=(u,c,d)=>{if(e!==d&&t===u){if(r==="index"){var p;if(a&&c!==null&&c!==void 0&&(p=c.payload)!==null&&p!==void 0&&p.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:g,y:w}=m,b=Gne(m,Wne),{x,y:_,width:S,height:C}=c.payload.sourceViewBox,k=Fo(Fo({},b),{},{x:a.x+(S?(g-x)/S:0)*a.width,y:a.y+(C?(w-_)/C:0)*a.height});n(Fo(Fo({},c),{},{payload:Fo(Fo({},c.payload),{},{coordinate:k})}))}else n(c);return}if(i!=null){var O;if(typeof r=="function"){var A={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},T=r(i,A);O=i[T]}else r==="value"&&(O=i.find($=>String($.value)===c.payload.label));var{coordinate:I}=c.payload;if(O==null||c.payload.active===!1||I==null||a==null){n(Wx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:N,y:P}=I,R=Math.min(N,a.x+a.width),j=Math.min(P,a.y+a.height),re={x:s==="horizontal"?O.coordinate:R,y:s==="horizontal"?j:O.coordinate},ne=Wx({active:c.payload.active,coordinate:re,dataKey:c.payload.dataKey,index:String(O.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(ne)}}};return cd.on(qx,l),()=>{cd.off(qx,l)}},[o,n,e,t,r,i,s,a])}function Xne(){var t=pe(Zb),e=pe(e_),n=ut();v.useEffect(()=>{if(t==null)return Od;var r=(i,s,a)=>{e!==a&&t===i&&n(Une(s))};return cd.on(sP,r),()=>{cd.off(sP,r)}},[n,e,t])}function Jne(){var t=ut();v.useEffect(()=>{t($ne())},[t]),Qne(),Xne()}function Zne(t,e,n,r,i,s){var a=pe(m=>one(m,t,e)),o=pe(e_),l=pe(Zb),u=pe(wD),c=pe(Fne),d=c==null?void 0:c.active,p=Ld();v.useEffect(()=>{if(!d&&l!=null&&o!=null){var m=Wx({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});cd.emit(qx,l,m,o)}},[d,n,a,i,r,o,l,u,s,p])}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ere(t,e,n){return(e=tre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tre(t){var e=nre(t,"string");return typeof e=="symbol"?e:e+""}function nre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rre(t){return t.dataKey}function ire(t,e){return v.isValidElement(t)?v.cloneElement(t,e):typeof t=="function"?v.createElement(t,e):v.createElement(KY,e)}var cP=[],sre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function L_(t){var e,n,r=Mn(t,sre),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:p,position:m,reverseDirection:g,useTranslate3d:w,wrapperStyle:b,cursor:x,shared:_,trigger:S,defaultIndex:C,portal:k,axisId:O}=r,A=ut(),T=typeof C=="number"?String(C):C;v.useEffect(()=>{A(nte({shared:_,trigger:S,axisId:O,active:i,defaultIndex:T}))},[A,_,S,O,i,T]);var I=Ld(),N=l4(),P=Qee(_),{activeIndex:R,isActive:j}=(e=pe(we=>cne(we,P,S,T)))!==null&&e!==void 0?e:{},re=pe(we=>une(we,P,S,T)),ne=pe(we=>w3(we,P,S,T)),$=pe(we=>lne(we,P,S,T)),F=re,D=Rne(),L=(n=i??j)!==null&&n!==void 0?n:!1,[H,q]=Dq([F,L]),Q=P==="axis"?ne:void 0;Zne(P,S,$,Q,R,L);var ie=k??D;if(ie==null||I==null||P==null)return null;var ae=F??cP;L||(ae=cP),u&&ae.length&&(ae=eq(ae.filter(we=>we.value!=null&&(we.hide!==!0||r.includeHidden)),p,rre));var he=ae.length>0,ge=v.createElement(ZY,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:c,active:L,coordinate:$,hasPayload:he,offset:d,position:m,reverseDirection:g,useTranslate3d:w,viewBox:I,wrapperStyle:b,lastBoundingBox:H,innerRef:q,hasPortalFromProps:!!k},ire(l,uP(uP({},r),{},{payload:ae,label:Q,active:L,activeIndex:R,coordinate:$,accessibilityLayer:N})));return v.createElement(v.Fragment,null,J1.createPortal(ge,ie),L&&v.createElement(jne,{cursor:x,tooltipEventType:P,coordinate:$,payload:ae,index:R}))}var fu=t=>null;fu.displayName="Cell";function are(t,e,n){return(e=ore(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ore(t){var e=lre(t,"string");return typeof e=="symbol"?e:e+""}function lre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ure{constructor(e){are(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dre(t,e,n){return(e=fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){var e=hre(t,"string");return typeof e=="symbol"?e:e+""}function hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pre={cacheSize:2e3,enableCache:!0},I3=cre({},pre),fP=new ure(I3.cacheSize),mre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hP="recharts_measurement_span";function gre(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var pP=(t,e)=>{try{var n=document.getElementById(hP);n||(n=document.createElement("span"),n.setAttribute("id",hP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,mre,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},wc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Cg.isSsr)return{width:0,height:0};if(!I3.enableCache)return pP(e,n);var r=gre(e,n),i=fP.get(r);if(i)return i;var s=pP(e,n);return fP.set(r,s),s},P3;function yre(t,e,n){return(e=vre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vre(t){var e=xre(t,"string");return typeof e=="symbol"?e:e+""}function xre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_re={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ere=["cm","mm","pt","pc","in","Q","px"];function Sre(t){return Ere.includes(t)}var al="NaN";function Tre(t,e){return t*_re[e]}class fn{static parse(e){var n,[,r,i]=(n=bre.exec(e))!==null&&n!==void 0?n:[];return r==null?fn.NaN:new fn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Nr(e)&&(this.unit=""),n!==""&&!wre.test(n)&&(this.num=NaN,this.unit=""),Sre(n)&&(this.num=Tre(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new fn(NaN,""):new fn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new fn(NaN,""):new fn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fn(NaN,""):new fn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fn(NaN,""):new fn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Nr(this.num)}}P3=fn;yre(fn,"NaN",new P3(NaN,""));function C3(t){if(t==null||t.includes(al))return al;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=mP.exec(e))!==null&&n!==void 0?n:[],a=fn.parse(r??""),o=fn.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return al;e=e.replace(mP,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,d,p]=(u=gP.exec(e))!==null&&u!==void 0?u:[],m=fn.parse(c??""),g=fn.parse(p??""),w=d==="+"?m.add(g):m.subtract(g);if(w.isNaN())return al;e=e.replace(gP,w.toString())}return e}var yP=/\(([^()]*)\)/;function Are(t){for(var e=t,n;(n=yP.exec(e))!=null;){var[,r]=n;e=e.replace(yP,C3(r))}return e}function Ire(t){var e=t.replace(/\s+/g,"");return e=Are(e),e=C3(e),e}function Pre(t){try{return Ire(t)}catch{return al}}function Tv(t){var e=Pre(t.slice(5,-1));return e===al?"":e}var Cre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],kre=["dx","dy","angle","className","breakAll"];function Gx(){return Gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gx.apply(null,arguments)}function vP(t,e){if(t==null)return{};var n,r,i=Nre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var k3=/[ \f\n\r\t\v\u2028\u2029]+/,N3=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];an(e)||(n?i=e.toString().split(""):i=e.toString().split(k3));var s=i.map(o=>({word:o,width:wc(o,r).width})),a=n?0:wc("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function Ore(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var O3=(t,e,n,r)=>t.reduce((i,s)=>{var{word:a,width:o}=s,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+n<Number(e)))l.words.push(a),l.width+=o+n;else{var u={words:[a],width:o};i.push(u)}return i},[]),j3=t=>t.reduce((e,n)=>e.width>n.width?e:n),jre="",xP=(t,e,n,r,i,s,a,o)=>{var l=t.slice(0,e),u=N3({breakAll:n,style:r,children:l+jre});if(!u)return[!1,[]];var c=O3(u.wordsWithComputedWidth,s,a,o),d=c.length>i||j3(c).width>Number(s);return[d,c]},Rre=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=t,u=ve(s),c=String(a),d=O3(e,r,n,i);if(!u||i)return d;var p=d.length>s||j3(d).width>Number(r);if(!p)return d;for(var m=0,g=c.length-1,w=0,b;m<=g&&w<=c.length-1;){var x=Math.floor((m+g)/2),_=x-1,[S,C]=xP(c,_,l,o,s,r,n,i),[k]=xP(c,x,l,o,s,r,n,i);if(!S&&!k&&(m=x+1),S&&k&&(g=x-1),!S&&k){b=C;break}w++}return b||d},wP=t=>{var e=an(t)?[]:t.toString().split(k3);return[{words:e,width:void 0}]},Mre=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!Cg.isSsr){var o,l,u=N3({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;o=c,l=d}else return wP(r);return Rre({breakAll:s,children:r,maxLines:a,style:i},o,l,e,!!n)}return wP(r)},R3="#808080",Dre={angle:0,breakAll:!1,capHeight:"0.71em",fill:R3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Gg=v.forwardRef((t,e)=>{var n=Mn(t,Dre),{x:r,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,d=vP(n,Cre),p=v.useMemo(()=>Mre({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:m,dy:g,angle:w,className:b,breakAll:x}=d,_=vP(d,kre);if(!Or(r)||!Or(i)||p.length===0)return null;var S=Number(r)+(ve(m)?m:0),C=Number(i)+(ve(g)?g:0);if(!Je(S)||!Je(C))return null;var k;switch(c){case"start":k=Tv("calc(".concat(a,")"));break;case"middle":k=Tv("calc(".concat((p.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:k=Tv("calc(".concat(p.length-1," * -").concat(s,")"));break}var O=[];if(l){var A=p[0].width,{width:T}=d;O.push("scale(".concat(ve(T)&&ve(A)?T/A:1,")"))}return w&&O.push("rotate(".concat(w,", ").concat(S,", ").concat(C,")")),O.length&&(_.transform=O.join(" ")),v.createElement("text",Gx({},pr(_),{ref:e,x:S,y:C,className:Ye("recharts-text",b),textAnchor:u,fill:o.includes("url")?R3:o}),p.map((I,N)=>{var P=I.words.join(x?"":" ");return v.createElement("tspan",{x:S,dy:N===0?k:s,key:"".concat(P,"-").concat(N)},P)}))});Gg.displayName="Text";var Lre=["labelRef"],Vre=["content"];function bP(t,e){if(t==null)return{};var n,r,i=$re(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $re(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){Fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fre(t,e,n){return(e=zre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zre(t){var e=Ure(t,"string");return typeof e=="symbol"?e:e+""}function Ure(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vi.apply(null,arguments)}var M3=v.createContext(null),D3=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:o}=t,l=v.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,n,r,i,s,a]);return v.createElement(M3.Provider,{value:l},o)},L3=()=>{var t=v.useContext(M3),e=Ld();return t||XM(e)},Bre=v.createContext(null),Wre=()=>{var t=v.useContext(Bre),e=pe(TD);return t||e},Hre=t=>{var{value:e,formatter:n}=t,r=an(t.children)?e:t.children;return typeof n=="function"?n(r):r},V_=t=>t!=null&&typeof t=="function",Kre=(t,e)=>{var n=mn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},qre=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:p,clockWise:m}=i,g=(u+c)/2,w=Kre(d,p),b=w>=0?1:-1,x,_;switch(e){case"insideStart":x=d+b*s,_=m;break;case"insideEnd":x=p-b*s,_=!m;break;case"end":x=p+b*s,_=m;break;default:throw new Error("Unsupported position ".concat(e))}_=w<=0?_:!_;var S=$t(o,l,g,x),C=$t(o,l,g,x+(_?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(C.x,",").concat(C.y),O=an(t.id)?Xc("recharts-radial-line-"):t.id;return v.createElement("text",Vi({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",a)}),v.createElement("defs",null,v.createElement("path",{id:O,d:k})),v.createElement("textPath",{xlinkHref:"#".concat(O)},n))},Gre=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=t,u=(o+l)/2;if(n==="outside"){var{x:c,y:d}=$t(r,i,a+e,u);return{x:c,y:d,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(s+a)/2,{x:m,y:g}=$t(r,i,p,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Yx=t=>"cx"in t&&ve(t.cx),Yre=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!Yx(n)&&(s=n);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:c}=e,d=a,p=a+(l-u)/2,m=(d+p)/2,g=(l+u)/2,w=d+l/2,b=c>=0?1:-1,x=b*r,_=b>0?"end":"start",S=b>0?"start":"end",C=l>=0?1:-1,k=C*r,O=C>0?"end":"start",A=C>0?"start":"end";if(i==="top"){var T={x:d+l/2,y:o-x,textAnchor:"middle",verticalAnchor:_};return kt(kt({},T),s?{height:Math.max(o-s.y,0),width:l}:{})}if(i==="bottom"){var I={x:p+u/2,y:o+c+x,textAnchor:"middle",verticalAnchor:S};return kt(kt({},I),s?{height:Math.max(s.y+s.height-(o+c),0),width:u}:{})}if(i==="left"){var N={x:m-k,y:o+c/2,textAnchor:O,verticalAnchor:"middle"};return kt(kt({},N),s?{width:Math.max(N.x-s.x,0),height:c}:{})}if(i==="right"){var P={x:m+g+k,y:o+c/2,textAnchor:A,verticalAnchor:"middle"};return kt(kt({},P),s?{width:Math.max(s.x+s.width-P.x,0),height:c}:{})}var R=s?{width:g,height:c}:{};return i==="insideLeft"?kt({x:m+k,y:o+c/2,textAnchor:A,verticalAnchor:"middle"},R):i==="insideRight"?kt({x:m+g-k,y:o+c/2,textAnchor:O,verticalAnchor:"middle"},R):i==="insideTop"?kt({x:d+l/2,y:o+x,textAnchor:"middle",verticalAnchor:S},R):i==="insideBottom"?kt({x:p+u/2,y:o+c-x,textAnchor:"middle",verticalAnchor:_},R):i==="insideTopLeft"?kt({x:d+k,y:o+x,textAnchor:A,verticalAnchor:S},R):i==="insideTopRight"?kt({x:d+l-k,y:o+x,textAnchor:O,verticalAnchor:S},R):i==="insideBottomLeft"?kt({x:p+k,y:o+c-x,textAnchor:A,verticalAnchor:_},R):i==="insideBottomRight"?kt({x:p+u-k,y:o+c-x,textAnchor:O,verticalAnchor:_},R):i&&typeof i=="object"&&(ve(i.x)||ns(i.x))&&(ve(i.y)||ns(i.y))?kt({x:a+Nn(i.x,g),y:o+Nn(i.y,c),textAnchor:"end",verticalAnchor:"end"},R):kt({x:w,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},R)},Qre={angle:0,offset:5,zIndex:gn.label,position:"middle",textBreakAll:!1};function Ps(t){var e=Mn(t,Qre),{viewBox:n,position:r,value:i,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,c=Wre(),d=L3(),p=r==="center"?d:c??d,m,g,w;if(n==null?m=p:Yx(n)?m=n:m=XM(n),!m||an(i)&&an(s)&&!v.isValidElement(a)&&typeof a!="function")return null;var b=kt(kt({},e),{},{viewBox:m});if(v.isValidElement(a)){var{labelRef:x}=b,_=bP(b,Lre);return v.cloneElement(a,_)}if(typeof a=="function"){var{content:S}=b,C=bP(b,Vre);if(g=v.createElement(a,C),v.isValidElement(g))return g}else g=Hre(e);var k=pr(e);if(Yx(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return qre(e,r,g,k,m);w=Gre(m,e.offset,e.position)}else w=Yre(e,m);return v.createElement(ri,{zIndex:e.zIndex},v.createElement(Gg,Vi({ref:u,className:Ye("recharts-label",o)},k,w,{textAnchor:Ore(k.textAnchor)?k.textAnchor:w.textAnchor,breakAll:l}),g))}Ps.displayName="Label";var Xre=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?v.createElement(Ps,Vi({key:"label-implicit"},r)):Or(t)?v.createElement(Ps,Vi({key:"label-implicit",value:t},r)):v.isValidElement(t)?t.type===Ps?v.cloneElement(t,kt({key:"label-implicit"},r)):v.createElement(Ps,Vi({key:"label-implicit",content:t},r)):V_(t)?v.createElement(Ps,Vi({key:"label-implicit",content:t},r)):t&&typeof t=="object"?v.createElement(Ps,Vi({},t,{key:"label-implicit"},r)):null};function V3(t){var{label:e,labelRef:n}=t,r=L3();return Xre(e,r,n)||null}var $3={},F3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(F3);var z3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(z3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F3,n=z3,r=ug;function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})($3);var Jre=$3.last;const Zre=us(Jre);var eie=["valueAccessor"],tie=["dataKey","clockWise","id","textBreakAll","zIndex"];function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(null,arguments)}function EP(t,e){if(t==null)return{};var n,r,i=nie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rie=t=>Array.isArray(t.value)?Zre(t.value):t.value,U3=v.createContext(void 0),iie=U3.Provider,B3=v.createContext(void 0),sie=B3.Provider;function aie(){return v.useContext(U3)}function oie(){return v.useContext(B3)}function jh(t){var{valueAccessor:e=rie}=t,n=EP(t,eie),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:o}=n,l=EP(n,tie),u=aie(),c=oie(),d=u||c;return!d||!d.length?null:v.createElement(ri,{zIndex:o??gn.label},v.createElement(Rn,{className:"recharts-label-list"},d.map((p,m)=>{var g,w=an(r)?e(p,m):lt(p&&p.payload,r),b=an(s)?{}:{id:"".concat(s,"-").concat(m)};return v.createElement(Ps,lm({key:"label-".concat(m)},pr(p),l,b,{fill:(g=n.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:w,textBreakAll:a,viewBox:p.viewBox,index:m,zIndex:0}))})))}jh.displayName="LabelList";function W3(t){var{label:e}=t;return e?e===!0?v.createElement(jh,{key:"labelList-implicit"}):v.isValidElement(e)||V_(e)?v.createElement(jh,{key:"labelList-implicit",content:e}):typeof e=="object"?v.createElement(jh,lm({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var H3=t=>t.graphicalItems.polarItems,lie=z([gt,Hd],a_),Yg=z([H3,Et,lie],l_),uie=z([Yg],u_),Qg=z([uie,Vg],c_),cie=z([Qg,Et,Yg],f_);z([Qg,Et,Yg],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,a=lt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:lt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var SP=()=>{},die=z([Qg,Et,Yg,Hg,gt],g_),fie=z([Et,p_,m_,SP,die,SP,Ue,gt],y_),K3=z([Et,Ue,Qg,cie,Wd,gt,fie],v_),hie=z([K3,Et,lu],b_);z([Et,K3,hie,gt],E_);var pie={radiusAxis:{},angleAxis:{}},q3=nr({name:"polarAxis",initialState:pie,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:lce,removeRadiusAxis:uce,addAngleAxis:cce,removeAngleAxis:dce}=q3.actions,mie=q3.reducer;function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gie(t,e,n){return(e=yie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yie(t){var e=vie(t,"string");return typeof e=="symbol"?e:e+""}function vie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xie=(t,e)=>e,$_=z([H3,xie],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),wie=[],F_=(t,e,n)=>(n==null?void 0:n.length)===0?wie:n,G3=z([Vg,$_,F_],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>AP(AP({},e.presentationProps),s.props))),i!=null)return i}}),bie=z([G3,$_,F_],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,a=lt(r,e.nameKey,e.name),o;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=e.fill,{value:wg(a,e.dataKey),color:o,payload:r,type:e.legendType}})}),_ie=z([G3,$_,F_,qt],(t,e,n,r)=>{if(!(e==null||t==null))return Sse({offset:r,pieSettings:e,displayedData:t,cells:n})}),Y3={exports:{}},et={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_=Symbol.for("react.transitional.element"),U_=Symbol.for("react.portal"),Xg=Symbol.for("react.fragment"),Jg=Symbol.for("react.strict_mode"),Zg=Symbol.for("react.profiler"),ey=Symbol.for("react.consumer"),ty=Symbol.for("react.context"),ny=Symbol.for("react.forward_ref"),ry=Symbol.for("react.suspense"),iy=Symbol.for("react.suspense_list"),sy=Symbol.for("react.memo"),ay=Symbol.for("react.lazy"),Eie=Symbol.for("react.view_transition"),Sie=Symbol.for("react.client.reference");function Dr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case z_:switch(t=t.type,t){case Xg:case Zg:case Jg:case ry:case iy:case Eie:return t;default:switch(t=t&&t.$$typeof,t){case ty:case ny:case ay:case sy:return t;case ey:return t;default:return e}}case U_:return e}}}et.ContextConsumer=ey;et.ContextProvider=ty;et.Element=z_;et.ForwardRef=ny;et.Fragment=Xg;et.Lazy=ay;et.Memo=sy;et.Portal=U_;et.Profiler=Zg;et.StrictMode=Jg;et.Suspense=ry;et.SuspenseList=iy;et.isContextConsumer=function(t){return Dr(t)===ey};et.isContextProvider=function(t){return Dr(t)===ty};et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===z_};et.isForwardRef=function(t){return Dr(t)===ny};et.isFragment=function(t){return Dr(t)===Xg};et.isLazy=function(t){return Dr(t)===ay};et.isMemo=function(t){return Dr(t)===sy};et.isPortal=function(t){return Dr(t)===U_};et.isProfiler=function(t){return Dr(t)===Zg};et.isStrictMode=function(t){return Dr(t)===Jg};et.isSuspense=function(t){return Dr(t)===ry};et.isSuspenseList=function(t){return Dr(t)===iy};et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xg||t===Zg||t===Jg||t===ry||t===iy||typeof t=="object"&&t!==null&&(t.$$typeof===ay||t.$$typeof===sy||t.$$typeof===ty||t.$$typeof===ey||t.$$typeof===ny||t.$$typeof===Sie||t.getModuleId!==void 0)};et.typeOf=Dr;Y3.exports=et;var Tie=Y3.exports,IP=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",PP=null,Av=null,Q3=t=>{if(t===PP&&Array.isArray(Av))return Av;var e=[];return v.Children.forEach(t,n=>{an(n)||(Tie.isFragment(n)?e=e.concat(Q3(n.props.children)):e.push(n))}),Av=e,PP=t,e};function B_(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>IP(i)):r=[IP(e)],Q3(t).forEach(i=>{var s=co(i,"type.displayName")||co(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var X3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(X3);var Aie=X3.isPlainObject;const Iie=us(Aie);var CP,kP,NP,OP,jP;function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){Pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pie(t,e,n){return(e=Cie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cie(t){var e=kie(t,"string");return typeof e=="symbol"?e:e+""}function kie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},um.apply(null,arguments)}function Uu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var DP=(t,e,n,r,i)=>{var s=n-r,a;return a=At(CP||(CP=Uu(["M ",",",""])),t,e),a+=At(kP||(kP=Uu(["L ",",",""])),t+n,e),a+=At(NP||(NP=Uu(["L ",",",""])),t+n-s/2,e+i),a+=At(OP||(OP=Uu(["L ",",",""])),t+n-s/2-r,e+i),a+=At(jP||(jP=Uu(["L ",","," Z"])),t,e),a},Nie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Oie=t=>{var e=Mn(t,Nie),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=e,p=v.useRef(null),[m,g]=v.useState(-1),w=v.useRef(i),b=v.useRef(s),x=v.useRef(a),_=v.useRef(n),S=v.useRef(r),C=Ng(t,"trapezoid-");if(v.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var re=p.current.getTotalLength();re&&g(re)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var k=Ye("recharts-trapezoid",o);if(!d)return v.createElement("g",null,v.createElement("path",um({},pr(e),{className:k,d:DP(n,r,i,s,a)})));var O=w.current,A=b.current,T=x.current,I=_.current,N=S.current,P="0px ".concat(m===-1?1:m,"px"),R="".concat(m,"px 0px"),j=u4(["strokeDasharray"],u,l);return v.createElement(kg,{animationId:C,key:C,canBegin:m>0,duration:u,easing:l,isActive:d,begin:c},re=>{var ne=Ut(O,i,re),$=Ut(A,s,re),F=Ut(T,a,re),D=Ut(I,n,re),L=Ut(N,r,re);p.current&&(w.current=ne,b.current=$,x.current=F,_.current=D,S.current=L);var H=re>0?{transition:j,strokeDasharray:R}:{strokeDasharray:P};return v.createElement("path",um({},pr(e),{className:k,d:DP(D,L,ne,$,F),ref:p,style:MP(MP({},H),e.style)}))})},jie=["option","shapeType","activeClassName"];function Rie(t,e){if(t==null)return{};var n,r,i=Mie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){Die(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Die(t,e,n){return(e=Lie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lie(t){var e=Vie(t,"string");return typeof e=="symbol"?e:e+""}function Vie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ie(t,e){return cm(cm({},e),t)}function Fie(t,e){return t==="symbols"}function VP(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return v.createElement(h4,n);case"trapezoid":return v.createElement(Oie,n);case"sector":return v.createElement(y4,n);case"symbols":if(Fie(e))return v.createElement(DR,n);break;case"curve":return v.createElement(Ab,n);default:return null}}function zie(t){return v.isValidElement(t)?t.props:t}function J3(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Rie(t,jie),s;if(v.isValidElement(e))s=v.cloneElement(e,cm(cm({},i),zie(e)));else if(typeof e=="function")s=e(i,i.index);else if(Iie(e)&&typeof e!="boolean"){var a=$ie(e,i);s=v.createElement(VP,{shapeType:n,elementProps:a})}else{var o=i;s=v.createElement(VP,{shapeType:n,elementProps:o})}return i.isActive?v.createElement(Rn,{className:r},s):s}var W_=(t,e,n)=>{var r=ut();return(i,s)=>a=>{t==null||t(i,s,a),r(n3({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},H_=t=>{var e=ut();return(n,r)=>i=>{t==null||t(n,r,i),e(rte())}},K_=(t,e,n)=>{var r=ut();return(i,s)=>a=>{t==null||t(i,s,a),r(ite({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Z3(t){var{tooltipEntrySettings:e}=t,n=ut(),r=rr(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(Zee(e)):i.current!==e&&n(ete({prev:i.current,next:e})),i.current=e)},[e,n,r]),v.useLayoutEffect(()=>()=>{i.current&&(n(tte(i.current)),i.current=null)},[n]),null}function Uie(t){var{legendPayload:e}=t,n=ut(),r=rr(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(s4(e)):i.current!==e&&n(a4({prev:i.current,next:e})),i.current=e)},[n,r,e]),v.useLayoutEffect(()=>()=>{i.current&&(n(o4(i.current)),i.current=null)},[n]),null}function Bie(t){var{legendPayload:e}=t,n=ut(),r=pe(Ue),i=v.useRef(null);return v.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(s4(e)):i.current!==e&&n(a4({prev:i.current,next:e})),i.current=e)},[n,r,e]),v.useLayoutEffect(()=>()=>{i.current&&(n(o4(i.current)),i.current=null)},[n]),null}var Iv,Wie=()=>{var[t]=v.useState(()=>Xc("uid-"));return t},Hie=(Iv=xL.useId)!==null&&Iv!==void 0?Iv:Wie;function Kie(t,e){var n=Hie();return e||(t?"".concat(t,"-").concat(n):n)}var qie=v.createContext(void 0),e5=t=>{var{id:e,type:n,children:r}=t,i=Kie("recharts-".concat(n),e);return v.createElement(qie.Provider,{value:i},r(i))},Gie={cartesianItems:[],polarItems:[]},t5=nr({name:"graphicalItems",initialState:Gie,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:ht()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zr(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:ht()},removeCartesianGraphicalItem:{reducer(t,e){var n=Zr(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:ht()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:ht()},removePolarGraphicalItem:{reducer(t,e){var n=Zr(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:ht()}}}),{addCartesianGraphicalItem:Yie,replaceCartesianGraphicalItem:Qie,removeCartesianGraphicalItem:Xie,addPolarGraphicalItem:Jie,removePolarGraphicalItem:Zie}=t5.actions,ese=t5.reducer,tse=t=>{var e=ut(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?e(Yie(t)):n.current!==t&&e(Qie({prev:n.current,next:t})),n.current=t},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(e(Xie(n.current)),n.current=null)},[e]),null},nse=v.memo(tse);function rse(t){var e=ut();return v.useLayoutEffect(()=>(e(Jie(t)),()=>{e(Zie(t))}),[e,t]),null}var ise=["key"],sse=["onMouseEnter","onClick","onMouseLeave"],ase=["id"],ose=["id"];function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){lse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lse(t,e,n){return(e=use(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function use(t){var e=cse(t,"string");return typeof e=="symbol"?e:e+""}function cse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fa(){return fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fa.apply(null,arguments)}function oy(t,e){if(t==null)return{};var n,r,i=dse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fse(t){var e=v.useMemo(()=>B_(t.children,fu),[t.children]),n=pe(r=>bie(r,t.id,e));return n==null?null:v.createElement(Bie,{legendPayload:n})}var hse=v.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:a,name:o,hide:l,tooltipType:u,id:c}=t,d={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:n,name:wg(o,e),hide:l,type:u,color:a,unit:"",graphicalItemId:c}};return v.createElement(Z3,{tooltipEntrySettings:d})}),pse=(t,e)=>t>e?"start":t<e?"end":"middle",mse=(t,e,n)=>Nn(typeof e=="function"?e(t):e,n,n*.8),gse=(t,e,n)=>{var{top:r,left:i,width:s,height:a}=e,o=p4(s,a),l=i+Nn(t.cx,s,s/2),u=r+Nn(t.cy,a,a/2),c=Nn(t.innerRadius,o,0),d=mse(n,t.outerRadius,o),p=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:p}},yse=(t,e)=>{var n=mn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function vse(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var xse=(t,e)=>{if(v.isValidElement(t))return v.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Ye("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=oy(e,ise);return v.createElement(Ab,fa({},i,{type:"linear",className:n}))},wse=(t,e,n)=>{if(v.isValidElement(t))return v.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),v.isValidElement(r)))return r;var i=Ye("recharts-pie-label-text",vse(t));return v.createElement(Gg,fa({},e,{alignmentBaseline:"middle",className:i}),r)};function bse(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:a}=n;if(!r||!i||!e)return null;var o=Ei(n),l=Qc(i),u=Qc(s),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=e.map((p,m)=>{var g=(p.startAngle+p.endAngle)/2,w=$t(p.cx,p.cy,p.outerRadius+c,g),b=Pt(Pt(Pt(Pt({},o),p),{},{stroke:"none"},l),{},{index:m,textAnchor:pse(w.x,p.cx)},w),x=Pt(Pt(Pt(Pt({},o),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[$t(p.cx,p.cy,p.outerRadius,g),w],key:"line"});return v.createElement(ri,{zIndex:gn.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},v.createElement(Rn,null,s&&xse(s,x),wse(i,b,lt(p,a))))});return v.createElement(Rn,{className:"recharts-pie-labels"},d)}function _se(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?v.createElement(W3,{label:i}):v.createElement(bse,{sectors:e,props:n,showLabels:r})}function Ese(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:a}=t,o=pe(go),l=pe(O_),u=pe(Bte),{onMouseEnter:c,onClick:d,onMouseLeave:p}=i,m=oy(i,sse),g=W_(c,i.dataKey,a),w=H_(p),b=K_(d,i.dataKey,a);return e==null||e.length===0?null:v.createElement(v.Fragment,null,e.map((x,_)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&e.length!==1)return null;var S=u==null||u===a,C=String(_)===o&&(l==null||i.dataKey===l)&&S,k=o?r:null,O=n&&C?n:k,A=Pt(Pt({},x),{},{stroke:x.stroke,tabIndex:-1,[BM]:_,[WM]:a});return v.createElement(Rn,fa({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(_),tabIndex:-1,className:"recharts-pie-sector"},lg(m,x,_),{onMouseEnter:g(x,_),onMouseLeave:w(x,_),onClick:b(x,_)}),v.createElement(J3,fa({option:s??O,index:_,shapeType:"sector",isActive:C},A)))}))}function Sse(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=n,p=Math.abs(n.minAngle),m=yse(o,l),g=Math.abs(m),w=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,b=r.filter(O=>lt(O,u,0)!==0).length,x=(g>=360?b:b-1)*w,_=g-b*p-x,S=r.reduce((O,A)=>{var T=lt(A,u,0);return O+(ve(T)?T:0)},0),C;if(S>0){var k;C=r.map((O,A)=>{var T=lt(O,u,0),I=lt(O,c,A),N=gse(n,s,O),P=(ve(T)?T:0)/S,R,j=Pt(Pt({},O),i&&i[A]&&i[A].props);A?R=k.endAngle+mn(m)*w*(T!==0?1:0):R=o;var re=R+mn(m)*((T!==0?p:0)+P*_),ne=(R+re)/2,$=(N.innerRadius+N.outerRadius)/2,F=[{name:I,value:T,payload:j,dataKey:u,type:d,graphicalItemId:n.id}],D=$t(N.cx,N.cy,$,ne);return k=Pt(Pt(Pt(Pt({},n.presentationProps),{},{percent:P,cornerRadius:typeof a=="string"?parseFloat(a):a,name:I,tooltipPayload:F,midAngle:ne,middleRadius:$,tooltipPosition:D},j),N),{},{value:T,dataKey:u,startAngle:R,endAngle:re,payload:j,paddingAngle:mn(m)*w}),k})}return C}function Tse(t){var{showLabels:e,sectors:n,children:r}=t,i=v.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return v.createElement(sie,{value:e?i:void 0},r)}function Ase(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:p}=e,m=Ng(e,"recharts-pie-"),g=n.current,[w,b]=v.useState(!1),x=v.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),_=v.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return v.createElement(Tse,{showLabels:!w,sectors:i},v.createElement(kg,{animationId:m,begin:a,duration:o,isActive:s,easing:l,onAnimationStart:_,onAnimationEnd:x,key:m},S=>{var C=[],k=i&&i[0],O=k==null?void 0:k.startAngle;return i==null||i.forEach((A,T)=>{var I=g&&g[T],N=T>0?co(A,"paddingAngle",0):0;if(I){var P=Ut(I.endAngle-I.startAngle,A.endAngle-A.startAngle,S),R=Pt(Pt({},A),{},{startAngle:O+N,endAngle:O+P+N});C.push(R),O=R.endAngle}else{var{endAngle:j,startAngle:re}=A,ne=Ut(0,j-re,S),$=Pt(Pt({},A),{},{startAngle:O+N,endAngle:O+ne+N});C.push($),O=$.endAngle}}),n.current=C,v.createElement(Rn,null,v.createElement(Ese,{sectors:C,activeShape:u,inactiveShape:c,allOtherPieProps:e,shape:e.shape,id:r}))}),v.createElement(_se,{showLabels:!w,sectors:i,props:e}),e.children)}var Ise={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:gn.area};function Pse(t){var{id:e}=t,n=oy(t,ase),{hide:r,className:i,rootTabIndex:s}=t,a=v.useMemo(()=>B_(t.children,fu),[t.children]),o=pe(c=>_ie(c,e,a)),l=v.useRef(null),u=Ye("recharts-pie",i);return r||o==null?(l.current=null,v.createElement(Rn,{tabIndex:s,className:u})):v.createElement(ri,{zIndex:t.zIndex},v.createElement(hse,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:o,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),v.createElement(Rn,{tabIndex:s,className:u},v.createElement(Ase,{props:Pt(Pt({},n),{},{sectors:o}),previousSectorsRef:l,id:e})))}function n5(t){var e=Mn(t,Ise),{id:n}=e,r=oy(e,ose),i=Ei(r);return v.createElement(e5,{id:n,type:"pie"},s=>v.createElement(v.Fragment,null,v.createElement(rse,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),v.createElement(fse,fa({},r,{id:s})),v.createElement(Pse,fa({},r,{id:s}))))}n5.displayName="Pie";function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){Cse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cse(t,e,n){return(e=kse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kse(t){var e=Nse(t,"string");return typeof e=="symbol"?e:e+""}function Nse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r5=0,Ose={xAxis:{},yAxis:{},zAxis:{}},i5=nr({name:"cartesianAxis",initialState:Ose,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:ht()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:ht()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:ht()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:ht()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:ht()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:ht()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:ht()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:ht()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:ht()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);t.yAxis[n]=zP(zP({},t.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:jse,replaceXAxis:Rse,removeXAxis:Mse,addYAxis:Dse,replaceYAxis:Lse,removeYAxis:Vse,addZAxis:fce,replaceZAxis:hce,removeZAxis:pce,updateYAxisWidth:$se}=i5.actions,Fse=i5.reducer,zse=z([qt],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Use=z([zse,fs,hs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),s5=()=>pe(Use),UP=(t,e,n)=>{var r=n??t;if(!an(r))return Nn(r,e,0)},Bse=(t,e,n)=>{var r={},i=t.filter(zg),s=t.filter(u=>u.stackId==null),a=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),r),o=Object.entries(a).map(u=>{var[c,d]=u,p=d.map(g=>g.dataKey),m=UP(e,n,d[0].barSize);return{stackId:c,dataKeys:p,barSize:m}}),l=s.map(u=>{var c=[u.dataKey].filter(p=>p!=null),d=UP(e,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...o,...l]};function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ih(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){Wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wse(t,e,n){return(e=Hse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hse(t){var e=Kse(t,"string");return typeof e=="symbol"?e:e+""}function Kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qse(t,e,n,r,i){var s=r.length;if(!(s<1)){var a=Nn(t,n,0,!0),o,l=[];if(Je(r[0].barSize)){var u=!1,c=n/s,d=r.reduce((x,_)=>x+(_.barSize||0),0);d+=(s-1)*a,d>=n&&(d-=(s-1)*a,a=0),d>=n&&c>0&&(u=!0,c*=.9,d=s*c);var p=(n-d)/2>>0,m={offset:p-a,size:0};o=r.reduce((x,_)=>{var S,C={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:m.offset+m.size+a,size:u?c:(S=_.barSize)!==null&&S!==void 0?S:0}},k=[...x,C];return m=k[k.length-1].position,k},l)}else{var g=Nn(e,n,0,!0);n-2*g-(s-1)*a<=0&&(a=0);var w=(n-2*g-(s-1)*a)/s;w>1&&(w>>=0);var b=Je(i)?Math.min(w,i):w;o=r.reduce((x,_,S)=>[...x,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:g+(w+a)*S+(w-b)/2,size:b}}],l)}return o}}var Gse=(t,e,n,r,i,s,a)=>{var o=an(a)?e:a,l=qse(n,r,i!==s?i:s,t,o);return i!==s&&l!=null&&(l=l.map(u=>ih(ih({},u),{},{position:ih(ih({},u.position),{},{offset:u.position.offset-i/2})}))),l},Yse=(t,e)=>{var n=i_(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===n)}}}};function Qse(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Je(t.zIndex)?t.zIndex:e}var a5=t=>{var{chartData:e}=t,n=ut(),r=rr();return v.useEffect(()=>r?()=>{}:(n(aP(e)),()=>{n(aP(void 0))}),[e,n,r]),null},WP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},o5=nr({name:"brush",initialState:WP,reducers:{setBrushSettings(t,e){return e.payload==null?WP:e.payload}}}),{setBrushSettings:mce}=o5.actions,Xse=o5.reducer;function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){l5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l5(t,e,n){return(e=Jse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jse(t){var e=Zse(t,"string");return typeof e=="symbol"?e:e+""}function Zse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eae=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return{x:Math.min(n,i),y:Math.min(r,s),width:Math.abs(i-n),height:Math.abs(s-r)}},tae=t=>{var{x1:e,y1:n,x2:r,y2:i}=t;return eae({x:e,y:n},{x:r,y:i})};class ly{static create(e){return new ly(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}l5(ly,"EPS",1e-4);var nae=t=>{var e=Object.keys(t).reduce((n,r)=>sh(sh({},n),{},{[r]:ly.create(t[r])}),{});return sh(sh({},e),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(s=>{var[a,o]=s;return[a,e[a].apply(o,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>e[r].isInRange(n[r]))}})};function rae(t){return(t%180+180)%180}var iae=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=rae(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},sae={dots:[],areas:[],lines:[]},u5=nr({name:"referenceElements",initialState:sae,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Zr(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Zr(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Zr(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:gce,removeDot:yce,addArea:vce,removeArea:xce,addLine:aae,removeLine:oae}=u5.actions,lae=u5.reducer,c5=v.createContext(void 0),uae=t=>{var{children:e}=t,[n]=v.useState("".concat(Xc("recharts"),"-clip")),r=s5();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return v.createElement(c5.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:s,height:o,width:a}))),e)},cae=()=>v.useContext(c5);function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){dae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dae(t,e,n){return(e=fae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dm.apply(null,arguments)}var pae=(t,e)=>{var n;if(v.isValidElement(t))n=v.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{if(!Je(e.x1)||!Je(e.y1)||!Je(e.x2)||!Je(e.y2))return null;n=v.createElement("line",dm({},e,{className:"recharts-reference-line-line"}))}return n},mae=(t,e,n,r,i,s)=>{var{x:a,width:o}=s,l=i.y.apply(t,{position:n});if(Nr(l)||e==="discard"&&!i.y.isInRange(l))return null;var u=[{x:a+o,y:l},{x:a,y:l}];return r==="left"?u.reverse():u},gae=(t,e,n,r,i,s)=>{var{y:a,height:o}=s,l=i.x.apply(t,{position:n});if(Nr(l)||e==="discard"&&!i.x.isInRange(l))return null;var u=[{x:l,y:a+o},{x:l,y:a}];return r==="top"?u.reverse():u},yae=(t,e,n,r)=>{var i=t.map(s=>r.apply(s,{position:n}));return e==="discard"&&i.some(s=>!r.isInRange(s))?null:i},vae=(t,e,n,r,i,s)=>{var{x:a,y:o,segment:l,ifOverflow:u}=s,c=Or(a),d=Or(o);return d?mae(o,u,n,i,t,e):c?gae(a,u,n,r,t,e):l!=null&&l.length===2?yae(l,u,n,t):null};function xae(t){var e=ut();return v.useEffect(()=>(e(aae(t)),()=>{e(oae(t))})),null}function wae(t){var{xAxisId:e,yAxisId:n,shape:r,className:i,ifOverflow:s}=t,a=rr(),o=cae(),l=pe(O=>Ti(O,e)),u=pe(O=>Ai(O,n)),c=pe(O=>Bl(O,"xAxis",e,a)),d=pe(O=>Bl(O,"yAxis",n,a)),p=Ld();if(!o||!p||l==null||u==null||c==null||d==null)return null;var m=nae({x:c,y:d}),g=vae(m,p,t.position,l.orientation,u.orientation,t);if(!g)return null;var[{x:w,y:b},{x,y:_}]=g,S=s==="hidden"?"url(#".concat(o,")"):void 0,C=qP(qP({clipPath:S},pr(t)),{},{x1:w,y1:b,x2:x,y2:_}),k=tae({x1:w,y1:b,x2:x,y2:_});return v.createElement(ri,{zIndex:t.zIndex},v.createElement(Rn,{className:Ye("recharts-reference-line",i)},pae(r,C),v.createElement(D3,dm({},k,{lowerWidth:k.width,upperWidth:k.width}),v.createElement(V3,{label:t.label}),t.children)))}var bae={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:gn.line};function d5(t){var e=Mn(t,bae);return v.createElement(v.Fragment,null,v.createElement(xae,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y,segment:e.segment}),v.createElement(wae,e))}d5.displayName="ReferenceLine";function f5(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function _ae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return iae(r,n)}function Eae(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function dd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Sae(t,e){return f5(t,e+1)}function Tae(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=e,l=0,u=1,c=a,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:f5(r,u)};var w=l,b,x=()=>(b===void 0&&(b=n(g,w)),b),_=g.coordinate,S=l===0||dd(t,_,x,c,o);S||(l=0,c=a,u+=1),S&&(c=_+t*(x()/2+i),l+=u)},p;u<=s.length;)if(p=d(),p)return p.v;return[]}function Aae(t,e,n,r,i){var s=(r||[]).slice(),a=s.length;if(a===0)return[];for(var{start:o,end:l}=e,u=1;u<=a;u++){for(var c=(a-1)%u,d=o,p=!0,m=function(){var _=r[g],S=g,C,k=()=>(C===void 0&&(C=n(_,S)),C),O=_.coordinate,A=g===c||dd(t,O,k,d,l);if(!A)return p=!1,1;A&&(d=O+t*(k()/2+i))},g=c;g<a&&!m();g+=u);if(p){for(var w=[],b=c;b<a;b+=u)w.push(r[b]);return w}}return[]}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){Iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iae(t,e,n){return(e=Pae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pae(t){var e=Cae(t,"string");return typeof e=="symbol"?e:e+""}function Cae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kae(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(p){var m=s[p],g,w=()=>(g===void 0&&(g=n(m,p)),g);if(p===a-1){var b=t*(m.coordinate+t*w()/2-l);s[p]=m=An(An({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate})}else s[p]=m=An(An({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=dd(t,m.tickCoord,w,o,l);x&&(l=m.tickCoord-t*(w()/2+i),s[p]=An(An({},m),{},{isShow:!0}))}},c=a-1;c>=0;c--)u(c);return s}function Nae(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var c=r[o-1],d=n(c,o-1),p=t*(c.coordinate+t*d/2-u);if(a[o-1]=c=An(An({},c),{},{tickCoord:p>0?c.coordinate-p*t:c.coordinate}),c.tickCoord!=null){var m=dd(t,c.tickCoord,()=>d,l,u);m&&(u=c.tickCoord-t*(d/2+i),a[o-1]=An(An({},c),{},{isShow:!0}))}}for(var g=s?o-1:o,w=function(_){var S=a[_],C,k=()=>(C===void 0&&(C=n(S,_)),C);if(_===0){var O=t*(S.coordinate-t*k()/2-l);a[_]=S=An(An({},S),{},{tickCoord:O<0?S.coordinate-O*t:S.coordinate})}else a[_]=S=An(An({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var A=dd(t,S.tickCoord,k,l,u);A&&(l=S.tickCoord+t*(k()/2+i),a[_]=An(An({},S),{},{isShow:!0}))}},b=0;b<g;b++)w(b);return a}function Oae(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:c,angle:d}=t;if(!i||!i.length||!r)return[];if(ve(l)||Cg.isSsr){var p;return(p=Sae(i,ve(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],g=o==="top"||o==="bottom"?"width":"height",w=c&&g==="width"?wc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=(S,C)=>{var k=typeof u=="function"?u(S.value,C):S.value;return g==="width"?_ae(wc(k,{fontSize:e,letterSpacing:n}),w,d):wc(k,{fontSize:e,letterSpacing:n})[g]},x=i.length>=2?mn(i[1].coordinate-i[0].coordinate):1,_=Eae(s,x,g);return l==="equidistantPreserveStart"?Tae(x,_,b,i,a):l==="equidistantPreserveEnd"?Aae(x,_,b,i,a):(l==="preserveStart"||l==="preserveStartEnd"?m=Nae(x,_,b,i,a,l==="preserveStartEnd"):m=kae(x,_,b,i,a),m.filter(S=>S.isShow))}var jae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>a&&(a=d.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+s,u=a+l+o+(n?r:0);return Math.round(u)}return 0},Rae=["axisLine","width","height","className","hide","ticks","axisType"];function Mae(t,e){if(t==null)return{};var n,r,i=Dae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yo(){return yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yo.apply(null,arguments)}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){Lae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lae(t,e,n){return(e=Vae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vae(t){var e=$ae(t,"string");return typeof e=="symbol"?e:e+""}function $ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ya={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:gn.axis};function Fae(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var u=Mt(Mt(Mt({},l),Ei(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var c=+(s==="top"&&!a||s==="bottom"&&a);u=Mt(Mt({},u),{},{x1:e,y1:n+c*i,x2:e+r,y2:n+c*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);u=Mt(Mt({},u),{},{x1:e+d*r,y1:n,x2:e+d*r,y2:n+i})}return v.createElement("line",yo({},u,{className:Ye("recharts-cartesian-axis-line",co(o,"className"))}))}function zae(t,e,n,r,i,s,a,o,l){var u,c,d,p,m,g,w=o?-1:1,b=t.tickSize||a,x=ve(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":u=c=t.coordinate,p=n+ +!o*i,d=p-w*b,g=d-w*l,m=x;break;case"left":d=p=t.coordinate,c=e+ +!o*r,u=c-w*b,m=u-w*l,g=x;break;case"right":d=p=t.coordinate,c=e+ +o*r,u=c+w*b,m=u+w*l,g=x;break;default:u=c=t.coordinate,p=n+ +o*i,d=p+w*b,g=d+w*l,m=x;break}return{line:{x1:u,y1:d,x2:c,y2:p},tick:{x:m,y:g}}}function Uae(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Bae(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Wae(t){var{option:e,tickProps:n,value:r}=t,i,s=Ye(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(e))i=v.cloneElement(e,Mt(Mt({},n),{},{className:s}));else if(typeof e=="function")i=e(Mt(Mt({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Ye(a,e==null?void 0:e.className)),i=v.createElement(Gg,yo({},n,{className:a}),r)}return i}var Hae=v.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:d,x:p,y:m,width:g,height:w,tickSize:b,tickMargin:x,fontSize:_,letterSpacing:S,getTicksConfig:C,events:k,axisType:O}=t,A=Oae(Mt(Mt({},C),{},{ticks:n}),_,S),T=Uae(c,d),I=Bae(c,d),N=Ei(C),P=Qc(r),R={};typeof i=="object"&&(R=i);var j=Mt(Mt({},N),{},{fill:"none"},R),re=A.map(F=>Mt({entry:F},zae(F,p,m,g,w,c,b,d,x))),ne=re.map(F=>{var{entry:D,line:L}=F;return v.createElement(Rn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},i&&v.createElement("line",yo({},j,L,{className:Ye("recharts-cartesian-axis-tick-line",co(i,"className"))})))}),$=re.map((F,D)=>{var{entry:L,tick:H}=F,q=Mt(Mt(Mt(Mt({textAnchor:T,verticalAnchor:I},N),{},{stroke:"none",fill:s},P),H),{},{index:D,payload:L,visibleTicksCount:A.length,tickFormatter:a,padding:l},u);return v.createElement(Rn,yo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},lg(k,L,D)),r&&v.createElement(Wae,{option:r,tickProps:q,value:"".concat(typeof a=="function"?a(L.value,D):L.value).concat(o||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},$.length>0&&v.createElement(ri,{zIndex:gn.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:e},$)),ne.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},ne))}),Kae=v.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:o,axisType:l}=t,u=Mae(t,Rae),[c,d]=v.useState(""),[p,m]=v.useState(""),g=v.useRef(null);v.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var b;return jae({ticks:g.current,label:(b=t.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var w=v.useCallback(b=>{if(b){var x=b.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var _=x[0];if(_){var S=window.getComputedStyle(_),C=S.fontSize,k=S.letterSpacing;(C!==c||k!==p)&&(d(C),m(k))}}},[c,p]);return a||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(ri,{zIndex:t.zIndex},v.createElement(Rn,{className:Ye("recharts-cartesian-axis",s)},v.createElement(Fae,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ei(t)}),v.createElement(Hae,{ref:w,axisType:l,events:u,fontSize:c,getTicksConfig:t,height:t.height,letterSpacing:p,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),v.createElement(D3,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},v.createElement(V3,{label:t.label,labelRef:t.labelRef}),t.children)))}),q_=v.forwardRef((t,e)=>{var n=Mn(t,Ya);return v.createElement(Kae,yo({},n,{ref:e}))});q_.displayName="CartesianAxis";var qae={},h5=nr({name:"errorBars",initialState:qae,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:wce,replaceErrorBar:bce,removeErrorBar:_ce}=h5.actions,Gae=h5.reducer,Yae=["children"];function Qae(t,e){if(t==null)return{};var n,r,i=Xae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Jae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Zae=v.createContext(Jae);function eoe(t){var{children:e}=t,n=Qae(t,Yae);return v.createElement(Zae.Provider,{value:n},e)}function p5(t,e){var n,r,i=pe(u=>Ti(u,t)),s=pe(u=>Ai(u,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Zt.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:en.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function toe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=s5(),{needClipX:s,needClipY:a,needClip:o}=p5(e,n);if(!o||!i)return null;var{x:l,y:u,width:c,height:d}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:s?l:l-c/2,y:a?u:u-d/2,width:s?c:c*2,height:a?d:d*2}))}var noe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd=v;function roe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ioe=typeof Object.is=="function"?Object.is:roe,soe=Zd.useSyncExternalStore,aoe=Zd.useRef,ooe=Zd.useEffect,loe=Zd.useMemo,uoe=Zd.useDebugValue;noe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=aoe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=loe(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return d=g}return d=m}if(g=d,ioe(c,m))return g;var w=r(m);return i!==void 0&&i(g,w)?(c=m,g):(c=m,d=w)}var u=!1,c,d,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,i]);var o=soe(t,s[0],s[1]);return ooe(function(){a.hasValue=!0,a.value=o},[o]),uoe(o),o};function coe(t){t()}function doe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){coe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var QP={notify(){},get:()=>[]};function foe(t,e){let n,r=QP,i=0,s=!1;function a(w){c();const b=r.subscribe(w);let x=!1;return()=>{x||(x=!0,b(),d())}}function o(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return s}function c(){i++,n||(n=t.subscribe(l),r=doe())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=QP)}function p(){s||(s=!0,c())}function m(){s&&(s=!1,d())}const g={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return g}var hoe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",poe=hoe(),moe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",goe=moe(),yoe=()=>poe||goe?v.useLayoutEffect:v.useEffect,voe=yoe();function XP(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function xoe(t,e){if(XP(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!XP(t[n[i]],e[n[i]]))return!1;return!0}var Pv=Symbol.for("react-redux-context"),Cv=typeof globalThis<"u"?globalThis:{};function woe(){if(!v.createContext)return{};const t=Cv[Pv]??(Cv[Pv]=new Map);let e=t.get(v.createContext);return e||(e=v.createContext(null),t.set(v.createContext,e)),e}var boe=woe();function _oe(t){const{children:e,context:n,serverState:r,store:i}=t,s=v.useMemo(()=>{const l=foe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=v.useMemo(()=>i.getState(),[i]);voe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=n||boe;return v.createElement(o.Provider,{value:s},e)}var Eoe=_oe,Soe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Toe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function G_(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Soe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!xoe(t[r],e[r]))return!1}else if(!Toe(t[r],e[r]))return!1;return!0}function Io(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:r5}function Po(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:r5}var Aoe="Invariant failed";function Ioe(t,e){throw new Error(Aoe)}function Qx(){return Qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qx.apply(null,arguments)}function fm(t){return v.createElement(J3,Qx({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Poe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ve(e))return e;var s=ve(r)||an(r);return s?e(r,i):(s||Ioe(),n)}},Coe=(t,e,n)=>n,koe=(t,e)=>e,ef=z([o_,koe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Noe=z([ef],t=>t==null?void 0:t.maxBarSize),Ooe=(t,e,n,r)=>r,joe=z([Ue,o_,Io,Po,Coe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Roe=(t,e,n)=>{var r=Ue(t),i=Io(t,e),s=Po(t,e);if(!(i==null||s==null))return r==="horizontal"?Bx(t,"yAxis",s,n):Bx(t,"xAxis",i,n)},Moe=(t,e)=>{var n=Ue(t),r=Io(t,e),i=Po(t,e);if(!(r==null||i==null))return n==="horizontal"?Y2(t,"xAxis",r):Y2(t,"yAxis",i)},Doe=z([joe,KZ,Moe],Bse),Loe=(t,e,n)=>{var r,i,s=ef(t,e);if(s!=null){var a=Io(t,e),o=Po(t,e);if(!(a==null||o==null)){var l=Ue(t),u=yD(t),{maxBarSize:c}=s,d=an(c)?u:c,p,m;return l==="horizontal"?(p=Hl(t,"xAxis",a,n),m=Wl(t,"xAxis",a,n)):(p=Hl(t,"yAxis",o,n),m=Wl(t,"yAxis",o,n)),(r=(i=Fp(p,m,!0))!==null&&i!==void 0?i:d)!==null&&r!==void 0?r:0}}},m5=(t,e,n)=>{var r=Ue(t),i=Io(t,e),s=Po(t,e);if(!(i==null||s==null)){var a,o;return r==="horizontal"?(a=Hl(t,"xAxis",i,n),o=Wl(t,"xAxis",i,n)):(a=Hl(t,"yAxis",s,n),o=Wl(t,"yAxis",s,n)),Fp(a,o)}},Voe=z([Doe,yD,HZ,vD,Loe,m5,Noe],Gse),$oe=(t,e,n)=>{var r=Io(t,e);if(r!=null)return Hl(t,"xAxis",r,n)},Foe=(t,e,n)=>{var r=Po(t,e);if(r!=null)return Hl(t,"yAxis",r,n)},zoe=(t,e,n)=>{var r=Io(t,e);if(r!=null)return Wl(t,"xAxis",r,n)},Uoe=(t,e,n)=>{var r=Po(t,e);if(r!=null)return Wl(t,"yAxis",r,n)},Boe=z([Voe,ef],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Woe=z([Roe,ef],Yse),Hoe=z([qt,bb,$oe,Foe,zoe,Uoe,Boe,Ue,jZ,m5,Woe,ef,Ooe],(t,e,n,r,i,s,a,o,l,u,c,d,p)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:w}=l;if(!(d==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||n==null||r==null||i==null||s==null||u==null)){var{data:b}=d,x;if(b!=null&&b.length>0?x=b:x=m==null?void 0:m.slice(g,w+1),x!=null)return wle({layout:o,barSettings:d,pos:a,parentViewBox:e,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:c,displayedData:x,offset:t,cells:p,dataStartIndex:g})}}),Koe=["index"];function Xx(){return Xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xx.apply(null,arguments)}function qoe(t,e){if(t==null)return{};var n,r,i=Goe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Goe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var g5=v.createContext(void 0),Yoe=t=>{var e=v.useContext(g5);if(e!=null)return e.stackId;if(t!=null)return qG(t)},Qoe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Xoe=t=>{var e=v.useContext(g5);if(e!=null){var{stackId:n}=e;return"url(#".concat(Qoe(n,t),")")}},Joe=t=>{var{index:e}=t,n=qoe(t,Koe),r=Xoe(e);return v.createElement(Rn,Xx({className:"recharts-bar-stack-layer",clipPath:r},n))},Zoe=["onMouseEnter","onMouseLeave","onClick"],ele=["value","background","tooltipPosition"],tle=["id"],nle=["onMouseEnter","onClick","onMouseLeave"];function ls(){return ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ls.apply(null,arguments)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rle(t,e,n){return(e=ile(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ile(t){var e=sle(t,"string");return typeof e=="symbol"?e:e+""}function sle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hm(t,e){if(t==null)return{};var n,r,i=ale(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ale(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ole=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:wg(n,e),payload:t}]},lle=v.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,unit:o,tooltipType:l,id:u}=t,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:wg(s,e),hide:a,type:l,color:i,unit:o,graphicalItemId:u}};return v.createElement(Z3,{tooltipEntrySettings:c})});function ule(t){var e=pe(go),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,u=hm(s,Zoe),c=W_(a,r,s.id),d=H_(o),p=K_(l,r,s.id);if(!i||n==null)return null;var m=Qc(i);return v.createElement(ri,{zIndex:Qse(i,gn.barBackground)},n.map((g,w)=>{var{value:b,background:x,tooltipPosition:_}=g,S=hm(g,ele);if(!x)return null;var C=c(g,w),k=d(g,w),O=p(g,w),A=$n($n($n($n($n({option:i,isActive:String(w)===e},S),{},{fill:"#eee"},x),m),lg(u,g,w)),{},{onMouseEnter:C,onMouseLeave:k,onClick:O,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return v.createElement(fm,ls({key:"background-bar-".concat(w)},A))}))}function cle(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return $n($n({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return v.createElement(iie,{value:e?i:void 0},n)}function dle(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:a}=t,o=pe(go),l=pe(O_),u=n&&String(s)===o&&(l==null||a===l),c=u?n:e;return u?v.createElement(ri,{zIndex:gn.activeBar},v.createElement(fm,ls({},r,{name:String(r.name)},i,{isActive:u,option:c,index:s,dataKey:a}))):v.createElement(fm,ls({},r,{name:String(r.name)},i,{isActive:u,option:c,index:s,dataKey:a}))}function fle(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return v.createElement(fm,ls({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function hle(t){var e,{data:n,props:r}=t,i=(e=Ei(r))!==null&&e!==void 0?e:{},{id:s}=i,a=hm(i,tle),{shape:o,dataKey:l,activeBar:u}=r,{onMouseEnter:c,onClick:d,onMouseLeave:p}=r,m=hm(r,nle),g=W_(c,l,s),w=H_(p),b=K_(d,l,s);return n?v.createElement(v.Fragment,null,n.map((x,_)=>v.createElement(Joe,ls({index:_,key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(_),className:"recharts-bar-rectangle"},lg(m,x,_),{onMouseEnter:g(x,_),onMouseLeave:w(x,_),onClick:b(x,_)}),u?v.createElement(dle,{shape:o,activeBar:u,baseProps:a,entry:x,index:_,dataKey:l}):v.createElement(fle,{shape:o,baseProps:a,entry:x,index:_,dataKey:l})))):null}function ple(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=e,d=n.current,p=Ng(e,"recharts-bar-"),[m,g]=v.useState(!1),w=!m,b=v.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),x=v.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return v.createElement(cle,{showLabels:w,rects:r},v.createElement(kg,{animationId:p,begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:b,onAnimationStart:x,key:p},_=>{var S=_===1?r:r==null?void 0:r.map((C,k)=>{var O=d&&d[k];if(O)return $n($n({},C),{},{x:Ut(O.x,C.x,_),y:Ut(O.y,C.y,_),width:Ut(O.width,C.width,_),height:Ut(O.height,C.height,_)});if(i==="horizontal"){var A=Ut(0,C.height,_),T=Ut(C.stackedBarStart,C.y,_);return $n($n({},C),{},{y:T,height:A})}var I=Ut(0,C.width,_),N=Ut(C.stackedBarStart,C.x,_);return $n($n({},C),{},{width:I,x:N})});return _>0&&(n.current=S??null),S==null?null:v.createElement(Rn,null,v.createElement(hle,{props:e,data:S}))}),v.createElement(W3,{label:e.label}),e.children)}function mle(t){var e=v.useRef(null);return v.createElement(ple,{previousRectanglesRef:e,props:t})}var y5=0,gle=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:lt(t,e)}};class yle extends v.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:o,background:l,id:u}=this.props;if(e||n==null)return null;var c=Ye("recharts-bar",i),d=u;return v.createElement(Rn,{className:c,id:u},o&&v.createElement("defs",null,v.createElement(toe,{clipPathId:d,xAxisId:s,yAxisId:a})),v.createElement(Rn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},v.createElement(ule,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),v.createElement(mle,this.props)))}}var vle={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:y5,xAxisId:0,yAxisId:0,zIndex:gn.bar};function xle(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c}=t,{needClip:d}=p5(e,n),p=Vd(),m=rr(),g=B_(t.children,fu),w=pe(_=>Hoe(_,t.id,m,g));if(p!=="vertical"&&p!=="horizontal")return null;var b,x=w==null?void 0:w[0];return x==null||x.height==null||x.width==null?b=0:b=p==="vertical"?x.height/2:x.width/2,v.createElement(eoe,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:gle,errorBarOffset:b},v.createElement(yle,ls({},t,{layout:p,needClip:d,data:w,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function wle(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:p,cells:m,parentViewBox:g,dataStartIndex:w}=t,b=e==="horizontal"?o:a,x=c?b.scale.domain():null,_=GG({numericAxis:b}),S=b.scale(_);return d.map((C,k)=>{var O,A,T,I,N,P;if(c){var R=c[k+w];if(R==null)return null;O=UG(R,x)}else O=lt(C,n),Array.isArray(O)||(O=[_,O]);var j=Poe(r,y5)(O[1],k);if(e==="horizontal"){var re,[ne,$]=[o.scale(O[0]),o.scale(O[1])];A=lI({axis:a,ticks:l,bandSize:s,offset:i.offset,entry:C,index:k}),T=(re=$??ne)!==null&&re!==void 0?re:void 0,I=i.size;var F=ne-$;if(N=Nr(F)?0:F,P={x:A,y:p.top,width:I,height:p.height},Math.abs(j)>0&&Math.abs(N)<Math.abs(j)){var D=mn(N||j)*(Math.abs(j)-Math.abs(N));T-=D,N+=D}}else{var[L,H]=[a.scale(O[0]),a.scale(O[1])];if(A=L,T=lI({axis:o,ticks:u,bandSize:s,offset:i.offset,entry:C,index:k}),I=H-L,N=i.size,P={x:p.left,y:T,width:p.width,height:N},Math.abs(j)>0&&Math.abs(I)<Math.abs(j)){var q=mn(I||j)*(Math.abs(j)-Math.abs(I));I+=q}}if(A==null||T==null||I==null||N==null)return null;var Q=$n($n({},C),{},{stackedBarStart:S,x:A,y:T,width:I,height:N,value:c?O:O[1],payload:C,background:P,tooltipPosition:{x:A+I/2,y:T+N/2},parentViewBox:g},m&&m[k]&&m[k].props);return Q}).filter(Boolean)}function ble(t){var e=Mn(t,vle),n=Yoe(e.stackId),r=rr();return v.createElement(e5,{id:e.id,type:"bar"},i=>v.createElement(v.Fragment,null,v.createElement(Uie,{legendPayload:ole(e)}),v.createElement(lle,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),v.createElement(nse,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),v.createElement(ri,{zIndex:e.zIndex},v.createElement(xle,ls({},e,{id:i})))))}var pm=v.memo(ble,G_);pm.displayName="Bar";var _le=["domain","range"],Ele=["domain","range"];function ZP(t,e){if(t==null)return{};var n,r,i=Sle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eC(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function v5(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=ZP(t,_le),{domain:s,range:a}=e,o=ZP(e,Ele);return!eC(n,s)||!eC(r,a)?!1:G_(i,o)}var Tle=["dangerouslySetInnerHTML","ticks","scale"],Ale=["id","scale"];function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(null,arguments)}function tC(t,e){if(t==null)return{};var n,r,i=Ile(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ile(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ple(t){var e=ut(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?e(jse(t)):n.current!==t&&e(Rse({prev:n.current,next:t})),n.current=t},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(e(Mse(n.current)),n.current=null)},[e]),null}var Cle=t=>{var{xAxisId:e,className:n}=t,r=pe(bb),i=rr(),s="xAxis",a=pe(x=>QD(x,s,e,i)),o=pe(x=>KD(x,e)),l=pe(x=>Bee(x,e)),u=pe(x=>ID(x,e));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:d,scale:p}=t,m=tC(t,Tle),{id:g,scale:w}=u,b=tC(u,Ale);return v.createElement(q_,Jx({},m,b,{x:l.x,y:l.y,width:o.width,height:o.height,className:Ye("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:a,axisType:s}))},kle={allowDataOverflow:Zt.allowDataOverflow,allowDecimals:Zt.allowDecimals,allowDuplicatedCategory:Zt.allowDuplicatedCategory,angle:Zt.angle,axisLine:Ya.axisLine,height:Zt.height,hide:!1,includeHidden:Zt.includeHidden,interval:Zt.interval,minTickGap:Zt.minTickGap,mirror:Zt.mirror,orientation:Zt.orientation,padding:Zt.padding,reversed:Zt.reversed,scale:Zt.scale,tick:Zt.tick,tickCount:Zt.tickCount,tickLine:Ya.tickLine,tickSize:Ya.tickSize,type:Zt.type,xAxisId:0},Nle=t=>{var e=Mn(t,kle);return v.createElement(v.Fragment,null,v.createElement(Ple,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),v.createElement(Cle,e))},Y_=v.memo(Nle,v5);Y_.displayName="XAxis";var Ole=["dangerouslySetInnerHTML","ticks","scale"],jle=["id","scale"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zx.apply(null,arguments)}function nC(t,e){if(t==null)return{};var n,r,i=Rle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mle(t){var e=ut(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?e(Dse(t)):n.current!==t&&e(Lse({prev:n.current,next:t})),n.current=t},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(e(Vse(n.current)),n.current=null)},[e]),null}var Dle=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=v.useRef(null),a=v.useRef(null),o=pe(bb),l=rr(),u=ut(),c="yAxis",d=pe(O=>qD(O,e)),p=pe(O=>Hee(O,e)),m=pe(O=>QD(O,c,e,l)),g=pe(O=>PD(O,e));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!d||V_(i)||v.isValidElement(i)||g==null)){var O=s.current;if(O){var A=O.getCalculatedWidth();Math.round(d.width)!==Math.round(A)&&u($se({id:e,width:A}))}}},[m,d,u,i,e,r,g]),d==null||p==null||g==null)return null;var{dangerouslySetInnerHTML:w,ticks:b,scale:x}=t,_=nC(t,Ole),{id:S,scale:C}=g,k=nC(g,jle);return v.createElement(q_,Zx({},_,k,{ref:s,labelRef:a,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:d.width,height:d.height,className:Ye("recharts-".concat(c," ").concat(c),n),viewBox:o,ticks:m,axisType:c}))},Lle={allowDataOverflow:en.allowDataOverflow,allowDecimals:en.allowDecimals,allowDuplicatedCategory:en.allowDuplicatedCategory,angle:en.angle,axisLine:Ya.axisLine,hide:!1,includeHidden:en.includeHidden,interval:en.interval,minTickGap:en.minTickGap,mirror:en.mirror,orientation:en.orientation,padding:en.padding,reversed:en.reversed,scale:en.scale,tick:en.tick,tickCount:en.tickCount,tickLine:Ya.tickLine,tickSize:Ya.tickSize,type:en.type,width:en.width,yAxisId:0},Vle=t=>{var e=Mn(t,Lle);return v.createElement(v.Fragment,null,v.createElement(Mle,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),v.createElement(Dle,e))},x5=v.memo(Vle,v5);x5.displayName="YAxis";var $le=(t,e)=>e,Q_=z([$le,Ue,TD,Yt,f3,gs,ane,qt],hne),X_=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},w5=jr("mouseClick"),b5=Md();b5.startListening({actionCreator:w5,effect:(t,e)=>{var n=t.payload,r=Q_(e.getState(),X_(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(ste({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var e1=jr("mouseMove"),_5=Md(),ah=null;_5.startListening({actionCreator:e1,effect:(t,e)=>{var n=t.payload;ah!==null&&cancelAnimationFrame(ah);var r=X_(n);ah=requestAnimationFrame(()=>{var i=e.getState(),s=A_(i,i.tooltip.settings.shared);if(s==="axis"){var a=Q_(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(i3({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(r3())}ah=null})}});function Fle(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var rC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},E5=nr({name:"rootProps",initialState:rC,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:rC.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),zle=E5.reducer,{updateOptions:Ule}=E5.actions,S5=nr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Ble}=S5.actions,Wle=S5.reducer,T5=jr("keyDown"),A5=jr("focus"),J_=Md();J_.startListening({actionCreator:T5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=I_(i,du(n),Gd(n),Xd(n)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=gs(n);if(s==="Enter"){var u=om(n,"axis","hover",String(i.index));e.dispatch(Hx({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=Yee(n),d=c==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,m=o+p*d;if(!(l==null||m>=l.length||m<0)){var g=om(n,"axis","hover",String(m));e.dispatch(Hx({active:!0,activeIndex:m.toString(),activeCoordinate:g}))}}}}}});J_.startListening({actionCreator:A5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=om(n,"axis","hover",String(s));e.dispatch(Hx({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var br=jr("externalEvent"),I5=Md(),kv=new Map;I5.startListening({actionCreator:br,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=kv.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:Hte(o),activeDataKey:O_(o),activeIndex:go(o),activeLabel:m3(o),activeTooltipIndex:go(o),isTooltipActive:Kte(o)};n(l,r)}finally{kv.delete(i)}});kv.set(i,a)}}});var Hle=z([uu],t=>t.tooltipItemPayloads),Kle=z([Hle,Qd,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),P5=jr("touchMove"),C5=Md();C5.startListening({actionCreator:P5,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=A_(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var a=Q_(r,X_({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(i3({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(BM),d=(o=u.getAttribute(WM))!==null&&o!==void 0?o:void 0,p=cu(r).find(w=>w.id===d);if(c==null||p==null||d==null)return;var{dataKey:m}=p,g=Kle(r,c,d);e.dispatch(n3({activeDataKey:m,activeIndex:c,activeCoordinate:g,activeGraphicalItemId:d}))}}}});var qle=hM({brush:Xse,cartesianAxis:Fse,chartData:Bne,errorBars:Gae,graphicalItems:ese,layout:DG,legend:zY,options:Vne,polarAxis:mie,polarOptions:Wle,referenceElements:lae,rootProps:zle,tooltip:ate,zIndex:Ine}),Gle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return oG({reducer:qle,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([b5.middleware,_5.middleware,J_.middleware,I5.middleware,C5.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(PM({type:"raf"}))},devTools:{serialize:{replacer:Fle},name:"recharts-".concat(n)}})};function k5(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=rr(),s=v.useRef(null);if(i)return n;s.current==null&&(s.current=Gle(e,r));var a=cb;return v.createElement(Eoe,{context:a,store:s.current},n)}function Yle(t){var{layout:e,margin:n}=t,r=ut(),i=rr();return v.useEffect(()=>{i||(r(jG(e)),r(OG(n)))},[r,i,e,n]),null}var N5=v.memo(Yle,G_);function O5(t){var e=ut();return v.useEffect(()=>{e(Ule(t))},[e,t]),null}function iC(t){var{zIndex:e,isPanorama:n}=t,r=v.useRef(null),i=ut();return v.useLayoutEffect(()=>(r.current&&i(Tne({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Ane({zIndex:e,isPanorama:n}))}),[i,e,n]),v.createElement("g",{tabIndex:-1,ref:r})}function sC(t){var{children:e,isPanorama:n}=t,r=pe(mne);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return v.createElement(v.Fragment,null,i.map(a=>v.createElement(iC,{key:a,zIndex:a,isPanorama:n})),e,s.map(a=>v.createElement(iC,{key:a,zIndex:a,isPanorama:n})))}var Qle=["children"];function Xle(t,e){if(t==null)return{};var n,r,i=Jle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mm.apply(null,arguments)}var Zle={width:"100%",height:"100%",display:"block"},eue=v.forwardRef((t,e)=>{var n=AY(),r=IY(),i=l4();if(!ca(n)||!ca(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=t,u,c;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?c=a.role:c=i?"application":void 0),v.createElement(mR,mm({},a,{title:o,desc:l,role:c,tabIndex:u,width:n,height:r,style:Zle,ref:e}),s)}),tue=t=>{var{children:e}=t,n=pe(Sg);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return v.createElement(mR,{width:r,height:i,x:a,y:s},e)},aC=v.forwardRef((t,e)=>{var{children:n}=t,r=Xle(t,Qle),i=rr();return i?v.createElement(tue,null,v.createElement(sC,{isPanorama:!0},n)):v.createElement(eue,mm({ref:e},r),v.createElement(sC,{isPanorama:!1},n))});function nue(){var t=ut(),[e,n]=v.useState(null),r=pe(eY);return v.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Je(s)&&s!==r&&t(MG(s))}},[e,t,r]),n}function oC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(n),!0).forEach(function(r){iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iue(t,e,n){return(e=sue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sue(t){var e=aue(t,"string");return typeof e=="symbol"?e:e+""}function aue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vo(){return vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vo.apply(null,arguments)}var oue=()=>(Jne(),null);function gm(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var lue=v.forwardRef((t,e)=>{var n,r,i=v.useRef(null),[s,a]=v.useState({containerWidth:gm((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:gm((r=t.style)===null||r===void 0?void 0:r.height)}),o=v.useCallback((u,c)=>{a(d=>{var p=Math.round(u),m=Math.round(c);return d.containerWidth===p&&d.containerHeight===m?d:{containerWidth:p,containerHeight:m}})},[]),l=v.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();o(c,d);var p=g=>{var{width:w,height:b}=g[0].contentRect;o(w,b)},m=new ResizeObserver(p);m.observe(u),i.current=m}},[e,o]);return v.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),v.createElement(v.Fragment,null,v.createElement(Tg,{width:s.containerWidth,height:s.containerHeight}),v.createElement("div",vo({ref:l},t)))}),uue=v.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=v.useState({containerWidth:gm(n),containerHeight:gm(r)}),a=v.useCallback((l,u)=>{s(c=>{var d=Math.round(l),p=Math.round(u);return c.containerWidth===d&&c.containerHeight===p?c:{containerWidth:d,containerHeight:p}})},[]),o=v.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();a(u,c)}},[e,a]);return v.createElement(v.Fragment,null,v.createElement(Tg,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",vo({ref:o},t)))}),cue=v.forwardRef((t,e)=>{var{width:n,height:r}=t;return v.createElement(v.Fragment,null,v.createElement(Tg,{width:n,height:r}),v.createElement("div",vo({ref:e},t)))}),due=v.forwardRef((t,e)=>{var{width:n,height:r}=t;return ns(n)||ns(r)?v.createElement(uue,vo({},t,{ref:e})):v.createElement(cue,vo({},t,{ref:e}))});function fue(t){return t===!0?lue:due}var hue=v.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:p,onTouchEnd:m,onTouchMove:g,onTouchStart:w,style:b,width:x,responsive:_,dispatchTouchEvents:S=!0}=t,C=v.useRef(null),k=ut(),[O,A]=v.useState(null),[T,I]=v.useState(null),N=nue(),P=_b(),R=(P==null?void 0:P.width)>0?P.width:x,j=(P==null?void 0:P.height)>0?P.height:i,re=v.useCallback(K=>{N(K),typeof e=="function"&&e(K),A(K),I(K),K!=null&&(C.current=K)},[N,e,A,I]),ne=v.useCallback(K=>{k(w5(K)),k(br({handler:s,reactEvent:K}))},[k,s]),$=v.useCallback(K=>{k(e1(K)),k(br({handler:u,reactEvent:K}))},[k,u]),F=v.useCallback(K=>{k(r3()),k(br({handler:c,reactEvent:K}))},[k,c]),D=v.useCallback(K=>{k(e1(K)),k(br({handler:d,reactEvent:K}))},[k,d]),L=v.useCallback(()=>{k(A5())},[k]),H=v.useCallback(K=>{k(T5(K.key))},[k]),q=v.useCallback(K=>{k(br({handler:a,reactEvent:K}))},[k,a]),Q=v.useCallback(K=>{k(br({handler:o,reactEvent:K}))},[k,o]),ie=v.useCallback(K=>{k(br({handler:l,reactEvent:K}))},[k,l]),ae=v.useCallback(K=>{k(br({handler:p,reactEvent:K}))},[k,p]),he=v.useCallback(K=>{k(br({handler:w,reactEvent:K}))},[k,w]),ge=v.useCallback(K=>{S&&k(P5(K)),k(br({handler:g,reactEvent:K}))},[k,S,g]),we=v.useCallback(K=>{k(br({handler:m,reactEvent:K}))},[k,m]),Re=fue(_);return v.createElement(_3.Provider,{value:O},v.createElement(JH.Provider,{value:T},v.createElement(Re,{width:R??(b==null?void 0:b.width),height:j??(b==null?void 0:b.height),className:Ye("recharts-wrapper",r),style:rue({position:"relative",cursor:"default",width:R,height:j},b),onClick:ne,onContextMenu:q,onDoubleClick:Q,onFocus:L,onKeyDown:H,onMouseDown:ie,onMouseEnter:$,onMouseLeave:F,onMouseMove:D,onMouseUp:ae,onTouchEnd:we,onTouchMove:ge,onTouchStart:he,ref:re},v.createElement(oue,null),n)))}),pue=["width","height","responsive","children","className","style","compact","title","desc"];function mue(t,e){if(t==null)return{};var n,r,i=gue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var j5=v.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:o,compact:l,title:u,desc:c}=t,d=mue(t,pue),p=Ei(d);return l?v.createElement(v.Fragment,null,v.createElement(Tg,{width:n,height:r}),v.createElement(aC,{otherAttributes:p,title:u,desc:c},s)):v.createElement(hue,{className:a,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},v.createElement(aC,{otherAttributes:p,title:u,desc:c,ref:e},v.createElement(uae,null,s)))});function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t1.apply(null,arguments)}var yue={top:5,right:5,bottom:5,left:5},vue={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:yue,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},xue=v.forwardRef(function(e,n){var r,i=Mn(e.categoricalChartProps,vue),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,c={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return v.createElement(k5,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:s},v.createElement(a5,{chartData:u.data}),v.createElement(N5,{layout:i.layout,margin:i.margin}),v.createElement(O5,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(j5,t1({},i,{ref:n})))}),wue=["axis","item"],R5=v.forwardRef((t,e)=>v.createElement(xue,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wue,tooltipPayloadSearcher:S3,categoricalChartProps:t,ref:e}));function bue(t){var e=ut();return v.useEffect(()=>{e(Ble(t))},[e,t]),null}var _ue=["layout"];function n1(){return n1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n1.apply(null,arguments)}function Eue(t,e){if(t==null)return{};var n,r,i=Sue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tue={top:5,right:5,bottom:5,left:5},M5={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Tue,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Aue=v.forwardRef(function(e,n){var r,i=Mn(e.categoricalChartProps,M5),{layout:s}=i,a=Eue(i,_ue),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=e,d={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return v.createElement(k5,{preloadedState:{options:d},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},v.createElement(a5,{chartData:i.data}),v.createElement(N5,{layout:s,margin:i.margin}),v.createElement(O5,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(bue,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement(j5,n1({},a,{ref:n})))});function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){Iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iue(t,e,n){return(e=Pue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pue(t){var e=Cue(t,"string");return typeof e=="symbol"?e:e+""}function Cue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kue=["item"],Nue=uC(uC({},M5),{},{layout:"centric",startAngle:0,endAngle:360}),Oue=v.forwardRef((t,e)=>{var n=Mn(t,Nue);return v.createElement(Aue,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:kue,tooltipPayloadSearcher:S3,categoricalChartProps:n,ref:e})});function jue({ledgerData:t,currentProjectId:e,selectedMonth:n,isPrivateProject:r}){const i=v.useMemo(()=>{var d,p;if(!(t!=null&&t.transactions)||!n)return[];const o=((p=(d=t.projects)==null?void 0:d.find(m=>m.id===e))==null?void 0:p.rates)||{},l=new Date(n+"-01"),u=[];for(let m=5;m>=0;m--){const g=new Date(l);g.setMonth(g.getMonth()-m),u.push(g.toISOString().slice(0,7))}return u.map(m=>{const w=t.transactions.filter(_=>_.date.startsWith(m)&&(_.projectId||"daily")===e&&!_.isSettlement).reduce((_,S)=>{const C=li(S.amount||0,S.currency||"TWD",o);return _+(isNaN(C)?0:C)},0),x=`${new Date(m+"-01").getMonth()+1}`;return{monthKey:m,label:x,amount:Math.round(w),isCurrent:m===n}})},[t,e,n]),s=v.useMemo(()=>{if(i.length===0)return null;const o=i.reduce((g,w)=>g+w.amount,0),l=i.filter(g=>g.amount>0).length,u=l>0?Math.round(o/l):0,c=i.find(g=>g.isCurrent),d=i[i.length-2];let p="",m="text-gray-500";if(c&&d){const g=c.amount-d.amount,w=d.amount>0?Math.round(g/d.amount*100):0;g>0?(p=` ${vt(g,"TWD")} (+${w}%)`,m="text-rose-500"):g<0?(p=` ${vt(Math.abs(g),"TWD")} (${w}%)`,m="text-emerald-500"):p=""}else p=` ${vt((c==null?void 0:c.amount)||0,"TWD")}`;return{average:u,trendText:p,trendColor:m,currentAmount:(c==null?void 0:c.amount)||0}},[i]);if(!s)return null;const a=({active:o,payload:l,label:u})=>{if(o&&l&&l.length){const c=l[0].payload;return h.jsxs("div",{className:"bg-gray-900 text-white text-xs p-2 rounded-lg shadow-xl",children:[h.jsx("p",{className:"font-bold mb-1",children:c.monthKey}),h.jsx("p",{className:"font-medium text-rose-300",children:vt(c.amount,"TWD",!1)})]})}return null};return h.jsxs("div",{className:"bg-white p-5 rounded-3xl shadow-sm border border-gray-100 mb-6 animate-fade-in",children:[h.jsxs("div",{className:"flex justify-between items-end mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-1",children:""}),h.jsx("p",{className:`text-sm font-bold ${s.trendColor}`,children:s.trendText})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:""}),h.jsx("p",{className:"text-xs font-bold text-gray-600",children:vt(s.average,"TWD")})]})]}),h.jsx("div",{className:"h-40 w-full",children:h.jsx(Eb,{width:"100%",height:"100%",children:h.jsxs(R5,{data:i,margin:{top:5,right:0,left:0,bottom:0},children:[h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"barGradientCurrent",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#f43f5e",stopOpacity:.8}),h.jsx("stop",{offset:"95%",stopColor:"#f43f5e",stopOpacity:.4})]}),h.jsxs("linearGradient",{id:"barGradientNormal",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#e5e7eb",stopOpacity:.8}),h.jsx("stop",{offset:"95%",stopColor:"#e5e7eb",stopOpacity:.4})]})]}),h.jsx(Y_,{dataKey:"label",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#9ca3af",fontWeight:"bold"},dy:10}),h.jsx(L_,{content:h.jsx(a,{}),cursor:{fill:"transparent"}}),h.jsx(d5,{y:s.average,stroke:"#9ca3af",strokeDasharray:"3 3",strokeOpacity:.5}),h.jsx(pm,{dataKey:"amount",radius:[4,4,4,4],barSize:24,children:i.map((o,l)=>h.jsx(fu,{fill:o.isCurrent?"url(#barGradientCurrent)":"url(#barGradientNormal)"},`cell-${l}`))})]})})})]})}const Rue=v.memo(({hostName:t,guestName:e,hostTotal:n,guestTotal:r,hostRatio:i,guestRatio:s,hostColor:a="#3b82f6",guestColor:o="#ec4899"})=>{const l=[{name:"Contribution",Host:n,Guest:r}],u=({active:c,payload:d})=>c&&d&&d.length?h.jsx("div",{className:"bg-gray-900 text-white text-xs p-3 rounded-xl shadow-xl border border-gray-800",children:d.map((p,m)=>h.jsxs("div",{className:"flex items-center gap-2 mb-1 last:mb-0",children:[h.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:p.color}}),h.jsxs("span",{className:"text-gray-300",children:[p.name==="Host"?t:e,":"]}),h.jsx("span",{className:"font-bold",children:vt(p.value,"TWD")}),h.jsxs("span",{className:"text-gray-500 text-[10px]",children:["(",Math.round(p.name==="Host"?i:s),"%)"]})]},m))}):null;return h.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 mb-6 animate-fade-in",children:[h.jsx("h3",{className:"text-gray-600 font-bold mb-4",children:" ( - TWD)"}),h.jsxs("div",{className:"flex justify-between items-center mb-4 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:a}}),h.jsx("span",{className:"text-gray-600",children:t})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-bold text-gray-800",children:vt(n,"TWD")}),h.jsxs("span",{className:"text-xs text-gray-400",children:["(",Math.round(i),"%)"]})]})]}),h.jsxs("div",{className:"flex justify-between items-center mb-4 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:o}}),h.jsx("span",{className:"text-gray-600",children:e})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-bold text-gray-800",children:vt(r,"TWD")}),h.jsxs("span",{className:"text-xs text-gray-400",children:["(",Math.round(s),"%)"]})]})]}),h.jsx("div",{className:"h-6 w-full",children:h.jsx(Eb,{width:"100%",height:"100%",children:h.jsxs(R5,{layout:"vertical",data:l,margin:{top:0,right:0,left:0,bottom:0},children:[h.jsx(Y_,{type:"number",hide:!0}),h.jsx(x5,{type:"category",dataKey:"name",hide:!0}),h.jsx(L_,{cursor:{fill:"transparent"},content:h.jsx(u,{})}),h.jsx(pm,{dataKey:"Host",stackId:"a",fill:a,radius:[4,0,0,4],isAnimationActive:!0,animationDuration:1e3}),h.jsx(pm,{dataKey:"Guest",stackId:"a",fill:o,radius:[0,4,4,0],isAnimationActive:!0,animationDuration:1e3})]})})})]})}),Mue=v.memo(({categoryStats:t,totalExpense:e})=>{const n=({active:r,payload:i})=>{if(r&&i&&i.length){const s=i[0].payload;return h.jsxs("div",{className:"bg-gray-900 text-white text-xs p-2 rounded-lg shadow-xl border border-gray-800",children:[h.jsxs("p",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s.hex}}),h.jsx("span",{className:"font-bold",children:s.name})]}),h.jsx("p",{className:"text-gray-300",children:vt(s.total,"TWD")}),h.jsxs("p",{className:"text-gray-500 text-[10px] mt-0.5",children:[Math.round(s.total/e*100),"%"]})]})}return null};return h.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 mb-6 flex flex-col items-center animate-fade-in",children:[h.jsx("h3",{className:"text-gray-600 font-bold mb-6 w-full text-left",children:" (TWD)"}),h.jsxs("div",{className:"relative w-48 h-48 mb-6",children:[h.jsx(Eb,{width:"100%",height:"100%",children:h.jsxs(Oue,{children:[h.jsx(n5,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"total",isAnimationActive:!0,animationDuration:800,children:t.map((r,i)=>h.jsx(fu,{fill:r.hex||"#e5e7eb",stroke:"none"},`cell-${i}`))}),h.jsx(L_,{content:h.jsx(n,{})})]})}),h.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[h.jsx("span",{className:"text-xs text-gray-400 font-medium",children:""}),h.jsx("span",{className:"text-xl font-bold text-gray-800",children:vt(e,"TWD")})]})]}),h.jsx("div",{className:"w-full space-y-3",children:t.map(r=>h.jsxs("div",{className:"flex items-center justify-between group cursor-default",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 rounded-full transition-transform group-hover:scale-125",style:{backgroundColor:r.hex}}),h.jsx("span",{className:"text-sm text-gray-600 font-medium",children:r.name})]}),h.jsxs("div",{className:"text-sm flex flex-col items-end",children:[h.jsx("span",{className:"font-bold text-gray-800",children:vt(r.total,"TWD")}),h.jsxs("span",{className:"text-gray-400 text-[10px]",children:[Math.round(r.total/e*100),"%"]})]})]},r.id))})]})});function Due({ledgerData:t,currentProjectId:e,statsMonth:n,setStatsMonth:r,privacyMode:i,setEditingTx:s,setIsEditTxModalOpen:a}){var T;if(!t)return null;const o=I=>{const N=new Date(n+"-01");N.setMonth(N.getMonth()+I),r(N.toISOString().slice(0,7))},l=(T=t.projects)==null?void 0:T.find(I=>I.id===e),u=(l==null?void 0:l.type)==="private",{filteredTxs:c,sortedHistory:d,rates:p,hostId:m,guestId:g,hostTotal:w,guestTotal:b,hostRatio:x,guestRatio:_,totalExpense:S,categoryStats:C,hostName:k,guestName:O}=v.useMemo(()=>{var K,J;const I=t.transactions||[],N=t.users||{},P=t.customCategories||tr,j=I.filter(G=>G&&G.id&&G.amount!==void 0).map(G=>{var oe;let B=G.category||{name:"",icon:"help-circle"};if((oe=G.category)!=null&&oe.id){const le=P.find(Ae=>Ae.id===G.category.id);le&&(B=le)}return{...G,amount:parseFloat(G.amount)||0,category:B}}).filter(G=>G.date.startsWith(n)&&(G.projectId||"daily")===e),re=[...j].sort((G,B)=>new Date(B.date)-new Date(G.date)),ne=(l==null?void 0:l.rates)||{JPY:.23,THB:1},$=Object.keys(N).find(G=>N[G].role==="host"),F=Object.keys(N).find(G=>N[G].role==="guest"),D=((K=N[$])==null?void 0:K.name)||"Host",L=((J=N[F])==null?void 0:J.name)||"Guest",H=G=>j.reduce((B,oe)=>{if(oe.isSettlement)return B;const le=li(oe.amount,oe.currency||"TWD",ne);if(isNaN(le))return B;if(oe.splitType==="multi_payer"){if(oe.customSplit&&oe.customSplit[G]){const Ae=parseFloat(oe.customSplit[G])||0;return B+li(Ae,oe.currency||"TWD",ne)}return B}return B+(oe.payer===G?le:0)},0),q=H($),Q=H(F),ie=q+Q,ae=ie>0?q/ie*100:50,he=ie>0?Q/ie*100:50,ge={};let we=0;j.forEach(G=>{var le;if(G.isSettlement)return;const B=li(G.amount,G.currency||"TWD",ne);if(isNaN(B))return;const oe=((le=G.category)==null?void 0:le.id)||"uncategorized";ge[oe]||(ge[oe]=0),ge[oe]+=B,we+=B});const Re=[];return Object.entries(ge).forEach(([G,B])=>{if(G==="uncategorized")Re.push({id:"uncategorized",name:"",hex:"#999999",icon:"Coins",total:B});else{const oe=P.find(le=>le.id===G);if(oe){let le=Ru.slate;oe.colorId&&Ru[oe.colorId]&&(le=Ru[oe.colorId]),Re.push({...oe,total:B,hex:le})}}}),Re.sort((G,B)=>B.total-G.total),{filteredTxs:j,sortedHistory:re,rates:ne,hostId:$,guestId:F,hostName:D,guestName:L,hostTotal:isNaN(q)?0:q,guestTotal:isNaN(Q)?0:Q,hostRatio:isNaN(ae)?50:ae,guestRatio:isNaN(he)?50:he,totalExpense:isNaN(we)?0:we,categoryStats:Re}},[t,n,e,l]),A=I=>{var re;if(u)return[];const N=[],P=t.users||{};if(I.isSettlement){const ne=((re=P[I.payer])==null?void 0:re.name)||"";return N.push({label:`${ne} `,color:"gray"}),N}if(I.splitType==="multi_payer")return N.push({label:"",color:"blue"}),N;const R=P[I.payer],j=(R==null?void 0:R.name)||"";if(N.push({label:j,color:"gray"}),I.splitType==="custom")N.push({label:"",color:"gray"});else if(I.splitType==="even")N.push({label:"",color:"gray"});else{const ne=R==null?void 0:R.role;ne==="host"?I.splitType==="host_all"?N.push({label:"",color:"gray"}):I.splitType==="guest_all"&&N.push({label:"",color:"gray"}):ne==="guest"&&(I.splitType==="guest_all"?N.push({label:"",color:"gray"}):I.splitType==="host_all"&&N.push({label:"",color:"gray"}))}return I.isSettled&&N.push({label:"",color:"green"}),N};return h.jsxs("div",{className:"pb-24 pt-[calc(env(safe-area-inset-top)+2rem)] px-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:""}),h.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[h.jsx("button",{onClick:()=>o(-1),className:"p-1",children:h.jsx(f$,{size:16})}),h.jsx("span",{className:"text-sm font-bold w-20 text-center",children:n}),h.jsx("button",{onClick:()=>o(1),className:"p-1",children:h.jsx(Ss,{size:16})})]})]}),h.jsx(jue,{ledgerData:t,currentProjectId:e,selectedMonth:n,isPrivateProject:u}),!u&&h.jsx(Rue,{hostName:k,guestName:O,hostTotal:w,guestTotal:b,hostRatio:x,guestRatio:_,hostColor:Ru.host,guestColor:Ru.guest}),h.jsx(Mue,{categoryStats:C,totalExpense:S}),h.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 mb-6",children:[h.jsxs("h3",{className:"text-gray-600 font-bold mb-4",children:[" (",d.length,")"]}),h.jsx("div",{className:"space-y-4",children:d.map(I=>{var $,F,D;const N=Pr(($=I.category)==null?void 0:$.icon)||no,P=A(I),R=ua(I.category,"display"),j=I.currency||"TWD",re=j!=="TWD",ne=kn.find(L=>L.code===j);return h.jsxs("div",{onClick:()=>{s(I),a(!0)},className:"flex items-center justify-between p-3 active:bg-gray-50 transition-colors border-b border-gray-50 last:border-0 last:pb-0",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[h.jsxs("div",{className:"text-gray-400 text-xs w-8 text-center shrink-0",children:[new Date(I.date).getDate(),""]}),h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm shrink-0 ${R.containerClass}`,children:h.jsx(N,{size:16,className:R.iconClass})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-medium text-gray-800 text-sm truncate",children:I.note||((F=I.category)==null?void 0:F.name)||""}),h.jsxs("div",{className:"flex items-center flex-wrap gap-1 mt-0.5",children:[h.jsx("p",{className:"text-xs text-gray-400 mr-1 shrink-0",children:(D=I.category)==null?void 0:D.name}),P.map((L,H)=>h.jsx("span",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded border ${L.color==="blue"?"bg-blue-50 text-blue-600 border-blue-100":"bg-gray-100 text-gray-500 border-gray-100"}`,children:L.label},H))]})]})]}),h.jsx("div",{className:"flex flex-col items-end ml-4",children:h.jsxs("span",{className:`font-bold whitespace-nowrap text-sm flex items-center gap-1 ${I.isSettlement?"text-emerald-500":"text-gray-800"}`,children:[re&&h.jsx("span",{className:"text-[10px] grayscale opacity-80 mr-0.5",children:(ne==null?void 0:ne.flag)||j}),vt(I.amount||0,j,i)]})})]},I.id)})})]})]})}function Lue({ledgerData:t,user:e,isEditingProject:n,setIsEditingProject:r,editingProjectData:i,setEditingProjectData:s,handleSaveProject:a,handleDeleteProject:o,handleReorderProjects:l}){var w;const[u,c]=v.useState(!1);if(!t)return null;const d=(t.projects||[]).filter(b=>b.type==="private"?b.owner===(e==null?void 0:e.uid):!0),p=(b,x)=>{const _=x==="up"?b-1:b+1;if(_<0||_>=d.length)return;const S=d[b].id,C=d[_].id,k=[...t.projects||[]],O=k.findIndex(T=>T.id===S),A=k.findIndex(T=>T.id===C);O===-1||A===-1||([k[O],k[A]]=[k[A],k[O]],l(k))},m=()=>{if(i.rates){const b={};Object.keys(i.rates).forEach(x=>{b[x]=parseFloat(i.rates[x])||0}),i.rates=b}i.id==="daily"&&(i.type="public"),a()},g=async b=>{var x;if(c(!1),s(_=>({..._,defaultCurrency:b})),b!=="TWD"&&!((x=i.rates)==null?void 0:x[b])){const S=await Yw(b);S&&s(C=>({...C,rates:{...C.rates,[b]:S}}))}};if(n){const b=i.defaultCurrency||"TWD",x=kn.find(_=>_.code===b);return h.jsxs("div",{className:"pb-24 pt-[calc(env(safe-area-inset-top)+2rem)] px-4 animate-in fade-in slide-in-from-bottom-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:i.id?"":""}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:""}),h.jsx("input",{type:"text",value:i.name,onChange:_=>s({...i,name:_.target.value}),placeholder:"2024 ",className:"w-full p-4 bg-gray-50 rounded-xl outline-none font-bold text-gray-800 focus:ring-2 focus:ring-gray-200 transition-all"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:""}),h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>c(!u),className:"w-full p-4 bg-white border border-gray-200 rounded-xl flex items-center justify-between shadow-sm active:bg-gray-50 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-2xl",children:(x==null?void 0:x.flag)||""}),h.jsxs("div",{className:"flex flex-col items-start",children:[h.jsx("span",{className:"font-bold text-gray-800",children:x==null?void 0:x.code}),h.jsx("span",{className:"text-xs text-gray-400",children:x==null?void 0:x.name})]})]}),h.jsx(zi,{size:16,className:`text-gray-400 transition-transform ${u?"rotate-180":""}`})]}),u&&h.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 z-20 max-h-60 overflow-y-auto p-2",children:kn.map(_=>h.jsxs("button",{onClick:()=>g(_.code),className:`w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors ${b===_.code?"bg-rose-50":""}`,children:[h.jsx("span",{className:"text-xl w-8 text-center",children:_.flag}),h.jsxs("div",{className:"flex-1 text-left",children:[h.jsx("span",{className:`font-bold text-sm ${b===_.code?"text-rose-600":"text-gray-700"}`,children:_.code}),h.jsx("span",{className:"text-xs text-gray-400 ml-2",children:_.name})]}),b===_.code&&h.jsx(to,{size:16,className:"text-rose-500"})]},_.code))})]}),h.jsx("p",{className:"text-[10px] text-gray-400 mt-2 ml-1",children:""})]}),i.id!=="daily"&&h.jsxs("div",{onClick:()=>s({...i,type:i.type==="private"?"public":"private"}),className:`p-4 rounded-xl border flex items-center justify-between cursor-pointer transition-all ${i.type==="private"?"bg-slate-50 border-dashed border-2 border-slate-300 text-slate-600":"bg-white border-gray-200 text-gray-600"}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`p-2 rounded-full ${i.type==="private"?"bg-white text-slate-400 shadow-sm":"bg-gray-100 text-gray-500"}`,children:i.type==="private"?h.jsx(Il,{size:18}):h.jsx(a9,{size:18})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"font-bold text-sm",children:""}),h.jsx("span",{className:`text-[10px] ${i.type==="private"?"text-slate-400":"text-gray-400"}`,children:i.type==="private"?" ()":""})]})]}),h.jsx("div",{className:`w-12 h-6 rounded-full p-1 transition-colors ${i.type==="private"?"bg-slate-400":"bg-gray-200"}`,children:h.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${i.type==="private"?"translate-x-6":""}`})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:""}),h.jsx("div",{className:"grid grid-cols-4 gap-2",children:["project_daily","project_travel","project_house","heart"].map(_=>{const S=Pr(_);return h.jsx("button",{onClick:()=>s({...i,icon:_}),className:`p-4 rounded-xl flex justify-center transition-all ${i.icon===_?"bg-gray-900 text-white shadow-lg scale-105":"bg-gray-50 text-gray-400"}`,children:h.jsx(S,{size:24})},_)})})]}),(b!=="TWD"||i.rates&&Object.keys(i.rates).filter(_=>_!=="TWD").length>0)&&i.id!=="daily"&&h.jsxs("div",{className:"bg-blue-50 p-5 rounded-2xl border border-blue-100 animate-fade-in",children:[h.jsxs("h4",{className:"text-xs font-bold text-blue-500 mb-4 flex items-center gap-2 uppercase tracking-wider",children:[h.jsx(A0,{size:14}),"  (TWD)"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[b!=="TWD"&&h.jsxs("div",{className:"bg-white p-3 rounded-xl border border-blue-100 shadow-sm",children:[h.jsxs("label",{className:"text-[10px] font-bold text-gray-400 mb-1 flex items-center justify-between",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[x==null?void 0:x.flag," ",b," ()"]}),h.jsx("span",{className:"text-blue-500 bg-blue-50 px-1.5 py-0.5 rounded text-[8px]",children:""})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("input",{type:"number",value:((w=i.rates)==null?void 0:w[b])||"",onChange:_=>s({...i,rates:{...i.rates,[b]:_.target.value}}),className:"w-full bg-transparent font-bold text-gray-800 outline-none text-lg",placeholder:"?",step:"0.01"})})]}),Object.keys(i.rates||{}).filter(_=>_!=="TWD"&&_!==b).map(_=>{const S=kn.find(C=>C.code===_);return h.jsxs("div",{className:"bg-white/50 p-3 rounded-xl border border-blue-100",children:[h.jsxs("label",{className:"text-[10px] font-bold text-gray-400 mb-1 flex items-center gap-1",children:[(S==null?void 0:S.flag)||""," ",_]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("input",{type:"number",value:i.rates[_],onChange:C=>s({...i,rates:{...i.rates,[_]:C.target.value}}),className:"w-full bg-transparent font-bold text-gray-600 outline-none",placeholder:"?",step:"0.01"})})]},_)})]})]}),h.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[h.jsx("button",{onClick:m,className:"w-full bg-gray-900 text-white py-4 rounded-xl font-bold shadow-lg shadow-gray-200 active:scale-95 transition-transform",children:""}),h.jsx("button",{onClick:()=>r(!1),className:"w-full bg-gray-100 text-gray-500 py-4 rounded-xl font-bold active:scale-95 transition-transform",children:""})]})]})]})}return h.jsxs("div",{className:"pb-24 pt-[calc(env(safe-area-inset-top)+2rem)] px-4 animate-in fade-in",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:""}),h.jsx("button",{onClick:()=>{s({id:"",name:"",icon:"project_daily",rates:{},type:"public",defaultCurrency:"TWD"}),r(!0)},className:"bg-gray-900 text-white p-2 rounded-xl shadow-lg shadow-gray-300 active:scale-90 transition-transform",children:h.jsx(Yl,{size:20})})]}),h.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map((b,x)=>{var O;const _=Pr(b.icon),S=x===d.length-1,C=x===0,k=b.type==="private";return h.jsxs("div",{className:`
                                p-4 rounded-2xl flex items-center justify-between group transition-colors
                                ${k?"bg-slate-50 border-2 border-dashed border-slate-200":"bg-white border border-gray-100 shadow-sm"}
                            `,children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:`
                                    w-12 h-12 rounded-2xl flex items-center justify-center transition-colors
                                    ${k?"bg-white text-slate-400 shadow-sm":"bg-gray-50 text-gray-500 group-hover:bg-rose-50 group-hover:text-rose-500"}
                                `,children:h.jsx(_,{size:24})}),h.jsxs("div",{children:[h.jsxs("h3",{className:`font-bold flex items-center gap-2 ${k?"text-slate-500":"text-gray-600"}`,children:[b.name,k&&h.jsx(Il,{size:14,className:"text-slate-400"})]}),h.jsx("div",{className:"mt-1 flex gap-2",children:b.id==="daily"?h.jsx("span",{className:"bg-gray-100 text-gray-400 px-1.5 py-0.5 rounded-md text-[10px] font-bold",children:""}):b.defaultCurrency&&b.defaultCurrency!=="TWD"&&h.jsxs("span",{className:"bg-blue-50 text-blue-600 px-1.5 py-0.5 rounded-md text-[10px] font-bold flex items-center gap-1",children:[(O=kn.find(A=>A.code===b.defaultCurrency))==null?void 0:O.flag," ",b.defaultCurrency]})})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:`flex flex-col gap-1 mr-2 p-1 rounded-lg ${k?"bg-slate-200/50":"bg-gray-50"}`,children:[h.jsx("button",{onClick:()=>p(x,"up"),disabled:C,className:`p-1 rounded disabled:opacity-30 transition-all shadow-sm ${k?"hover:bg-white text-slate-400":"hover:bg-white text-gray-500 hover:text-gray-900"}`,children:h.jsx(m$,{size:14})}),h.jsx("button",{onClick:()=>p(x,"down"),disabled:S,className:`p-1 rounded disabled:opacity-30 transition-all shadow-sm ${k?"hover:bg-white text-slate-400":"hover:bg-white text-gray-500 hover:text-gray-900"}`,children:h.jsx(zi,{size:14})})]}),b.id!=="daily"&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:`w-[1px] h-8 mx-1 ${k?"bg-slate-200":"bg-gray-100"}`}),h.jsx("button",{onClick:()=>{s(b),r(!0)},className:`p-2 rounded-full transition-colors ${k?"text-slate-400 hover:text-slate-600 hover:bg-slate-200":"text-gray-300 hover:text-gray-600 hover:bg-gray-50"}`,children:h.jsx(kN,{size:18})}),h.jsx("button",{onClick:()=>o(b.id),className:`p-2 rounded-full transition-colors ${k?"text-slate-300 hover:text-red-500 hover:bg-red-50":"text-red-200 hover:text-red-500 hover:bg-red-50"}`,children:h.jsx(bo,{size:18})})]})]})]},b.id)})})]})}function Vue({ledgerData:t,user:e,isHost:n,kickMember:r}){return t!=null&&t.users?h.jsxs("div",{className:"border-t border-gray-50 p-4 bg-gray-50/50",children:[h.jsxs("h4",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[h.jsx(Pl,{size:12})," "]}),h.jsx("div",{className:"space-y-3",children:Object.keys(t.users).map(i=>{const s=t.users[i],a=i===e.uid,o=s.role||"guest";return h.jsxs("div",{className:"flex items-center gap-3",children:[rx(s.avatar,"w-8 h-8"),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:`font-bold text-sm ${a?"text-gray-900":"text-gray-600"}`,children:s.name}),a&&h.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-200 px-1.5 rounded-full",children:"()"})]})}),h.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full ${o==="host"?"bg-rose-50 text-rose-600":"bg-gray-200 text-gray-500"}`,children:o==="host"?"":""}),n&&!a&&h.jsx("button",{onClick:()=>r(i),className:"p-2 bg-gray-100 text-gray-400 rounded-full hover:bg-rose-50 hover:text-rose-500 transition-colors",children:h.jsx(bo,{size:14})})]},i)})})]}):null}function $ue({ledgerData:t,isEditingCategory:e,setIsEditingCategory:n,editingCategoryData:r,setEditingCategoryData:i,handleSaveCategory:s,handleDeleteCategory:a,handleReorderCategories:o}){const l=(t==null?void 0:t.customCategories)||tr,[u,c]=v.useState(!1),[d,p]=v.useState(null),m=_=>{if(!d)p(_);else{if(d===_){p(null);return}const S=l.findIndex(A=>A.id===d),C=l.findIndex(A=>A.id===_);if(S===-1||C===-1)return;const k=[...l],[O]=k.splice(S,1);k.splice(C,0,O),o(k),p(null)}},g=()=>{i({id:"",name:"",icon:"food",colorId:"slate"}),n(!0)},w=_=>{i(_),n(!0)},b=()=>{n(!1),s()},x=_=>{n(!1),a(_)};return h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h2",{className:"text-sm font-bold text-gray-400 flex items-center gap-2",children:[h.jsx(YS,{size:16})," "]}),h.jsxs("button",{onClick:()=>{c(!u),p(null)},className:`text-xs font-bold px-3 py-1.5 rounded-full transition-all flex items-center gap-1 ${u?"bg-rose-500 text-white shadow-md":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:[h.jsx(VV,{size:12})," ",u?"":""]})]}),h.jsxs("div",{className:"grid grid-cols-5 gap-2 sm:gap-3",children:[l.map(_=>{const S=Pr(_.icon),C=d===_.id,k=ua(_,"input"),O=u?{animation:`wiggle 0.3s ease-in-out infinite ${Math.random()*.5}s`}:{};return h.jsxs("button",{style:O,onClick:()=>u?m(_.id):w(_),className:`flex flex-col items-center gap-1 group relative transition-all duration-300 ${C?"scale-110 z-10":"active:scale-95"}`,children:[h.jsx("div",{className:`
                                        w-12 h-12 rounded-2xl flex items-center justify-center transition-all shadow-sm border
                                        ${C?k.activeClass:k.containerClass}
                                        ${C?"shadow-lg":""}
                                    `,children:h.jsx(S,{size:20,className:C?"text-white":k.iconClass})}),h.jsx("span",{className:"text-[10px] font-medium text-gray-500 truncate w-full text-center",children:_.name})]},_.id)}),!u&&h.jsxs("button",{onClick:g,className:"flex flex-col items-center gap-1 group active:scale-95 transition-transform",children:[h.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gray-50 border border-dashed border-gray-300 flex items-center justify-center text-gray-400 group-hover:border-rose-300 group-hover:text-rose-500 transition-colors",children:h.jsx(Yl,{size:20})}),h.jsx("span",{className:"text-[10px] font-medium text-gray-400",children:""})]})]}),h.jsx("style",{children:`
                @keyframes wiggle {
                    0% { transform: rotate(0deg); }
                    25% { transform: rotate(-2deg); }
                    75% { transform: rotate(2deg); }
                    100% { transform: rotate(0deg); }
                }
            `}),e&&h.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center sm:px-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>n(!1)}),h.jsxs("div",{className:"bg-white w-full sm:max-w-md sm:rounded-3xl rounded-t-3xl shadow-2xl relative z-10 flex flex-col max-h-[90vh] animate-slide-up",children:[h.jsxs("div",{className:"bg-white px-6 py-4 flex justify-between items-center border-b border-gray-100 rounded-t-3xl",children:[h.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:r.id?"":""}),h.jsx("button",{onClick:()=>n(!1),className:"p-2 bg-gray-50 rounded-full text-gray-400 hover:text-gray-600",children:h.jsx(hi,{size:20})})]}),h.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[h.jsx("div",{className:"flex justify-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[(()=>{const _=ua(r,"display");return h.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shadow-xl transition-colors ${_.containerClass}`,children:o1.createElement(Pr(r.icon),{size:36,className:_.iconClass})})})(),h.jsx("span",{className:"font-bold text-gray-800",children:r.name||""})]})}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:""}),h.jsx("input",{type:"text",value:r.name,onChange:_=>i({...r,name:_.target.value}),className:"w-full bg-gray-50 text-gray-900 font-bold py-3 px-4 rounded-xl outline-none border-2 border-transparent focus:border-rose-500 transition-colors",placeholder:"..."})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2 flex items-center gap-2",children:[h.jsx(y9,{size:12})," "]}),h.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 p-3 no-scrollbar",children:gc.map(_=>{var S;return h.jsx("button",{onClick:()=>{var C;_.id||Object.keys(gc).find(k=>gc[k].hex===_.hex),i({...r,colorId:((C=_.name)==null?void 0:C.toLowerCase())||"slate"})},className:`w-10 h-10 rounded-full shrink-0 transition-transform ${r.colorId===((S=_.name)==null?void 0:S.toLowerCase())?"ring-4 ring-offset-2 ring-gray-200 scale-110":"hover:scale-105"}`,style:{backgroundColor:_.hex}},_.hex)})})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2 flex items-center gap-2",children:[h.jsx(YS,{size:12})," "]}),h.jsx("div",{className:"grid grid-cols-5 gap-3 max-h-40 overflow-y-auto p-1",children:dH.map(_=>{const S=Pr(_),C=r.icon===_;return h.jsx("button",{onClick:()=>i({...r,icon:_}),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all ${C?"bg-gray-900 text-white shadow-lg scale-105":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:h.jsx(S,{size:20})},_)})})]})]}),h.jsxs("div",{className:"p-4 border-t border-gray-100 flex gap-3 bg-white pb-[calc(env(safe-area-inset-bottom)+1rem)] rounded-b-3xl",children:[r.id&&h.jsx("button",{onClick:()=>x(r.id),className:"p-4 bg-gray-50 text-gray-400 rounded-2xl hover:bg-red-50 hover:text-red-500 transition-colors",children:h.jsx(bo,{size:20})}),h.jsxs("button",{onClick:b,disabled:!r.name,className:"flex-1 bg-gray-900 text-white font-bold py-4 rounded-2xl shadow-lg shadow-gray-200 active:scale-95 transition-transform disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:[h.jsx(to,{size:20})," "]})]})]})]})]})}function Fue({ledgerData:t,updatePaymentMethods:e}){const n=(t==null?void 0:t.paymentMethods)||[],[r,i]=v.useState(!1),[s,a]=v.useState({id:"",name:""}),o=(c,d)=>{const p=[...n],m=d==="up"?c-1:c+1;m<0||m>=p.length||([p[c],p[m]]=[p[m],p[c]],e(p))},l=c=>{if(!window.confirm(""))return;const d=n.filter(p=>p.id!==c);e(d)},u=()=>{if(!s.name.trim())return;let c=[...n];s.id?c=c.map(d=>d.id===s.id?{...d,name:s.name}:d):c.push({id:Ho(),name:s.name}),e(c),i(!1),a({id:"",name:""})};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"p-4 flex justify-between items-center active:bg-gray-50 transition-colors cursor-pointer",onClick:()=>i(!0),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-gray-100 text-gray-600 rounded-lg",children:h.jsx(ip,{size:18})}),h.jsx("span",{className:"font-bold text-gray-700 text-sm",children:""})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-[10px] text-gray-400 font-bold",children:[n.length," "]}),h.jsx(kN,{size:16,className:"text-gray-300"})]})]}),r&&h.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/40 backdrop-blur-sm px-4",onClick:()=>i(!1),children:h.jsxs("div",{className:"bg-white rounded-3xl p-6 w-full max-w-sm shadow-2xl animate-scale-up",onClick:c=>c.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(ip,{size:18})," "]}),h.jsx("button",{onClick:()=>i(!1),className:"p-1.5 bg-gray-50 rounded-full text-gray-400 hover:bg-gray-100",children:h.jsx(hi,{size:18})})]}),h.jsx("p",{className:"text-xs text-gray-400 mb-4",children:""}),h.jsxs("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto pr-1 mb-4",children:[n.map((c,d)=>h.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("button",{onClick:()=>o(d,"up"),disabled:d===0,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:hover:text-gray-400",children:h.jsx(HV,{size:12})}),h.jsx("button",{onClick:()=>o(d,"down"),disabled:d===n.length-1,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:hover:text-gray-400",children:h.jsx(DV,{size:12})})]}),h.jsx("input",{value:c.name,onChange:p=>{const m=[...n];m[d].name=p.target.value},onBlur:p=>{const m=[...n];m[d].name=p.target.value,e(m)},className:"flex-1 bg-transparent font-bold text-gray-700 outline-none text-sm"}),h.jsx("button",{onClick:()=>l(c.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:h.jsx(bo,{size:16})})]},c.id)),n.length===0&&h.jsx("div",{className:"text-center py-6 border border-dashed border-gray-200 rounded-xl",children:h.jsx("span",{className:"text-xs text-gray-400",children:""})})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{value:s.name,onChange:c=>a({...s,name:c.target.value}),placeholder:" (: LINE Pay)",className:"flex-1 bg-gray-50 px-4 py-3 rounded-xl text-sm font-bold outline-none border border-transparent focus:bg-white focus:border-rose-200",onKeyDown:c=>{c.key==="Enter"&&u()}}),h.jsx("button",{onClick:u,disabled:!s.name,className:"bg-gray-900 text-white p-3 rounded-xl disabled:opacity-50",children:h.jsx(Yl,{size:20})})]})]})})]})}function zue({user:t,ledgerData:e,isEditingCategory:n,setIsEditingCategory:r,editingCategoryData:i,setEditingCategoryData:s,handleSaveCategory:a,handleDeleteCategory:o,handleExport:l,handleLogout:u,isAvatarModalOpen:c,setIsAvatarModalOpen:d,myNickname:p,setMyNickname:m,updateNickname:g,tempAvatar:w,handleAvatarSelect:b,confirmAvatarUpdate:x,handleFixIdentity:_,ledgerCode:S,updateLedgerCurrency:C,currentProjectId:k,handleReorderCategories:O,setView:A,updateUserSetting:T}){var Ct,ct,Xt,Jt,Hn,ln;const{leaveLedger:I,resetAccount:N,deleteAccount:P,kickMember:R,updatePaymentMethods:j}=dR();v.useEffect(()=>{window.scrollTo(0,0)},[]);const[re,ne]=v.useState(!1),[$,F]=v.useState(!1),[D,L]=v.useState(!1),[H,q]=v.useState(!1),[Q,ie]=v.useState(0),ae=(Ct=e==null?void 0:e.projects)==null?void 0:Ct.find(U=>U.id===k),he=(ae==null?void 0:ae.rates)||{},[ge,we]=v.useState(he),K=(((ct=e==null?void 0:e.users)==null?void 0:ct[t==null?void 0:t.uid])||{}).favoriteCurrencies||qw,G=((Jt=(Xt=e==null?void 0:e.users)==null?void 0:Xt[t==null?void 0:t.uid])==null?void 0:Jt.role)==="host";v.useEffect(()=>{he&&we(U=>({...U,...he}))},[he]);const B=()=>{const U=`${window.location.origin}/?invite=${S}`;navigator.share?navigator.share({title:" SweetLedger",text:"",url:U}).catch(console.error):(navigator.clipboard.writeText(U),alert(" "))},oe=()=>{navigator.clipboard.writeText(S),ne(!0),setTimeout(()=>ne(!1),2e3)},le=(U,fe)=>{we(Ee=>({...Ee,[U]:fe}))},Ae=U=>{const fe=ge[U];fe&&!isNaN(parseFloat(fe))?C(U,fe):we(Ee=>({...Ee,[U]:he[U]}))},Ie=async U=>{let fe=[...K];const Ee=!fe.includes(U);if(Ee){if(fe.length>=4){alert(" 4 ");return}fe.push(U)}else if(fe.length>1)fe=fe.filter(Ve=>Ve!==U);else{alert("");return}T?(await T("favoriteCurrencies",fe),Ee&&U!=="TWD"&&Yw(U).then(Ve=>{Ve&&C(U,Ve)})):console.warn("API App.jsx  updateUserSetting")},Me=async()=>{if(window.confirm("")&&window.confirm(""))try{await P()}catch(U){U.message==="REQ_RELOGIN"?(alert(`

`),await u()):alert(""+U.message)}};return h.jsxs("div",{className:"pb-24 pt-[calc(env(safe-area-inset-top)+2rem)] px-4 animate-in fade-in duration-500",children:[h.jsx("div",{className:"flex items-center justify-between mb-6",children:h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:""})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[h.jsxs("div",{className:"p-4 flex items-center gap-4",children:[h.jsxs("button",{onClick:()=>d(!0),className:"relative group shrink-0",children:[rx((ln=(Hn=e==null?void 0:e.users)==null?void 0:Hn[t.uid])==null?void 0:ln.avatar,"w-16 h-16"),h.jsx("div",{className:"absolute bottom-0 right-0 bg-gray-900 text-white p-1.5 rounded-full border-2 border-white shadow-sm",children:h.jsx(w9,{size:10})})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:""}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("input",{type:"text",value:p,onChange:U=>m(U.target.value),onBlur:g,className:"flex-1 min-w-0 bg-transparent border-b border-gray-200 focus:border-rose-500 outline-none text-gray-900 font-bold py-1 px-0 transition-colors text-lg"})})]})]}),h.jsxs("div",{className:"border-t border-gray-50 p-4 active:bg-gray-50 transition-colors flex justify-between items-center group",children:[h.jsxs("div",{onClick:oe,className:"cursor-pointer flex-1",children:[h.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:""}),h.jsx("p",{className:"text-base font-mono font-medium text-gray-600 tracking-widest group-hover:text-rose-500 transition-colors",children:S})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:B,className:"p-2 rounded-full text-gray-300 hover:bg-gray-100 hover:text-rose-500 transition-colors",children:h.jsx(M9,{size:18})}),h.jsx("button",{onClick:oe,className:`p-2 rounded-full transition-colors ${re?"bg-green-50 text-green-600":"text-gray-300 hover:bg-gray-100"}`,children:re?h.jsx(to,{size:18}):h.jsx(A$,{size:18})})]})]}),h.jsx(Vue,{ledgerData:e,user:t,isHost:G,kickMember:R})]}),h.jsx("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:h.jsx($ue,{ledgerData:e,isEditingCategory:n,setIsEditingCategory:r,editingCategoryData:i,setEditingCategoryData:s,handleSaveCategory:a,handleDeleteCategory:o,handleReorderCategories:O})}),h.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden divide-y divide-gray-50",children:[h.jsxs("div",{className:"p-4 flex justify-between items-center active:bg-gray-50 transition-colors cursor-pointer",onClick:()=>F(!0),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-gray-100 text-gray-600 rounded-lg",children:h.jsx(no,{size:18})}),h.jsx("span",{className:"font-bold text-gray-700 text-sm",children:""})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"flex -space-x-1",children:[K.slice(0,3).map(U=>h.jsx("span",{className:"text-[10px] bg-gray-100 border border-white px-1.5 py-0.5 rounded-md text-gray-500 font-bold",children:U},U)),K.length>3&&h.jsx("span",{className:"text-[10px] bg-gray-50 border border-white px-1.5 py-0.5 rounded-md text-gray-400 font-bold",children:"..."})]}),h.jsx(Ss,{size:16,className:"text-gray-300"})]})]}),h.jsxs("div",{className:"p-4 flex justify-between items-center active:bg-gray-50 transition-colors cursor-pointer bg-white",onClick:()=>L(!0),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-gray-100 text-gray-600 rounded-lg",children:h.jsx(A0,{size:18})}),h.jsx("span",{className:"font-bold text-gray-700 text-sm",children:" (TWD)"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-[10px] text-gray-400 font-bold",children:[K.filter(U=>U!=="TWD"&&ge[U]).length," "]}),h.jsx(Ss,{size:16,className:"text-gray-300"})]})]}),h.jsxs("div",{className:"p-4 flex justify-between items-center active:bg-gray-50 transition-colors cursor-pointer",onClick:()=>A("subscriptions"),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-gray-100 text-gray-600 rounded-lg",children:h.jsx(ON,{size:18})}),h.jsx("span",{className:"font-bold text-gray-700 text-sm",children:""})]}),h.jsx(Ss,{size:16,className:"text-gray-300"})]}),h.jsx(Fue,{ledgerData:e,updatePaymentMethods:j}),h.jsxs("div",{className:"p-4 flex justify-between items-center active:bg-gray-50 transition-colors cursor-pointer",onClick:l,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-gray-100 text-gray-600 rounded-lg",children:h.jsx(U$,{size:18})}),h.jsx("span",{className:"font-bold text-gray-700 text-sm",children:" CSV"})]}),h.jsx(Ss,{size:16,className:"text-gray-300"})]}),h.jsx("div",{className:"p-4 flex justify-between items-center active:bg-gray-50 transition-colors cursor-pointer",onClick:u,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-gray-100 text-gray-500 rounded-lg",children:h.jsx(d9,{size:18})}),h.jsx("span",{className:"font-bold text-gray-500 text-sm",children:" (Logout)"})]})})]}),h.jsxs("section",{className:"space-y-3 pt-2",children:[h.jsxs("h3",{className:"text-xs font-bold text-rose-500 ml-2 flex items-center gap-1",children:[h.jsx(eT,{size:12})," "]}),h.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden border border-gray-100 divide-y divide-gray-50",children:[h.jsxs("div",{className:`p-4 flex justify-between items-center transition-colors cursor-pointer ${G?"active:bg-gray-50 hover:bg-gray-50":"opacity-50 grayscale cursor-not-allowed"}`,onClick:N,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-gray-100 text-gray-500 rounded-lg",children:h.jsx(k9,{size:18})}),h.jsxs("div",{className:"flex flex-col text-left",children:[h.jsx("span",{className:"font-bold text-gray-500 text-sm",children:""}),h.jsx("span",{className:"text-[10px] text-gray-400",children:G?" ()":""})]})]}),G&&h.jsx(Ss,{size:16,className:"text-gray-300"})]}),h.jsxs("div",{className:"p-4 flex justify-between items-center active:bg-gray-50 hover:bg-gray-50 transition-colors cursor-pointer",onClick:I,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-gray-100 text-gray-500 rounded-lg",children:h.jsx(tF,{size:18})}),h.jsxs("div",{className:"flex flex-col text-left",children:[h.jsx("span",{className:"font-bold text-gray-500 text-sm",children:""}),h.jsx("span",{className:"text-[10px] text-gray-400",children:""})]})]}),h.jsx(Ss,{size:16,className:"text-gray-300"})]}),h.jsxs("div",{className:"p-4 flex justify-between items-center active:bg-gray-50 hover:bg-gray-50 transition-colors cursor-pointer",onClick:Me,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-gray-100 text-gray-500 rounded-lg",children:h.jsx(eT,{size:18})}),h.jsxs("div",{className:"flex flex-col text-left",children:[h.jsx("span",{className:"font-bold text-gray-500 text-sm",children:""}),h.jsx("span",{className:"text-[10px] text-gray-400",children:" User"})]})]}),h.jsx(Ss,{size:16,className:"text-gray-300"})]})]})]}),h.jsxs("div",{className:"text-center pt-8 pb-8",children:[h.jsx("div",{onClick:()=>{ie(U=>{const fe=U+1;return fe>=5&&q(!0),fe})},className:"inline-block",children:h.jsx("p",{className:"text-[10px] text-gray-300 mt-2 font-mono select-none active:scale-95 transition-transform",children:"SweetLedger v2.0.0 (Pro)"})}),H&&h.jsxs("button",{onClick:_,className:"mt-4 text-[10px] text-rose-300 hover:text-rose-400 flex items-center gap-1 mx-auto bg-rose-50 px-3 py-1 rounded-full animate-fade-in",children:[h.jsx(L9,{size:10}),"  (Debug)"]})]})]}),$&&h.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/40 backdrop-blur-sm px-4",onClick:()=>F(!1),children:h.jsxs("div",{className:"bg-white rounded-3xl p-6 w-full max-w-sm shadow-2xl animate-scale-up",onClick:U=>U.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(no,{size:18})," "]}),h.jsx("button",{onClick:()=>F(!1),className:"p-1.5 bg-gray-50 rounded-full text-gray-400 hover:bg-gray-100",children:h.jsx(hi,{size:18})})]}),h.jsx("p",{className:"text-xs text-gray-400 mb-4",children:" 4 "}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:kn.map(U=>{const fe=K.includes(U.code);return h.jsxs("button",{onClick:()=>Ie(U.code),className:`px-3 py-2 rounded-xl text-xs font-bold flex items-center gap-2 transition-all border ${fe?"bg-gray-900 text-white border-gray-900 shadow-md":"bg-gray-50 text-gray-500 border-gray-50 hover:bg-gray-100"}`,children:[h.jsx("span",{className:"text-sm",children:U.flag}),U.code,fe&&h.jsx(to,{size:12,className:"ml-1"})]},U.code)})}),h.jsx("button",{onClick:()=>F(!1),className:"w-full py-3 font-bold text-white bg-gray-900 rounded-xl shadow-lg shadow-gray-200",children:""})]})}),D&&h.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/40 backdrop-blur-sm px-4",onClick:()=>L(!1),children:h.jsxs("div",{className:"bg-white rounded-3xl p-6 w-full max-w-sm shadow-2xl animate-scale-up",onClick:U=>U.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(A0,{size:18}),"  (TWD)"]}),h.jsx("button",{onClick:()=>L(!1),className:"p-1.5 bg-gray-50 rounded-full text-gray-400 hover:bg-gray-100",children:h.jsx(hi,{size:18})})]}),h.jsx("p",{className:"text-xs text-gray-400 mb-4",children:" TWD "}),h.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-1",children:[K.filter(U=>U!=="TWD").map(U=>{var fe;return h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-100 focus-within:border-rose-200 focus-within:ring-2 focus-within:ring-rose-50 focus-within:bg-white transition-all shadow-sm",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-xl",children:(fe=kn.find(Ee=>Ee.code===U))==null?void 0:fe.flag}),h.jsx("span",{className:"font-bold text-gray-700",children:U})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("input",{type:"number",value:ge[U]!==void 0?ge[U]:"",onChange:Ee=>le(U,Ee.target.value),onBlur:()=>Ae(U),className:"w-24 bg-transparent text-lg font-bold text-gray-900 outline-none text-right",placeholder:"?",step:"0.01"})})]},U)}),K.filter(U=>U!=="TWD").length===0&&h.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[h.jsx("p",{className:"text-sm text-gray-400 font-bold",children:""}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:""})]})]}),h.jsx("button",{onClick:()=>L(!1),className:"w-full mt-6 py-3 font-bold text-white bg-gray-900 rounded-xl shadow-lg shadow-gray-200 active:scale-95 transition-transform",children:""})]})}),c&&h.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40 backdrop-blur-sm px-4",onClick:()=>d(!1),children:h.jsxs("div",{className:"bg-white rounded-3xl p-6 w-full max-w-sm shadow-2xl animate-scale-up",onClick:U=>U.stopPropagation(),children:[h.jsx("h3",{className:"text-center font-bold text-lg mb-6 text-gray-800",children:""}),h.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:Object.keys(vc).map(U=>h.jsxs("button",{onClick:()=>b(U),className:`aspect-square rounded-2xl flex flex-col items-center justify-center gap-2 transition-all border-2 
                                ${w===U?"bg-rose-50 border-rose-500 text-rose-500 shadow-md scale-105":"bg-gray-50 border-transparent text-gray-400 hover:bg-gray-100 hover:text-gray-600"}`,children:[rx(U,"w-10 h-10 !bg-transparent !text-current !rounded-none !border-0"),h.jsx("span",{className:"text-[10px] font-bold",children:vc[U].name})]},U))}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-3 font-bold text-gray-500 bg-gray-100 rounded-xl",children:""}),h.jsx("button",{onClick:x,className:"flex-1 py-3 font-bold text-white bg-gray-900 rounded-xl shadow-lg shadow-gray-200",children:""})]})]})})]})}function Uue({handleGoogleLogin:t,loading:e,onJoinWithCode:n}){const[r,i]=v.useState(""),s=()=>{r&&n&&n(r)};return h.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden bg-white",children:[h.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[80vw] h-[80vw] bg-rose-50 rounded-full blur-3xl opacity-60 pointer-events-none"}),h.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[80vw] h-[80vw] bg-blue-50 rounded-full blur-3xl opacity-60 pointer-events-none"}),h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 z-10 text-center",children:[h.jsxs("div",{className:"mb-12 space-y-4",children:[h.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-rose-400 to-rose-600 rounded-3xl rotate-3 shadow-xl shadow-rose-200 flex items-center justify-center mx-auto",children:h.jsx("span",{className:"text-4xl",children:""})}),h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:["Sweet",h.jsx("span",{className:"text-rose-500",children:"ledger"})]}),h.jsx("p",{className:"text-gray-500 mt-2 text-sm font-medium",children:""})]})]}),h.jsxs("div",{className:"w-full max-w-xs space-y-8",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsx("button",{onClick:t,disabled:e,className:"w-full bg-gray-900 text-white py-4 rounded-2xl font-bold shadow-xl shadow-gray-200 flex items-center justify-center gap-3 active:scale-95 transition-transform disabled:opacity-70",children:e?h.jsx("span",{className:"animate-pulse",children:"..."}):h.jsxs(h.Fragment,{children:[h.jsx(u9,{size:20})," Google "]})}),h.jsx("p",{className:"text-[10px] text-gray-400",children:""})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-gray-100"})}),h.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:h.jsx("span",{className:"bg-white px-2 text-gray-300",children:"OR"})})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:r,onChange:a=>i(a.target.value.toUpperCase()),placeholder:"",className:"flex-1 bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-center text-sm font-bold tracking-widest focus:outline-none focus:ring-2 focus:ring-rose-500 transition-all placeholder:font-normal placeholder:tracking-normal",maxLength:6}),h.jsx("button",{onClick:s,disabled:!r||e,className:"bg-rose-100 text-rose-600 px-4 rounded-xl font-bold disabled:opacity-50 active:scale-95 transition-transform",children:h.jsx(T0,{size:20})})]}),h.jsx("p",{className:"text-[10px] text-gray-400",children:""})]})]})]}),h.jsx("div",{className:"p-6 text-center",children:h.jsxs("p",{className:"text-xs text-gray-300 flex items-center justify-center gap-1",children:["Made with ",h.jsx(Z1,{size:10,className:"fill-rose-300 text-rose-300"})," for Couples"]})})]})}function Bue({user:t,onCreate:e,onJoin:n}){const[r,i]=v.useState(!1),[s,a]=v.useState(""),o=()=>{s&&n(s)};return h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gradient-to-br from-rose-50 to-white animate-in fade-in duration-700",children:h.jsxs("div",{className:"w-full max-w-sm text-center space-y-8",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"w-16 h-16 bg-rose-100 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-sm",children:h.jsx(ew,{className:"text-rose-500",size:32})}),h.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[", ",(t==null?void 0:t.displayName)||"","!"]}),h.jsx("p",{className:"text-gray-500",children:""})]}),r?h.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-xl border border-gray-100 space-y-4 animate-in slide-in-from-bottom-4",children:[h.jsxs("div",{className:"text-left",children:[h.jsx("h3",{className:"font-bold text-gray-800",children:""}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" 6 "})]}),h.jsx("input",{type:"text",value:s,onChange:l=>a(l.target.value.toUpperCase()),placeholder:"X7Y8Z9",className:"w-full bg-gray-50 border border-gray-200 text-center text-2xl font-mono tracking-widest py-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:6}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>i(!1),className:"flex-1 py-3 text-gray-500 font-medium hover:bg-gray-50 rounded-xl transition-colors",children:""}),h.jsx("button",{onClick:o,disabled:!s,className:"flex-1 py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg shadow-blue-200 disabled:opacity-50 disabled:shadow-none active:scale-95 transition-all",children:""})]})]}):h.jsxs("div",{className:"grid gap-4",children:[h.jsxs("button",{onClick:e,className:"group relative flex items-center gap-4 p-4 bg-white border-2 border-gray-100 rounded-2xl hover:border-rose-200 hover:shadow-lg transition-all text-left",children:[h.jsx("div",{className:"bg-rose-50 p-3 rounded-full group-hover:bg-rose-100 transition-colors",children:h.jsx(Yl,{className:"text-rose-500",size:24})}),h.jsxs("div",{children:[h.jsx("div",{className:"font-bold text-gray-800",children:""}),h.jsx("div",{className:"text-xs text-gray-400",children:""})]}),h.jsx(T0,{className:"ml-auto text-gray-300 group-hover:text-rose-400",size:20})]}),h.jsxs("button",{onClick:()=>i(!0),className:"group relative flex items-center gap-4 p-4 bg-white border-2 border-gray-100 rounded-2xl hover:border-blue-200 hover:shadow-lg transition-all text-left",children:[h.jsx("div",{className:"bg-blue-50 p-3 rounded-full group-hover:bg-blue-100 transition-colors",children:h.jsx(Rm,{className:"text-blue-500",size:24})}),h.jsxs("div",{children:[h.jsx("div",{className:"font-bold text-gray-800",children:""}),h.jsx("div",{className:"text-xs text-gray-400",children:" 6 "})]}),h.jsx(T0,{className:"ml-auto text-gray-300 group-hover:text-blue-400",size:20})]})]})]})})}function Wue({isOpen:t,onClose:e,editingTx:n,ledgerData:r,user:i,updateTransaction:s,deleteTransaction:a,currentProjectId:o,updateProjectRates:l}){var Me,Ct,ct,Xt,Jt,Hn,ln;if(!t||!n||!r)return null;const[u,c]=v.useState(""),[d,p]=v.useState(""),[m,g]=v.useState(""),[w,b]=v.useState(null),[x,_]=v.useState(""),[S,C]=v.useState("even"),[k,O]=v.useState(""),[A,T]=v.useState(""),[I,N]=v.useState(!1),[P,R]=v.useState("TWD"),[j,re]=v.useState(""),[ne,$]=v.useState(!1),[F,D]=v.useState(""),L=(Me=r.projects)==null?void 0:Me.find(U=>U.id===o),H=(L==null?void 0:L.type)==="private",q=r.users||{},Q=Object.keys(q).find(U=>q[U].role==="host"),ie=Object.keys(q).find(U=>q[U].role==="guest"),ae=Q&&((Ct=q[Q])==null?void 0:Ct.name)||"",he=ie&&((ct=q[ie])==null?void 0:ct.name)||"",we=(((Xt=r.users)==null?void 0:Xt[i==null?void 0:i.uid])||{}).favoriteCurrencies||qw;v.useEffect(()=>{var U;if(n){c(n.amount.toString()),p(n.note||""),R(n.currency||"TWD");try{const dt=n.date?new Date(n.date):new Date;g(Yc(dt))}catch{g(Yc())}_(n.payer);let fe=n.splitType||"even";if(fe==="custom"&&n.customSplit){const dt=Object.keys(n.customSplit),vr=n.payer;dt.length===1?dt[0]===vr?fe="self":fe="partner":dt.length>1&&(fe="multi_payer")}C(fe);const Ee=(U=n.category)==null?void 0:U.id,Ve=(r.customCategories||tr).find(dt=>dt.id===Ee)||n.category||tr[0];b(Ve),n.customSplit?(Q&&n.customSplit[Q]&&O(n.customSplit[Q].toString()),ie&&n.customSplit[ie]&&T(n.customSplit[ie].toString())):(O(""),T("")),O(""),T("")}re(n.paymentMethod||"")},[n,Q,ie,r.customCategories]),v.useEffect(()=>{H&&i&&(C("self"),_(i.uid))},[H,i]);const Re=async()=>{if(!(!u||parseFloat(u)<=0||I)){N(!0);try{const U=parseFloat(u);let fe=null;if(!H&&(S==="custom"||S==="multi_payer")){const Ee=parseFloat(k)||0,Ve=parseFloat(A)||0;if(Math.abs(Ee+Ve-U)>.1){alert(` (${Ee+Ve})  (${U})`),N(!1);return}fe={},Q&&(fe[Q]=Ee),ie&&(fe[ie]=Ve)}await s({...n,amount:U,currency:P,category:w,note:d||w.name,date:new Date(m).toISOString(),payer:H?i.uid:x,splitType:H?"self":S,customSplit:H?null:fe,paymentMethod:j}),e()}catch(U){console.error("Update failed",U),alert("")}finally{N(!1)}}},K=async()=>{if(window.confirm(""))try{await a(n.id),e()}catch(U){console.error(U)}},J=(U,fe)=>{const Ee=parseFloat(u)||0,Ve=parseFloat(fe)||0;if(S==="multi_payer")if(U==="host"){O(fe);const dt=Ee-Ve;T(dt>=0?dt.toString():"0")}else{T(fe);const dt=Ee-Ve;O(dt>=0?dt.toString():"0")}else U==="host"?O(fe):T(fe)},G=U=>{var Ee;const fe=(Ee=q[x])==null?void 0:Ee.role;return U==="host"?fe==="host"?` (${ae})`:fe==="guest"?` (${ae})`:`${ae} `:fe==="guest"?` (${he})`:fe==="host"?` (${he})`:`${he} `},B=F?kn.filter(U=>U.code.includes(F.toUpperCase())||U.name.includes(F)):kn,oe=U=>{R(U),$(!1),D("")},le=r.customCategories||tr,Ae=Pr((w==null?void 0:w.icon)||"food"),Ie=ua(w,"input");return h.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center sm:px-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:e}),h.jsxs("div",{className:"bg-white w-full sm:w-[400px] sm:rounded-2xl rounded-t-3xl p-5 pb-8 max-h-[90vh] overflow-y-auto relative z-10 animate-slide-up",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800",children:""}),h.jsx("button",{onClick:e,className:"p-2 bg-gray-100 rounded-full text-gray-500 hover:bg-gray-200",children:h.jsx(hi,{size:20})})]}),h.jsx("div",{className:"flex justify-center mb-6",children:h.jsxs("div",{className:"text-4xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx("span",{className:"text-2xl text-gray-300",children:((Jt=kn.find(U=>U.code===P))==null?void 0:Jt.symbol)||"$"}),h.jsx("input",{type:"number",value:u,onChange:U=>c(U.target.value),className:"w-32 text-center outline-none bg-transparent placeholder-gray-200",placeholder:"0"}),h.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-1 text-sm font-bold bg-gray-100 rounded-lg px-3 py-1.5 text-gray-700 hover:bg-gray-200 transition-colors",children:[P," ",h.jsx(zi,{size:14})]})]})}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx("select",{value:w==null?void 0:w.id,onChange:U=>{const fe=le.find(Ee=>Ee.id===U.target.value);fe&&b(fe)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",children:le.map(U=>h.jsx("option",{value:U.id,children:U.name},U.id))}),h.jsxs("div",{className:`flex items-center gap-2 px-3 py-3 rounded-xl border ${Ie.activeClass} border-transparent flex-none min-w-[100px]`,children:[h.jsx(Ae,{size:20}),h.jsx("span",{className:"font-bold text-sm truncate max-w-[60px]",children:w==null?void 0:w.name})]})]}),h.jsx("input",{type:"text",value:d,onChange:U=>p(U.target.value),placeholder:"...",className:"flex-1 bg-gray-50 px-4 rounded-xl border border-gray-100 outline-none text-sm font-medium focus:border-rose-200"})]}),h.jsxs("div",{className:"flex items-center bg-gray-50 px-4 py-3 rounded-xl border border-gray-100",children:[h.jsx(jm,{size:18,className:"text-gray-400 mr-3"}),h.jsx("input",{type:"date",value:m,onChange:U=>g(U.target.value),className:"bg-transparent font-bold text-gray-700 outline-none w-full text-sm"})]}),!H&&h.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 border border-gray-100 space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[h.jsx(Rm,{size:16}),h.jsx("span",{className:"text-xs font-bold",children:""})]}),h.jsxs("select",{value:S,onChange:U=>C(U.target.value),className:"bg-white border border-gray-200 text-xs font-bold py-1 px-2 rounded-lg outline-none",children:[h.jsx("option",{value:"even",children:""}),h.jsx("option",{value:"multi_payer",children:""}),h.jsx("option",{value:"self",children:((Hn=q[x])==null?void 0:Hn.role)==="host"?G("host"):G("guest")}),h.jsx("option",{value:"partner",children:((ln=q[x])==null?void 0:ln.role)==="host"?G("guest"):G("host")})]})]}),(S==="multi_payer"||S==="custom")&&h.jsxs("div",{className:"flex gap-2 animate-fade-in",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-[10px] text-gray-400",children:ae}),h.jsx("input",{type:"number",value:k,onChange:U=>J("host",U.target.value),className:"w-full pl-10 pr-2 py-2 text-xs rounded border border-gray-200 text-right outline-none"})]}),h.jsxs("div",{className:"relative flex-1",children:[h.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-[10px] text-gray-400",children:he}),h.jsx("input",{type:"number",value:A,onChange:U=>J("guest",U.target.value),className:"w-full pl-10 pr-2 py-2 text-xs rounded border border-gray-200 text-right outline-none"})]})]}),h.jsx("div",{className:"h-[1px] bg-gray-200 w-full"}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[h.jsx(Pl,{size:16}),h.jsx("span",{className:"text-xs font-bold",children:""})]}),h.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar max-w-[200px]",children:Object.keys(q).map(U=>h.jsx("button",{onClick:()=>_(U),className:`text-[10px] font-bold px-3 py-1 rounded-full border transition-colors whitespace-nowrap ${x===U?"bg-gray-800 text-white border-gray-800":"bg-white text-gray-500 border-gray-200"}`,children:q[U].name},U))})]})]}),S!=="multi_payer"&&!H&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h-[1px] bg-gray-200 w-full"}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[h.jsx(ip,{size:16}),h.jsx("span",{className:"text-xs font-bold",children:""})]}),h.jsxs("div",{className:"relative w-40",children:[h.jsxs("select",{value:j,onChange:U=>re(U.target.value),className:`w-full appearance-none bg-white border border-gray-200 text-xs font-bold py-1 pl-2 pr-8 rounded-lg outline-none text-right ${j?"text-gray-700":"text-gray-400"}`,children:[h.jsx("option",{value:"",children:""}),(r.paymentMethods||[]).map(U=>h.jsx("option",{value:U.id,children:U.name},U.id))]}),h.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:h.jsx(zi,{size:14})})]})]})]}),H&&h.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-slate-50 rounded-xl text-slate-400 border border-slate-100",children:[h.jsx(Il,{size:12}),h.jsx("span",{className:"text-xs font-bold",children:" ()"})]})]}),h.jsxs("div",{className:"flex gap-3 mt-8",children:[h.jsx("button",{onClick:K,className:"p-4 rounded-2xl bg-red-50 text-red-500 hover:bg-red-100 transition-colors",children:h.jsx(bo,{size:24})}),h.jsxs("button",{onClick:Re,disabled:I,className:"flex-1 bg-gray-900 text-white font-bold rounded-2xl py-4 flex items-center justify-center gap-2 active:scale-95 transition-transform disabled:opacity-50",children:[I?h.jsx(uc,{className:"animate-spin"}):h.jsx(to,{size:24}),""]})]}),ne&&h.jsxs("div",{className:"absolute inset-0 z-[70] flex flex-col justify-end",children:[h.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>$(!1)}),h.jsxs("div",{className:"bg-white rounded-t-3xl p-6 relative z-10 max-h-[80vh] flex flex-col animate-slide-up shadow-2xl",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800",children:""}),h.jsx("button",{onClick:()=>$(!1),className:"p-2 bg-gray-50 rounded-full",children:h.jsx(hi,{size:20})})]}),h.jsxs("div",{className:"relative mb-4",children:[h.jsx(jN,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"...",value:F,onChange:U=>D(U.target.value),className:"w-full bg-gray-50 pl-10 pr-4 py-3 rounded-xl font-bold text-sm outline-none border border-transparent focus:bg-white focus:border-rose-200 transition-all"})]}),h.jsxs("div",{className:"overflow-y-auto space-y-6 flex-1",children:[!F&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-2",children:""}),h.jsx("div",{className:"grid grid-cols-3 gap-3",children:["TWD",...we.filter(U=>U!=="TWD")].map(U=>{const fe=kn.find(Ee=>Ee.code===U);return fe?h.jsxs("button",{onClick:()=>oe(U),className:`flex flex-col items-center justify-center gap-1 p-4 rounded-2xl border transition-all ${P===U?"bg-rose-50 border-rose-500 text-rose-600 ring-1 ring-rose-500":"bg-white border-gray-100 hover:border-gray-300"}`,children:[h.jsx("span",{className:"text-2xl",children:fe.flag}),h.jsx("span",{className:"font-bold text-sm",children:U})]},U):null})})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-2",children:""}),h.jsx("div",{className:"space-y-2",children:B.map(U=>h.jsxs("button",{onClick:()=>oe(U.code),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-xl transition-colors text-left",children:[h.jsx("span",{className:"text-2xl w-8 text-center",children:U.flag}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-bold text-gray-800",children:U.code}),h.jsx("div",{className:"text-xs text-gray-400",children:U.name})]}),P===U.code&&h.jsx(AN,{size:18,className:"text-rose-500"})]},U.code))})]})]})]})]})]})]})}function Hue({ledgerData:t,user:e,setView:n,handleDeleteSubscription:r,onBack:i}){if(!t)return null;const o=[...(t.subscriptions||[]).filter(c=>{var p;const d=(p=t.projects)==null?void 0:p.find(m=>m.id===c.projectId);return d&&d.type==="private"?d.owner===e.uid:!0})].sort((c,d)=>new Date(c.nextPaymentDate)-new Date(d.nextPaymentDate)),l=c=>{const d=new Date;d.setHours(0,0,0,0);const p=new Date(c);p.setHours(0,0,0,0);const m=p-d,g=Math.ceil(m/(1e3*60*60*24));return g<0?" ()":g===0?"":g===1?"":`${g} `},u=(c,d)=>c==="monthly"?` ${d} `:c==="weekly"?"":"";return h.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col pt-[calc(env(safe-area-inset-top)+1rem)] pb-6 relative animate-in fade-in",children:[h.jsx("div",{className:"px-4 mb-6 flex justify-between items-center",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:i||(()=>n("dashboard")),className:"p-2 -ml-2 bg-white rounded-full shadow-sm border border-gray-100 active:scale-95 transition-transform",children:i?h.jsx(FV,{size:20,className:"text-gray-500"}):h.jsx(hi,{size:20,className:"text-gray-500"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:""})]})}),h.jsxs("div",{className:"flex-1 px-4 overflow-y-auto space-y-4",children:[o.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[h.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:h.jsx(uc,{size:32,className:"opacity-30"})}),h.jsx("p",{className:"font-bold",children:""}),h.jsx("p",{className:"text-xs mt-2",children:""})]}):o.map((c,d)=>{var _,S;const p=((_=c.category)==null?void 0:_.id)||"other",m=(t.customCategories||tr).find(C=>C.id===p)||tr[0],g=Pr(m.icon),w=(S=t.projects)==null?void 0:S.find(C=>C.id===c.projectId),b=new Date(c.nextPaymentDate)<new Date,x=ua(m,"display");return h.jsxs("div",{className:`bg-white p-5 rounded-2xl shadow-sm border border-gray-100 relative overflow-hidden transition-all ${b?"ring-2 ring-rose-100":""}`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-xl shadow-sm ${x.containerClass}`,children:h.jsx(g,{size:24,className:x.iconClass})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:c.name}),h.jsxs("p",{className:"text-xs text-gray-400 flex items-center gap-1 font-medium mt-0.5",children:[(w==null?void 0:w.name)||"","  ",u(c.cycle,c.payDay)]})]})]}),h.jsx("span",{className:"font-bold text-lg text-gray-800",children:vt(c.amount,c.currency||"TWD")})]}),h.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-50",children:[h.jsxs("div",{className:`flex items-center gap-1 text-xs font-bold ${b?"text-rose-500":"text-emerald-500"}`,children:[h.jsx(jm,{size:14}),l(c.nextPaymentDate)," (",new Date(c.nextPaymentDate).toLocaleDateString(),")"]}),h.jsxs("button",{onClick:C=>{C.stopPropagation(),confirm(`${c.name}`)&&r(c)},className:"flex items-center gap-1 text-xs text-red-500 font-bold hover:bg-red-50 px-3 py-1.5 rounded-lg transition-colors active:scale-95",children:[h.jsx(bo,{size:14})," /"]})]})]},d)}),h.jsxs("div",{className:"bg-blue-50 p-4 rounded-2xl flex gap-3 items-start mt-6 border border-blue-100",children:[h.jsx(TN,{size:20,className:"text-blue-500 flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"text-xs text-blue-700 leading-relaxed",children:[h.jsx("p",{className:"font-bold mb-1",children:""}),h.jsx("p",{children:" App "})]})]})]})]})}function Kue(){const{user:t,loading:e,loginWithGoogle:n,logout:r}=iR(),{ledgerCode:i,ledgerData:s,isLedgerInitializing:a,createLedger:o,joinLedger:l,disconnectLedger:u,setLedgerCode:c,checkUserBinding:d,addTransaction:p,updateTransaction:m,deleteTransaction:g,deleteSubscription:w,settleUp:b,saveProject:x,deleteProject:_,reorderProjects:S,updateProjectRates:C,saveCategory:k,deleteCategory:O,reorderCategories:A,updateUserSetting:T,resetAccount:I,fixIdentity:N}=dR(),[P,R]=v.useState(()=>localStorage.getItem("sweet_ledger_code")?"dashboard":"onboarding"),[j,re]=v.useState(0),[ne,$]=v.useState(!1),[F,D]=v.useState(!1),[L,H]=v.useState(()=>localStorage.getItem("sweet_last_project_id")||"daily"),[q,Q]=v.useState(()=>new URLSearchParams(window.location.search).get("invite")||""),[ie,ae]=v.useState(!1),[he,ge]=v.useState(null),[we,Re]=v.useState(!1),[K,J]=v.useState({id:"",name:"",icon:"project_daily"}),[G,B]=v.useState(!1),[oe,le]=v.useState({id:"",name:"",icon:"food",color:gc[0].class,hex:gc[0].hex}),[Ae,Ie]=v.useState(""),[Me,Ct]=v.useState(!1),[ct,Xt]=v.useState(""),[Jt,Hn]=v.useState(new Date().toISOString().slice(0,7));v.useEffect(()=>{window.scrollTo(0,0)},[P]),v.useEffect(()=>{L&&localStorage.setItem("sweet_last_project_id",L)},[L]),v.useEffect(()=>{s&&s.projects&&(s.projects.some(We=>We.id===L)||H("daily"))},[s,L]),v.useEffect(()=>{(async()=>{if(i&&t&&s){P==="onboarding"&&R("dashboard");return}if(t&&!i&&!a){if(D(!0),q)try{await l(q,t),Q("")}catch(We){alert(`: ${We.message}`),Q(""),R("decision")}else{const We=await d(t.uid);We?(c(We),localStorage.setItem("sweet_ledger_code",We)):R("decision")}D(!1);return}!t&&!i&&!e&&R("onboarding")})()},[i,a,e,t,q,s]),v.useEffect(()=>{s&&t&&s.users&&s.users[t.uid]&&Ie(s.users[t.uid].name)},[s,t]);const ln=async()=>{try{await n()}catch(be){alert(`: ${be.message}`)}},U=async be=>{Q(be),await ln()},fe=async()=>{D(!0);try{await o(t)}catch(be){alert(be.message)}D(!1)},Ee=async be=>{D(!0);try{await l(be,t)}catch(We){alert(We.message)}D(!1)},Ve=async()=>{confirm("")&&(u(),localStorage.removeItem("sweet_last_currency"),localStorage.removeItem("sweet_last_project_id"),await r(),R("onboarding"))},dt=be=>{re(We=>We+1),R("add")},vr=async()=>{!i||!ct||(Ct(!1),await T("avatar",ct),Xt(""))},Co=async(be,We)=>{!i||!L||await C(L,be,We)},hu=async()=>{!i||!Ae||await T("name",Ae)},Ii=async()=>{prompt(`
 RESET `)==="RESET"&&await I()},ko=async()=>{if(alert(` (Host)

 App`),!confirm(`

 (Guest)



`))return;const be=prompt(`

`);if(be==="")try{await N(),alert("")}catch{alert("")}else be!==null&&alert("")},No=async()=>{if(!K.name)return;Re(!1);const be={...K};be.type==="private"&&!be.owner&&(be.owner=t.uid),J({id:"",name:"",icon:"project_daily"});const We=await x(be);We&&H(We)},ys=async be=>{confirm("")&&(L===be&&H("daily"),await _(be))},pu=async()=>{oe.name&&(B(!1),await k({...oe}))},mu=async be=>{confirm("")&&(B(!1),await O(be))},wa=async(be,We,jt)=>{if(!(!be||be<=0)&&confirm(` ${vt(be,"TWD")}  ${We} `))try{await b(be,jt,We,L)}catch{alert("")}},Oo=()=>{if(!s)return;let be=`data:text/csv;charset=utf-8,Date,Project,Category,Note,Amount,Currency,Payer,SplitType
`;s.transactions.forEach(jt=>{var Ea;const Kn=s.projects.find(St=>St.id===jt.projectId);if((Kn==null?void 0:Kn.type)==="private"&&Kn.owner!==t.uid)return;const Ci=[new Date(jt.date).toLocaleDateString(),(Kn==null?void 0:Kn.name)||"Unknown",jt.category.name,`"${jt.note||""}"`,jt.amount,jt.currency||"TWD",((Ea=s.users[jt.payer])==null?void 0:Ea.name)||"Unknown",jt.splitType].join(",");be+=Ci+`
`});const We=document.createElement("a");We.setAttribute("href",encodeURI(be)),We.setAttribute("download",`export_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(We),We.click()},Pi=!(i&&s&&t)&&e,ba=t&&i&&!s&&a,_a=t&&i&&!s&&!a;return Pi||ba||F&&!s?h.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white text-gray-900 z-[200] relative",children:[h.jsx("div",{style:{fontSize:"4rem",animation:"sweet-bounce 1s infinite"},children:""}),h.jsx("p",{style:{marginTop:"1rem",color:"#db2777",fontWeight:"bold",fontSize:"0.875rem",animation:"sweet-fade 1.5s infinite alternate"},children:F?"...":"SweetLedger Loading..."})]}):_a?h.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white p-6 text-center animate-in fade-in duration-300",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:h.jsx(A9,{className:"text-gray-400",size:32})}),h.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:""}),h.jsx("p",{className:"text-gray-500 text-sm mb-6 max-w-xs",children:""}),h.jsx("button",{onClick:()=>u(),className:"px-6 py-3 bg-gray-900 text-white font-bold rounded-xl active:scale-95 transition-transform",children:" (Reset)"})]}):h.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans pb-[env(safe-area-inset-bottom)] animate-in fade-in duration-500 relative",children:[P==="onboarding"&&h.jsx(Uue,{handleGoogleLogin:ln,loading:F,onJoinWithCode:U}),P==="decision"&&h.jsx(Bue,{user:t,onCreate:fe,onJoin:Ee}),P!=="onboarding"&&P!=="decision"&&s&&t&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:P==="add"?"block h-full":"hidden",children:h.jsx(UH,{ledgerData:s,user:t,currentProjectId:L,setView:R,addTransaction:p,updateProjectRates:C},j)}),h.jsx("div",{className:P==="subscriptions"?"block h-full":"hidden",children:h.jsx(Hue,{ledgerData:s,user:t,setView:R,handleDeleteSubscription:w})}),h.jsxs("div",{className:["dashboard","stats","projects","settings"].includes(P)?"block h-full":"hidden",children:[h.jsx("div",{className:P==="dashboard"?"block":"hidden",children:h.jsx(MH,{ledgerData:s,currentProjectId:L,setCurrentProjectId:H,privacyMode:ne,setPrivacyMode:$,setIsEditTxModalOpen:ae,setEditingTx:ge,user:t,handleSettleUp:wa,handleOpenAddExpense:dt,setView:R})}),h.jsx("div",{className:P==="stats"?"block":"hidden",children:h.jsx(Due,{ledgerData:s,currentProjectId:L,statsMonth:Jt,setStatsMonth:Hn,privacyMode:ne,setEditingTx:ge,setIsEditTxModalOpen:ae})}),h.jsx("div",{className:P==="projects"?"block":"hidden",children:h.jsx(Lue,{ledgerData:s,user:t,isEditingProject:we,setIsEditingProject:Re,editingProjectData:K,setEditingProjectData:J,handleSaveProject:No,handleDeleteProject:ys,handleReorderProjects:S})}),h.jsx("div",{className:P==="settings"?"block":"hidden",children:h.jsx(zue,{ledgerData:s,user:t,setView:R,isEditingCategory:G,setIsEditingCategory:B,editingCategoryData:oe,setEditingCategoryData:le,handleSaveCategory:pu,handleDeleteCategory:mu,handleExport:Oo,handleResetAccount:Ii,handleLogout:Ve,isAvatarModalOpen:Me,setIsAvatarModalOpen:Ct,myNickname:Ae,setMyNickname:Ie,updateNickname:hu,tempAvatar:ct,handleAvatarSelect:Xt,confirmAvatarUpdate:vr,handleFixIdentity:ko,ledgerCode:i,updateLedgerCurrency:Co,currentProjectId:L,handleReorderCategories:A,updateUserSetting:T})}),h.jsx("div",{className:"fixed bottom-0 left-0 w-full bg-white/90 backdrop-blur-md border-t border-gray-100 pb-[calc(env(safe-area-inset-bottom)+0.5rem)] pt-2 px-6 z-[50]",children:h.jsxs("div",{className:"flex justify-between items-center max-w-md mx-auto",children:[h.jsxs("button",{onClick:()=>R("dashboard"),className:`flex flex-col items-center gap-1 p-2 ${P==="dashboard"?"text-rose-500":"text-gray-400"}`,children:[h.jsx(lc,{size:24,strokeWidth:P==="dashboard"?2.5:2}),h.jsx("span",{className:"text-[10px] font-medium",children:""})]}),h.jsxs("button",{onClick:()=>R("stats"),className:`flex flex-col items-center gap-1 p-2 ${P==="stats"?"text-rose-500":"text-gray-400"}`,children:[h.jsx(l$,{size:24,strokeWidth:P==="stats"?2.5:2}),h.jsx("span",{className:"text-[10px] font-medium",children:""})]}),h.jsx("div",{className:"relative -top-6",children:h.jsx("button",{onClick:()=>dt(),className:"w-16 h-16 bg-gray-900 rounded-full flex items-center justify-center text-white shadow-xl shadow-gray-300 active:scale-90 transition-transform",children:h.jsx(Yl,{size:32})})}),h.jsxs("button",{onClick:()=>R("projects"),className:`flex flex-col items-center gap-1 p-2 ${P==="projects"?"text-rose-500":"text-gray-400"}`,children:[h.jsx(SN,{size:24,strokeWidth:P==="projects"?2.5:2}),h.jsx("span",{className:"text-[10px] font-medium",children:""})]}),h.jsxs("button",{onClick:()=>R("settings"),className:`flex flex-col items-center gap-1 p-2 ${P==="settings"?"text-rose-500":"text-gray-400"}`,children:[h.jsx(j9,{size:24,strokeWidth:P==="settings"?2.5:2}),h.jsx("span",{className:"text-[10px] font-medium",children:""})]})]})})]}),h.jsx(Wue,{isOpen:ie,onClose:()=>{ae(!1),ge(null)},editingTx:he,ledgerData:s,user:t,currentProjectId:L,updateTransaction:async be=>{ae(!1),ge(null),await m(be)},deleteTransaction:async be=>{ae(!1),ge(null),await g(be)},updateProjectRates:C})]})]})}const que="modulepreload",Gue=function(t){return"/"+t},cC={},Yue=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Gue(l),l in cC)return;cC[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":que,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((p,m)=>{d.addEventListener("load",p),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Que(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:a}=t;let o,l;const u=async(d=!0)=>{await l};async function c(){if("serviceWorker"in navigator){if(o=await Yue(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/sw.js",{scope:"/",type:"classic"})).catch(d=>{a==null||a(d)}),!o)return;o.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),o.addEventListener("installed",d=>{d.isUpdate||r==null||r()}),o.register({immediate:e}).then(d=>{s?s("/sw.js",d):i==null||i(d)}).catch(d=>{a==null||a(d)})}}return l=c(),u}const Xue=v.createContext(null),Nv={didCatch:!1,error:null};class Jue extends v.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Nv}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var n,r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:s,reason:"imperative-api"}),this.setState(Nv)}}componentDidCatch(e,n){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,e,n)}componentDidUpdate(e,n){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&n.error!==null&&Zue(e.resetKeys,i)){var s,a;(s=(a=this.props).onReset)===null||s===void 0||s.call(a,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(Nv)}}render(){const{children:e,fallbackRender:n,FallbackComponent:r,fallback:i}=this.props,{didCatch:s,error:a}=this.state;let o=e;if(s){const l={error:a,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")o=n(l);else if(r)o=v.createElement(r,l);else if(i!==void 0)o=i;else throw a}return v.createElement(Xue.Provider,{value:{didCatch:s,error:a,resetErrorBoundary:this.resetErrorBoundary}},o)}}function Zue(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((n,r)=>!Object.is(n,e[r]))}Que({onNeedRefresh(){},onOfflineReady(){console.log("App ready to work offline")}});function ece({error:t,resetErrorBoundary:e}){return h.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gray-50 text-center animate-in fade-in",children:[h.jsx("div",{className:"w-16 h-16 bg-rose-100 rounded-full flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-3xl",children:""})}),h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:""}),h.jsx("p",{className:"text-gray-500 text-sm mb-6 max-w-xs mx-auto",children:""}),h.jsx("div",{className:"w-full max-w-sm bg-white p-4 rounded-xl border border-gray-200 shadow-sm mb-6 overflow-x-auto text-left",children:h.jsx("p",{className:"text-xs font-mono text-red-500 break-all",children:t.message||"Unknown Error"})}),h.jsxs("div",{className:"flex gap-3 w-full max-w-xs",children:[h.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 py-3 bg-gray-200 text-gray-700 font-bold rounded-xl active:scale-95 transition-transform",children:""}),h.jsx("button",{onClick:e,className:"flex-1 py-3 bg-gray-900 text-white font-bold rounded-xl shadow-lg shadow-gray-300 active:scale-95 transition-transform",children:""})]}),h.jsx("p",{className:"mt-8 text-[10px] text-gray-400",children:"SweetLedger PWA Protection"})]})}Ov.createRoot(document.getElementById("root")).render(h.jsx(o1.StrictMode,{children:h.jsx(Jue,{FallbackComponent:ece,children:h.jsx(uH,{children:h.jsx(RH,{children:h.jsx(Kue,{})})})})}));
